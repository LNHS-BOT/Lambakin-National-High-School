;/*FB_PKG_DELIM*/

__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=d("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent(),f;b[0]!==e||b[1]!==a?(f=i.createElement(c("CometAccessibilityAnnouncement.react"),babelHelpers["extends"]({},a,{key:e})),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5436864742990701"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5046975135324826"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("CommercePdpClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3002");b=d("FalcoLoggerInternal").create("commerce_pdp_click",a);e=b;g["default"]=e}),98);
__d("CommercePdpImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3006");b=d("FalcoLoggerInternal").create("commerce_pdp_impression",a);e=b;g["default"]=e}),98);
__d("CommercePdpScreenshotFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3109");b=d("FalcoLoggerInternal").create("commerce_pdp_screenshot",a);e=b;g["default"]=e}),98);
__d("CommercePdpSurfaceEnterFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3090");b=d("FalcoLoggerInternal").create("commerce_pdp_surface_enter",a);e=b;g["default"]=e}),98);
__d("CommerceTabFeedClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1878");b=d("FalcoLoggerInternal").create("commerce_tab_feed_click",a);e=b;g["default"]=e}),98);
__d("CommerceTabFeedVpvFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2317");b=d("FalcoLoggerInternal").create("commerce_tab_feed_vpv",a);e=b;g["default"]=e}),98);
__d("MarketplaceClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743922");b=d("FalcoLoggerInternal").create("marketplace_click",a);e=b;g["default"]=e}),98);
__d("MarketplaceDesktopAdsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MarketplaceDesktopAdsLoggerConfig")}),null);
__d("MarketplaceErrorDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6408");b=d("FalcoLoggerInternal").create("marketplace_error_debug",a);e=b;g["default"]=e}),98);
__d("MarketplaceImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743925");b=d("FalcoLoggerInternal").create("marketplace_impression",a);e=b;g["default"]=e}),98);
__d("MarketplaceModifyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743927");b=d("FalcoLoggerInternal").create("marketplace_modify",a);e=b;g["default"]=e}),98);
__d("CometMarketplaceLogger",["CommercePdpClickFalcoEvent","CommercePdpImpressionFalcoEvent","CommercePdpScreenshotFalcoEvent","CommercePdpSurfaceEnterFalcoEvent","CommerceTabFeedClickFalcoEvent","CommerceTabFeedVpvFalcoEvent","FBLogger","MarketplaceClickFalcoEvent","MarketplaceDesktopAdsTypedLoggerLite","MarketplaceErrorDebugFalcoEvent","MarketplaceImpressionFalcoEvent","MarketplaceModifyFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h="feed_product_item";function a(a){var b=a.eventName;a=a.extra;c("MarketplaceDesktopAdsTypedLoggerLite").logVital({event_name:b,extra:a})}function b(a,b,d,e,f){if(m(a,null,e==null?void 0:e.storyType,null,e==null?void 0:e.referralStoryType))return;var g="click",i=a===h;i&&!(e==null?void 0:e.storyType)?c("FBLogger")("marketplace").mustfix("story_type not set for %s on feed_product_item",g):i&&!(e==null?void 0:e.productItemID)&&c("FBLogger")("marketplace").mustfix("product_item_id not set for %s on feed_product_item",g);c("MarketplaceClickFalcoEvent").log(function(){return{c2cShippingIncentiveCampaignID:e==null?void 0:e.c2cShippingIncentiveCampaignID,categoryID:e==null?void 0:e.categoryID,componentHierarchy:[{component:e==null?void 0:e.parentComponent}],componentID:e==null?void 0:e.componentID,composerEntrypoint:e==null?void 0:e.composerEntrypoint,composerMode:e==null?void 0:e.composerMode,discountID:e==null?void 0:e.discountID,extraData:e==null?void 0:e.extraData,filterKey:e==null?void 0:e.filterKey,filterText:e==null?void 0:e.filterText,filterValue:e==null?void 0:e.filterValue,isRouteLocationSet:e==null?void 0:e.isRouteLocationSet,localDeliveryEnabled:e==null?void 0:e.localDeliveryEnabled,navigationChain:e==null?void 0:e.navigationChain,otherUserID:Number(e==null?void 0:e.otherUserID),predicted_categories:e==null?void 0:e.predicted_categories,productItemID:e==null?void 0:e.productItemID,referralCode:e==null?void 0:e.referralCode,referralStoryType:e==null?void 0:e.referralStoryType,referralSurface:d,referralUIComponent:f,selected_category:e==null?void 0:e.selected_category,seoUrl:e==null?void 0:e.seoUrl,serverSessionID:e==null?void 0:e.serverSessionID,storyType:e==null?void 0:e.storyType,surface:b,themeID:e==null?void 0:e.themeID,tracking:e==null?void 0:e.tracking,uiComponent:a,upsellType:e==null?void 0:e.upsellType,upsellTypeDetails:e==null?void 0:e.upsellTypeDetails,verificationFlowSource:e==null?void 0:e.verificationFlowSource,verificationHubStatus:e==null?void 0:e.verificationHubStatus,verificationType:e==null?void 0:e.verificationType,videoIds:e==null?void 0:e.videoIds}});i=e==null?void 0:e.analyticsComponent;g=e==null?void 0:e.analyticsExperience;var j=e==null?void 0:e.analyticsFeedType,k=e==null?void 0:e.analyticsPage,l=e==null?void 0:e.analyticsModule,n=e==null?void 0:e.navigationChain;if(i!=null&&k!=null&&g==="tab_feed"){var o={analytics_component:i,analytics_feed_type:(g=j)!=null?g:"unknown",analytics_page:k,legacy_referral_surface:(i=d)!=null?i:"",legacy_surface:(j=b)!=null?j:"",legacy_ui_component:a,navigation_chain:n,referral_code:(g=e==null?void 0:e.referralCode)!=null?g:"",referral_surface:"unknown",shopping_session_id:""};o=l!=null?babelHelpers["extends"]({},o,{analytics_module:l}):o;o=(e==null?void 0:e.productItemID)!=null?babelHelpers["extends"]({},o,{product_id:e==null?void 0:e.productItemID}):o;o=(e==null?void 0:e.upsellType)!=null?babelHelpers["extends"]({},o,{extra_data:{upsell_type_name:e==null?void 0:e.upsellType}}):o;c("CommerceTabFeedClickFalcoEvent").log(function(){return o})}}function d(a){var b=babelHelpers["extends"]({},a.extra_data);b.clienttime=Date.now().toString();var d=babelHelpers["extends"]({},a,{extra_data:b});c("MarketplaceErrorDebugFalcoEvent").log(function(){return d})}function e(a,b,d,e){c("MarketplaceModifyFalcoEvent").log(function(){return babelHelpers["extends"]({},e,{referralSurface:d,surface:b,uiComponent:a})})}function f(a,b,d,e,f){if(m(a,null,e==null?void 0:e.storyType,null,e==null?void 0:e.referralStoryType))return;var g="impression",i=a===h;i&&!(e==null?void 0:e.storyType)?c("FBLogger")("marketplace").mustfix("story_type not set for %s on feed_product_item",g):i&&!(e==null?void 0:e.productItemID)&&c("FBLogger")("marketplace").mustfix("product_item_id not set for %s on feed_product_item",g);c("MarketplaceImpressionFalcoEvent").log(function(){return{c2cShippingIncentiveCampaignID:e==null?void 0:e.c2cShippingIncentiveCampaignID,componentHierarchy:[{component:e==null?void 0:e.parentComponent}],componentID:e==null?void 0:e.componentID,extraData:e==null?void 0:e.extraData,isRouteLocationSet:e==null?void 0:e.isRouteLocationSet,localDeliveryEnabled:e==null?void 0:e.localDeliveryEnabled,navigationChain:e==null?void 0:e.navigationChain,otherUserID:Number(e==null?void 0:e.otherUserID),productItemID:e==null?void 0:e.productItemID,referralCode:e==null?void 0:e.referralCode,referralStoryType:e==null?void 0:e.referralStoryType,referralSurface:d,referralUIComponent:f,seoUrl:e==null?void 0:e.seoUrl,serverSessionID:e==null?void 0:e.serverSessionID,storyType:e==null?void 0:e.storyType,surface:b,themeID:e==null?void 0:e.themeID,tracking:e==null?void 0:e.tracking,uiComponent:a,upsellType:e==null?void 0:e.upsellType,upsellTypeDetails:e==null?void 0:e.upsellTypeDetails,verificationFlowSource:e==null?void 0:e.verificationFlowSource,verificationHubStatus:e==null?void 0:e.verificationHubStatus,verificationType:e==null?void 0:e.verificationType,videoIds:e==null?void 0:e.videoIds}});i=e==null?void 0:e.analyticsComponent;g=e==null?void 0:e.analyticsExperience;var j=e==null?void 0:e.analyticsFeedType,k=e==null?void 0:e.analyticsPage,l=e==null?void 0:e.analyticsModule,n=e==null?void 0:e.navigationChain;if(i!=null&&k!=null&&g==="tab_feed"){var o={analytics_component:i,analytics_feed_type:(g=j)!=null?g:"unknown",analytics_page:k,legacy_referral_surface:(i=d)!=null?i:"",legacy_surface:(j=b)!=null?j:"",legacy_ui_component:a,navigation_chain:n,referral_code:(g=e==null?void 0:e.referralCode)!=null?g:"",referral_surface:"unknown",shopping_session_id:""};o=l!=null?babelHelpers["extends"]({},o,{analytics_module:l}):o;o=(e==null?void 0:e.productItemID)!=null?babelHelpers["extends"]({},o,{product_id:e==null?void 0:e.productItemID}):o;o=(e==null?void 0:e.upsellType)!=null?babelHelpers["extends"]({},o,{extra_data:{upsell_type_name:e==null?void 0:e.upsellType}}):o;o=(e==null?void 0:e.category)!=null?babelHelpers["extends"]({},o,{extra_data:babelHelpers["extends"]({},o.extra_data,{category:e==null?void 0:e.category})}):o;c("CommerceTabFeedVpvFalcoEvent").log(function(){return o})}}function i(a){a.legacy_surface==="product_details"&&c("CommercePdpClickFalcoEvent").log(function(){return babelHelpers["extends"]({},a,{referral_surface:"unknown"})})}function j(a){a.legacy_surface==="product_details"&&c("CommercePdpScreenshotFalcoEvent").log(function(){return babelHelpers["extends"]({},a,{referral_surface:"unknown"})})}function k(a){a.legacy_surface==="product_details"&&c("CommercePdpImpressionFalcoEvent").log(function(){return babelHelpers["extends"]({},a)})}function l(a){a.legacy_surface==="product_details"&&c("CommercePdpSurfaceEnterFalcoEvent").log(function(){return babelHelpers["extends"]({},a)})}function m(a,b,d,e,f){var g=new Set(["ad","ad4ad","ad_upsell"]),h=new Set(["ad_boosted_listing","boosted_listing_upsell"]),i=new Set(["ad","ad_upsell"]);h=d!=null&&h.has(d==null?void 0:d.toLowerCase())||f!=null&&h.has(f==null?void 0:f.toLowerCase())||e!=null&&h.has(e==null?void 0:e.toLowerCase());e=d!=null&&g.has(d==null?void 0:d.toLowerCase())||f!=null&&g.has(f==null?void 0:f.toLowerCase())||a!=null&&i.has(a==null?void 0:a.toLowerCase())||b!=null&&i.has(b==null?void 0:b.toLowerCase());return e&&!h&&c("gkx")("23620")?!0:!1}g.logAdEvent=a;g.logClick=b;g.logDebug=d;g.logModify=e;g.logImpression=f;g.logCommercePDPClick=i;g.logCommercePDPScreenshot=j;g.logCommercePDPImpression=k;g.logCommercePDPSurfaceEnter=l;g.isAdsLoggingToRemoveForHummingbird=m}),98);
__d("CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMsgrSafetyInterventionsAboveComposerBannerFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionComponentBody",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_dismissable",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"image_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stock_image_type_v2",storageKey:null}],type:"XFBMsgrSafetyInterventionComponentStockImage",abstractKey:null}],storageKey:null}],type:"XFBMsgrSafetyInterventionAboveComposerBannerComponent",abstractKey:null};e.exports=a}),null);
__d("CometMsgrSafetyInterventionsAboveComposerBanner.react",["fbt","CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql","MWXCircleButton.react","MWXIconCross","MWXImage.react","MWXListCellPressable.react","MWXText.react","MWXTextPairing.react","RelayHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useState,m={boxShadow:"0px 1px 6px rgba(0, 0, 0, 0.1), 0px -4px 6px rgba(0, 0, 0, 0.1)",display:"block",marginTop:"10px"};i!==void 0?i:i=b("CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql");function a(a){var b=d("react-compiler-runtime").c(4);a=a.fragment$key;a=d("RelayHooks").useFragment(c("CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql"),a);var e=l(!1),f=e[0],g=e[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){g(!0)},b[0]=e):e=b[0];e=e;if((a==null?void 0:a.header)==null||a.body==null||a.is_dismissable==null||a.body.text==null)return null;if(b[1]!==a||b[2]!==f){e=!f&&k.jsx("div",{style:m,children:k.jsx(c("MWXListCellPressable.react"),{addOnEnd:a.is_dismissable===!0?k.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._(/*BTDS*/"__JHASH__qFXvD3Zto8M__JHASH__"),onPress:e,size:24}):k.jsx(k.Fragment,{}),addOnStart:((e=a.image)==null?void 0:e.image_type)==="STOCK_IMAGE"?k.jsx(c("MWXImage.react"),{src:n((e=a.image)==null?void 0:e.stock_image_type_v2)}):k.jsx(k.Fragment,{}),content:k.jsx(c("MWXTextPairing.react"),{body:k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:(e=a.body)==null?void 0:e.text}),headline:a.header,level:4})})});b[1]=a;b[2]=f;b[3]=e}else e=b[3];return e}function n(a){return a==="exclamation_mark_warning_filled"?"/images/messenger_web/msip/messenger_warning_alpha_light.png":""}g["default"]=a}),226);
__d("CometMsgrSafetyInterventionsUIEngineFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMsgrSafetyInterventionsUIEngineFragment",selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligible",kind:"LinkedField",name:"eligible_interventions",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"component",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"component_type",storageKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometMsgrSafetyInterventionsAboveComposerBannerFragment"}],type:"XFBMsgrSafetyInterventionAboveComposerBannerComponent",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBMsgrSafetyInterventionsOneToOneThreadResult",abstractKey:null};e.exports=a}),null);
__d("CometMsgrSafetyInterventionsUIEngine.react",["CometMsgrSafetyInterventionsAboveComposerBanner.react","CometMsgrSafetyInterventionsUIEngineFragment.graphql","RelayHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react");h!==void 0?h:h=b("CometMsgrSafetyInterventionsUIEngineFragment.graphql");var k=["ABOVE_COMPOSER_BANNER"];function a(a){var b=d("react-compiler-runtime").c(2);a=a.fragment$key;a=d("RelayHooks").useFragment(c("CometMsgrSafetyInterventionsUIEngineFragment.graphql"),a);if(a==null)return null;var e=a.eligible_interventions;if(e==null||e[0]==null)return null;e=a.eligible_interventions[0];if(!k.includes((a=e.component)==null?void 0:a.component_type))return null;switch((a=e.component)==null?void 0:a.component_type){case"ABOVE_COMPOSER_BANNER":b[0]!==e.component?(a=j.jsx(c("CometMsgrSafetyInterventionsAboveComposerBanner.react"),{fragment$key:e.component}),b[0]=e.component,b[1]=a):a=b[1];return a;default:return null}}g["default"]=a}),98);
__d("ComponentMountUnmountSubspanLogger.react",["InteractionTracingMetrics","hero-tracing-placeholder","performanceNow","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useContext,k=b.useEffect;function a(a){var b=d("react-compiler-runtime").c(4),e=a.description,f=j(d("hero-tracing-placeholder").HeroInteractionIDContext),g;b[0]!==e||b[1]!==f?(a=function(){var a=(h||(h=c("performanceNow")))();return function(){if(f!=null){var b=(h||(h=c("performanceNow")))();c("InteractionTracingMetrics").addSubspan(f,e,"AppTiming",a,b,{})}}},g=[e,f],b[0]=e,b[1]=f,b[2]=a,b[3]=g):(a=b[2],g=b[3]);k(a,g)}g["default"]=a}),98);
__d("E2EELinkPreviewXMASendStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({SENDING:1});f["default"]=a}),66);
__d("GroupsCometChatEditChatDialogQuery$Parameters",["GroupsCometChatEditChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatEditChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatEditChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometChatEditChatDialog.entrypoint",["GroupsCometChatEditChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("GroupsCometChatEditChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometChatEditChatDialog.react").__setRef("GroupsCometChatEditChatDialog.entrypoint")};g["default"]=a}),98);
__d("HelpdeskGeminiNullthrows",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="Got unexpected null or undefined");if(a==null)throw c("FBLogger")("hdwp").mustfixThrow(b);return a}g.nullthrows=a}),98);
__d("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch",["LSInsertAnonymousTaskContext","LSIssueNewTaskUsingSyncChannel","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("message_id",a[0]),d[0].set("content_ref",a[1]),d[0].set("video_ps_product_holdout_2024h2_launch",a[2]),d[1]=d[0].get("message_id"),d[4]=["LSMailboxAnonymizedMsgrWebE2EEXmaReceiverFetchSyncAction",".",d[1]].join(""),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskUsingSyncChannel"),d[4],c.i64.cast([0,1006]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),!1,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[3])},function(a){return c.storedProcedure(b("LSInsertAnonymousTaskContext"),d[3],"LS_MsgrXmaReceiverFetch")}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure",["LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch"),e.messageId,e.contentRef,e.videoPsProductHoldout2024h2Launch);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCommunityPublicGroupParticipationApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_PARTICIPATE:1,PARTICIPATION_REQUEST_REQUIRED:2,PARTICIPATION_REQUEST_PENDING:3});f["default"]=a}),66);
__d("LSContactListConversionAttributionStore",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a){return a!=null?g.get(a):null}function b(a,b){a!=null&&g.set(a,b)}function c(a){a!=null&&g["delete"](a)}f.getAttribution=a;f.setAttribution=b;f.resetAttribution=c}),66);
__d("LSEditMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(12).fetch([[[a[0]]],"messageId"]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,(b.i64.eq(a[1],b.i64.cast([0,20]))||b.i64.le(d.authorityLevel,a[1]))&&b.i64.le(a[3],b.i64.cast([0,5]))?b.forEach(b.filter(b.db.table(12).fetch([[[d.threadKey,d.timestampMs,a[0]]]]),function(c){return b.i64.eq(c.threadKey,d.threadKey)&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,d.timestampMs)&&c.messageId===a[0]}),function(c){var d=c.update;c.item;return d({authorityLevel:a[1],editCount:a[3],text:a[2],sendStatus:b.i64.eq(a[1],b.i64.cast([0,20]))?b.i64.cast([0,1]):b.i64.cast([0,2]),sendStatusV2:b.i64.eq(a[1],b.i64.cast([0,20]))?b.i64.cast([0,1]):b.i64.cast([0,2])})}):b.resolve())})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxEditMessageStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var f=a.done;a=a.value;return f?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",c.i64.cast([0,73]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSInThreadBannerExecuteCTAStoredProcedure";a.__tables__=["in_thread_banner_ctas"];e.exports=a}),null);
__d("LSExecuteCTAStoredProcedure",["LSExecuteCTA","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSExecuteCTA"),e.ctaId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],void 0)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return c.db.table(183).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[2]=c.i64.cast([0,1])}]):(f=e.item,c.sequence([function(e){return d[5]=f.nextCheckTimestampMs,d[4]=c.i64.of_float(Date.now()),c.i64.neq(d[5],void 0)&&c.i64.ge(d[4],d[5])?c.sequence([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[7]=new c.Map(),d[7].set("thread_key",a[0]),d[7].set("sync_group",d[0]),d[8]=c.toJSON(d[7]),c.storedProcedure(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[8],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[6]=c.i64.cast([0,1])}]):c.resolve((c.i64.neq(d[5],void 0)&&f.tag!==void 0?d[7]=c.i64.cast([0,2]):d[7]=c.i64.cast([0,3]),d[6]=d[7]))},function(a){return d[2]=d[6]}]))})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSProactiveWarningsFetchProactiveWarningsIfNeededStoredProcedure";a.__tables__=["threads","thread_proactive_warning_settings"];e.exports=a}),null);
__d("LSFetchProactiveWarningsIfNeededStoredProcedure",["LSFetchProactiveWarningsIfNeeded","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFetchProactiveWarningsIfNeeded"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSInitiateThreadMigration",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return a[3]!==void 0?(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("trace_id",a[3]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[2]=d[0].get("armadillo_thread_key"),d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[2]=d[0].get("armadillo_thread_key"),d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxInitiateThreadMigrationStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSInitiateThreadMigrationStoredProcedure",["LSInitiateThreadMigration","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSInitiateThreadMigration"),e.openMessageThreadKey,e.armadilloThreadKey,e.shouldCopyMessages,e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssuePointQueryForRollCallConversion",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("roll_call_id",a[1]),d[0].set("thread_key",a[0]),d[0].set("query_purpose",c.i64.cast([0,2])),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"roll_call_point_query",c.i64.cast([0,611]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssuePointQueryForRollCallConversionStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssuePointQueryForRollCallConversionStoredProcedure",["LSIssuePointQueryForRollCallConversion","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssuePointQueryForRollCallConversion"),e.threadKey,e.rollCallId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMessageTakedownState",[],(function(a,b,c,d,e,f){a=Object.freeze({TAKEN_DOWN_BY_META:1,TAKEN_DOWN_BY_ADMIN:2,GEO_BLOCKED:3,MESSENGER_KIDS_PARENT_UNSENT:4});f["default"]=a}),66);
__d("LSNullstateCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});f["default"]=a}),66);
__d("LSNullstateDescriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});f["default"]=a}),66);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(12).fetch([[[a[0]]],"messageId"]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,d[2]=f.editCount,d[1]=c.i64.of_float(Date.now()),c.i64.lt(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,5]))&&c.i64.le(d[1],c.i64.add(f.timestampMs,c.i64.cast([0,9e5])))?c.sequence([function(e){return c.storedProcedure(b("LSEditMessage"),f.messageId,c.i64.cast([0,20]),a[1],c.i64.add(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,1])))},function(e){return d[3]=new c.Map(),d[3].set("message_id",a[0]),d[3].set("text",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[4]=c.i64.add(d[7],c.i64.cast([0,0]))):d[4]=c.i64.cast([0,0]),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),"edit_message",c.i64.cast([0,742]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[4],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(a){return void 0!==void 0?(d[7]=c.i64.of_float(Date.now()),c.forEach(c.db.table(2).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({dataTraceId:void 0,initTraceTimestampMs:d[7]})})):c.resolve()}]):c.resolve(void 0!==void 0?0:0))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticEditMessageStoredProcedure";a.__tables__=["messages","pending_tasks"];e.exports=a}),null);
__d("LSOptimisticEditMessageStoredProcedure",["LSOptimisticEditMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticEditMessage"),e.messageId,e.text);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSPageType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,AI:1});f["default"]=a}),66);
__d("LSSetLoadingAfterOnMessageRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sortBy(b.db.table(13).fetch([[[a[0]]]]),[["maxTimestampMs","DESC"]]).next().then(function(a,c){var d=a.done;a=a.value;return d?0:(c=a.item,b.forEach(b.filter(b.db.table(13).fetch([[[c.threadKey,c.minTimestampMs,c.minMessageId]]]),function(a){return b.i64.eq(a.threadKey,c.threadKey)&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(a.minTimestampMs,c.minTimestampMs)&&a.minMessageId===c.minMessageId}),function(a){var b=a.update;a.item;return b({isLoadingAfter:!0})}))})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetLoadingAfterOnMessageRangesStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSReportThreadViewOpen",["LSIssueNewTaskWithExtraOperations","LSSetLoadingAfterOnMessageRanges"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0,void 0],d[0]=c[0],d[1]=c[1],c):(b=a.item,c=[b.syncGroup,b.threadType],d[0]=c[0],d[1]=c[1],c)})},function(a){return c.i64.neq(d[0],void 0)?c.sequence([function(a){return c.db.table(1).fetch([[[d[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=void 0:(b=a.item,d[14]=b.syncParams)})},function(a){return d[3]=d[14]}]):c.resolve(d[3]=void 0)},function(b){return c.islc(c.db.table(12).fetch([[[a[0],c.i64.cast([0,80])]],"messageDisplayOrderAuthority"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var c=a.done;a=a.value;return c?d[4]=void 0:(b=a.item,d[4]=b.timestampMs)})},function(b){return c.db.table(294).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[!1,c.i64.cast([0,0]),void 0],d[6]=e[0],d[7]=e[1],d[8]=e[2],e):(b=a.item,e=[b.isStale,b.threadQueueSequenceId,b.lastSelectiveSyncTimestampMs],d[6]=e[0],d[7]=e[1],d[8]=e[2],e)})},function(a){return d[6]?d[10]=!0:d[10]=!1,c.i64.neq(d[8],void 0)?(c.i64.eq(d[1],c.i64.cast([0,152]))?d[14]=c.i64.cast([0,0]):d[14]=c.i64.cast([0,0]),d[15]=c.i64.of_float(Date.now()),c.resolve()):c.resolve()},function(e){return d[11]=new c.Map(),d[11].set("thread_key",a[0]),d[11].set("is_stale",d[10]),d[11].set("client_seq_id",d[7]),d[11].set("sync_params_encoded",d[3]),d[11].set("client_last_sync_timestamp_ms",d[8]),d[11].set("sync_group",d[0]),d[11].set("last_message_timestamp_ms",d[4]),d[12]=d[11].get("thread_key"),d[13]=c.toJSON(d[11]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["report_thread_view_open","_",c.i64.to_string(d[12])].join(""),c.i64.cast([0,605]),d[13],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxReportThreadViewOpenStoredProcedure";a.__tables__=["threads","sync_groups","messages","community_thread_sync_info"];e.exports=a}),null);
__d("LSReportThreadViewOpenStoredProcedure",["LSReportThreadViewOpen","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSReportThreadViewOpen"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"ctm_ad_context",c.i64.cast([0,235]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMessagingAdsRequestAdContextFromThreadKeyStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSRequestAdContextFromThreadKeyStoredProcedure",["LSRequestAdContextFromThreadKey","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRequestAdContextFromThreadKey"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(b){return d[4]=["typing","_",c.i64.to_string(a[0])].join(""),c.forEach(c.filter(c.db.table(5).fetch(),function(a){return d[4]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("is_group_thread",a[1]),d[2].set("is_typing",a[2]),d[2].set("attribution",c.i64.cast([0,0])),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),d[4],c.i64.cast([0,3]),d[3])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSTypingSendTypingIndicatorStoredProcedure";a.__tables__=["threads","pending_fire_and_forget_tasks"];e.exports=a}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSendTypingIndicator"),e.threadKey,e.isGroupThread,e.isTyping);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask","LSLocalize"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[4]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[5]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[4],d[5],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"marketplace_server_mutation_cta",c.i64.cast([0,279]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMarketplaceServerMutationCtaStoredProcedure";a.__tables__=["user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSServerMutationCtaStoredProcedure",["LSServerMutationCta","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSServerMutationCta"),e.threadKey,e.marketplaceCtaType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSThreadPointQueryTTRCStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({COMPLETED:1,SKIPPED:2});f["default"]=a}),66);
__d("LSTypingIndicatorSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("LSUpdateE2eeHdMediaSettings",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.forEach(c.db.table(288).fetch([[[d[0]]]]),function(b){var c=b.update;b.item;return c({e2eeHdMediaEnabled:a[0]})})},function(e){return d[1]=new c.Map(),d[1].set("hd_media_enabled",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"toggle_e2ee_hd_media_settings",c.i64.cast([0,1030]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsUpdateE2eeHdMediaSettingsStoredProcedure";a.__tables__=["messaging_privacy_settings"];e.exports=a}),null);
__d("LsBotComposerQuickReplyDisplayedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743836");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_displayed",a);e=b;g["default"]=e}),98);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743837");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e=b;g["default"]=e}),98);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743846");b=d("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e=b;g["default"]=e}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743878");b=d("FalcoLoggerInternal").create("ls_reply_rendered",a);e=b;g["default"]=e}),98);
__d("MAWAttachmentSizeUtils",["I64","LSIntEnum","MWMessageListImageSizingUtils","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.previewHeight!=null?(h||(h=d("I64"))).to_float(a.previewHeight):a.previewHeightLarge!=null?(h||(h=d("I64"))).to_float(a.previewHeightLarge):void 0;a=a.previewWidth!=null?(h||(h=d("I64"))).to_float(a.previewWidth):a.previewWidthLarge!=null?(h||(h=d("I64"))).to_float(a.previewWidthLarge):void 0;return{height:b,width:a}}function j(a,b){var c=a.height;a=a.width;c=Math.min((c=c)!=null?c:200,200);a=Math.min((a=a)!=null?a:480,b==="Inbox"?500:167);return{maxHeight:c,maxWidth:a}}function b(a,b){var e,f=a==null?void 0:a.type;a=a.size;var g=a.height;a=a.width;switch(!0){case(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):case(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):return d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!0,(e=b)!=null?e:void 0,!1);case(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):return j({height:g,width:a},b)}return{maxHeight:void 0,maxWidth:void 0}}g.getSizeFromAttachment=a;g.getMaxSizeForVideo=j;g.getMaxSize=b}),98);
__d("MAWBumpThread",["MAWLogAuthThreadWith0LAT","ODS","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.description;var b=a.lastActivityTs,c=a.lastMessageCtaType,e=a.lastReadTs,f=a.snippet,g=a.snippetSenderContactId,i=a.threadKey;a=a.txn;i=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(i)));if(i==null)return(h||(h=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","missing_thread");g=(g=g)!=null?g:i.snippetSenderContactId;c=babelHelpers["extends"]({},i,{lastActivityTimestampMs:(b=b)!=null?b:i.lastActivityTimestampMs,lastMessageCtaType:c,lastReadWatermarkTimestampMs:(b=e)!=null?b:i.lastReadWatermarkTimestampMs,snippet:f,snippetSenderContactId:g});d("MAWLogAuthThreadWith0LAT").logAuthThreadWith0LAT(c,"MAWBumpThread");yield a.threads.put(c)});return i.apply(this,arguments)}g.threadMutation_DEPRECATED=a}),98);
__d("MAWChatFile.react",["MAWFilePressable.react","MWChatFilePreview.react","MWXTextPairing.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.file,f=a.getFileUrl,g=a.mediaRenderQpl;a=a.renderUnsupportedAttachment;var i;b[0]!==e?(i=function(a){var b=a.filename;a=a.size;return j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.root,!1),{children:[j.jsx(c("MWChatFilePreview.react"),{attachment:e,withPreview:!1}),j.jsxs("div",babelHelpers["extends"]({className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1ye3gou x1pi30zi x13faqbe"},{children:[j.jsx(c("MWXTextPairing.react"),{headline:b,headlineLineLimit:3,level:4}),j.jsx("div",babelHelpers["extends"]({className:"x889kno"},{children:j.jsx(c("MWXTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:1,level:4})}))]}))]}))},b[0]=e,b[1]=i):i=b[1];var l;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==a||b[6]!==i?(l=j.jsx(c("MAWFilePressable.react"),{entrypoint:"chat_file_v4",file:e,getFileUrl:f,mediaRenderQpl:g,renderUnsupportedAttachment:a,testid:void 0,children:i}),b[2]=e,b[3]=f,b[4]=g,b[5]=a,b[6]=i,b[7]=l):l=b[7];return l}g["default"]=a}),98);
__d("MAWChatLiveLocationDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9359868544049600"}),null);
__d("MAWChatLiveLocationDialogQuery$Parameters",["MAWChatLiveLocationDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MAWChatLiveLocationDialogQuery_facebookRelayOperation"),metadata:{},name:"MAWChatLiveLocationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MAWChatLiveLocationDialog.entrypoint",["JSResourceForInteraction","MAWChatLiveLocationDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:c("MAWChatLiveLocationDialogQuery$Parameters"),variables:{data:{client_subscription_id:a.clientSubscriptionId,thread_key:a.threadKey}}}}}},root:c("JSResourceForInteraction")("MAWChatLiveLocationDialog.react").__setRef("MAWChatLiveLocationDialog.entrypoint")};g["default"]=a}),98);
__d("MAWCreateOptimisticSecureMessage",["EntMessageReplyType","I64","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessageSendStatus","LSQuickReplyType","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBridgeBuildMsg","MAWMsgReplySnippet","MessagingAttachmentType","QPLUserFlow","ReQL","asyncToGeneratorRuntime","isMWBumpMessage","qpl","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(e==null)return[void 0,void 0];var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(b,e.timestampMs,e.messageId)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_msg_end",{instanceKey:f});a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,e.messageId)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_attachment_end",{instanceKey:f});return[g,a]});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b)));return a==null?void 0:a.firstName});return m.apply(this,arguments)}function n(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(b==null)return;var g=c("isMWBumpMessage")(b.replyType)&&b.replyToUserId!=null?b.replyToUserId:b.senderId;a=(yield l(a,g));return(f=d("MAWMsgReplySnippet").buildLocalizedReplySnippet({isAuthorMe:!0,isBumpMsg:f,isDeletedMsg:b.replyStatus===c("LSReplyMessageStatus").DELETED,recipientName:a,replySenderIsMe:(h||(h=d("I64"))).equal(g,e)}))==null?void 0:f.toString()});return o.apply(this,arguments)}function p(a){if(a==null)return;var b=a.attachmentType;return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))?a.previewUrl:void 0}function q(a){if(a!=null){if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF);return(h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE):(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER)}}function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,k,l,m,o,r,s,t,u){var v=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("optimistic_message_get_reply",l,function(){return j(b,h,f,l)})),w=v[0];v=v[1];g=d("MAWBridgeBuildMsg").buildOptimisticMessage(g,w,m,t);m=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("optimistic_message_reply_snippet",l,function(){return n(a,w,e,u===!0)}));t=babelHelpers["extends"]({},g,{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),displayedContentTypes:i.ofNumber(s),hasQuickReplies:!1,hotEmojiSize:k,isAdminMessage:!1,isCollapsed:!1,isUnsent:!1,messageId:o,offlineThreadingId:o,primarySortKey:r,quickReplyType:i.ofNumber(c("LSQuickReplyType").NONE),replyAttachmentType:q(v),replyMediaPreviewHeight:v==null?void 0:v.previewHeight,replyMediaPreviewWidth:v==null?void 0:v.previewWidth,replyMediaUrl:p(v),replyMediaUrlMimeType:v==null?void 0:v.playableUrlMimeType,replySnippet:m,replySourceId:f==null?void 0:f.messageId,replySourceType:f!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:f!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,replyType:u===!0?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP):void 0,senderId:e,sendStatus:i.ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:i.ofNumber(1),textHasLinks:!1,threadKey:h,timestampMs:r,transportKey:"WhatsApp",viewFlags:i.ofNumber(0)});return t});return r.apply(this,arguments)}g.buildOptimisticLsMessage=a}),98);
__d("MAWOptimisticMessageUtils",["I64","LSAuthorityLevel","LSHotEmojiSize","LSIntEnum","MAWAckLevel","MAWAdminMsg","MAWBridgeBuildMsgMentions","MAWBumpThread","MAWLocalizationType","MAWMsgType","MessagingAttachmentType","ReQL","WAJids","WATimeUtils","asyncToGeneratorRuntime","cr:2472","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){return d("WATimeUtils").millisTime()}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.threads.index("lastActivityTimestampMs"))));return a==null||(h||(h=d("I64"))).equal(a.threadKey,b)?null:(h||(h=d("I64"))).add(a.lastActivityTimestampMs,h.one)});return k.apply(this,arguments)}function e(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=e.hotEmojiSize,g=e.mentionedJids,k=e.messageText,l=e.senderId,n=e.threadKey;e=e.ts;k=b("cr:2472")==null?k:b("cr:2472").unvault(k);f=f!=null&&(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))&&k==="\ud83d\udc4d";f=f?"(Y)":m(k,g);k=d("MAWAdminMsg").buildLocalizedString([f],[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT);g=null;c("qex")._("1706")?g=(yield j(a,n)):g=e;yield d("MAWBumpThread").threadMutation_DEPRECATED({description:"MAWOptimisticMessageUtils",lastActivityTs:g,lastReadTs:g,snippet:k,snippetSenderContactId:l,threadKey:n,txn:a})});return l.apply(this,arguments)}function m(a,b){b=d("MAWBridgeBuildMsgMentions").buildThreadSnippetWithMentions(a,b,[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT);var c=b[0];b[1];return(b=c)!=null?b:a}function f(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.optimisticMediaAttachment,f=b.senderId,g=b.threadKey;b=b.timestampMsI64;e=r(e.type);if(e!=null){var h=null;c("qex")._("1706")?h=(yield j(a,g)):h=b;yield d("MAWBumpThread").threadMutation_DEPRECATED({description:"MAWCreateOptimisticSecureMessageWithAttachment",lastActivityTs:h,lastReadTs:h,snippet:e,snippetSenderContactId:f,threadKey:g,txn:a})}});return n.apply(this,arguments)}function o(a){var b=a.ephemeralSettings,c=a.externalId,e=a.threadJid;a=a.ts;return{ack:d("MAWAckLevel").ACK.partialOptimistic,altIndex:void 0,author:d("WAJids").AUTHOR_ME,ephemeralSetting:(b=b)!=null?b:void 0,externalId:c,isForwarded:!1,specialTextSize:void 0,threadJid:e,ts:d("WATimeUtils").castMilliSecondsToUnixTime(a)}}function p(a){var b=a.commands,c=a.content,d=a.initiatingSource,e=a.isFirstMsg,f=a.mentionedJids,g=a.optimisticMsg,h=a.quote,i=a.specialTextSize;a=a.threadSource;return{commands:b==null?void 0:b.slice(),content:c,initiatingSource:d,isFirstMsg:e,isForwarded:!1,mentionedJids:f==null?void 0:f.slice(),openMessageOtid:void 0,openMessageParticipantCount:void 0,optimisticMsg:g,participantCount:void 0,quote:h,source:a,specialTextSize:i}}function q(a){var b=a.optimisticMediaAttachment,e=a.threadKey,f=a.timestampMsI64;e={attachmentFbid:a.offlineAttachmentId,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:a.attachmentType,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),filename:b==null?void 0:b.filename,hasMedia:!h.equal(a.attachmentType,i.ofNumber(c("MessagingAttachmentType").XMA)),hasXma:h.equal(a.attachmentType,i.ofNumber(c("MessagingAttachmentType").XMA)),isHd:a.isHd,isSharable:!1,messageId:a.messageExternalId,offlineAttachmentId:a.offlineAttachmentId,subtitleText:a.subtitleText,threadKey:e,timestampMs:f,titleText:a.titleText,transportKey:"WhatsApp"};if(b){e=babelHelpers["extends"]({},e,{filesize:(h||(h=d("I64"))).of_float(b.file.size),previewUrl:b.url});if(b.type==="image"||b.type==="animated_image"||b.type==="video"||b.type==="sticker"){e=babelHelpers["extends"]({},e,{previewHeight:((f=b.thumbnailSpec)==null?void 0:f.height)?(h||(h=d("I64"))).of_float((a=b.thumbnailSpec)==null?void 0:a.height):void 0,previewWidth:((f=b.thumbnailSpec)==null?void 0:f.width)?(h||(h=d("I64"))).of_float((a=b.thumbnailSpec)==null?void 0:a.width):void 0})}}return e}function r(a){switch(a){case"animated_image":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_GIF);case"image":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_IMAGE);case"video":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_VIDEO);case"audio":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_AUDIO);case"document":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_ATTACHMENT);case"sticker":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_STICKER);default:return null}}function s(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER):return d("MAWMsgType").MSG_TYPE.STICKER;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE):return d("MAWMsgType").MSG_TYPE.IMAGE;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE):return d("MAWMsgType").MSG_TYPE.GIF;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO):return d("MAWMsgType").MSG_TYPE.VIDEO;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO):return d("MAWMsgType").MSG_TYPE.PTT;default:return d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE}}function t(a){if(a==null)return;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL)))return 1;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM)))return 2;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))return 3}g.getOptimisticMessageTimestamp=a;g.getOptimisticThreadBumpTimestamp=j;g.optimisticBumpThread=e;g.optimisticBumpThreadMedia=f;g.buildMAWOptimisticBaseMsg=o;g.buildMAWBaseSendMsgArgs=p;g.buildOptimisticAttachment=q;g.lsAttachmentTypeToMsgType=s;g.getSpecialTextSize=t}),98);
__d("MAWCreateOptimisticSecureMessageWithAttachment",["I64","MAWCreateOptimisticSecureMessage","MAWOptimisticMessageUtils","MAWSendFileMsgTypes","QPLUserFlow","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d,e,f,g,h,j,k,l,m,n){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,i,k,l,m,n,o,p,q){m(o);m=d("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp();var r=(h||(h=d("I64"))).of_float(m);a=(yield d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(a,b,e,f,"",g,void 0,l,void 0,o,r,j(k.type)));f=p==null?void 0:p.get(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(i));f!=null&&(a=babelHelpers["extends"]({},a,{groupId:f.groupId,groupIndex:(h||(h=d("I64"))).of_float(f.groupIndex),groupSize:h.of_float(f.groupSize)}));yield b.messages.add(a);p=d("MAWOptimisticMessageUtils").buildOptimisticAttachment({attachmentType:n,isHd:q,messageExternalId:o,offlineAttachmentId:i,optimisticMediaAttachment:k,senderId:e,threadKey:g,timestampMsI64:r});yield b.attachments.add(p);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:l});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:l});yield d("MAWOptimisticMessageUtils").optimisticBumpThreadMedia(b,{optimisticMediaAttachment:k,senderId:e,threadKey:g,timestampMsI64:r});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:l});return{messageExternalId:o,offlineAttachmentId:d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(i),offlineMsgTimestamp:m}});return i.apply(this,arguments)}function j(a){switch(a){case"animated_image":return 16384;case"image":return 2;case"video":return 2;case"audio":return 4;case"document":return 64;case"sticker":return 4096;default:return 1}}g.createOptimisticMessageWithAttachment=a}),98);
__d("MAWDumbRangeDataSource",["I64","ReplayLastSubject","asyncToGeneratorRuntime","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){this.getOrCreateMessageRangeCoveringCursor=function(a,b,c){return d("relay-runtime").Observable.from(new(d("ReplayLastSubject").ReplayLastSubject)({range:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"",maxTimestampMs:(h||(h=d("I64"))).max_int,minMessageId:(b=a.messageId)!=null?b:"",minTimestampMs:h.min_int,threadKey:a.threadKey},rangeExternalIds:{maxExternalId:null,minExternalId:null},type:"range_only"}))},this.extendRange=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e){});return function(b,c,d,e,f){return a.apply(this,arguments)}}(),this.truncateMessageRange=function(a){}},j;function a(){j==null&&(j=new i());return j}g["default"]=a}),98);
__d("MAWFetchExternalAttachmentBlob",["asyncToGeneratorRuntime","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield window.fetch(a,{}).then(function(a){return a.blob()})["catch"](function(a){d("sendToSentQPLLogger").markSendToSentPoint(b,"fetch_external_attachment_failed");throw a}));return a});return h.apply(this,arguments)}g.fetchExternalAttachmentBlob=a}),98);
__d("MAWLinkPreviewDataStatusUtils",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(b))}g.linkPreviewDataStatusIsOfType=a}),98);
__d("MAWLinkPreviewDataTypeUtils",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(b))}g.linkPreviewDataTypeIsOfType=a}),98);
__d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector",["MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){var c=b.offlineQueueCount,e=b.offlineQueueSyncState;b=b.offlineQueueThreadStatus;return a!=null&&Object.keys(b).length>0?b[a]!=null&&b[a].chatStatus!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete:c>0&&e!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}};g.outstandingUIReadyOfflineQueueSelector=a}),98);
__d("MAWMessageAssociatedDataContext",["I64","MWPActor.react","MWPMessageReactions.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));c=h;e=c.createContext;c.useMemo;var k=e({reactions:[],selectedReaction:null});function a(a){var b=d("react-compiler-runtime").c(11),c=a.children;a=a.reactions;var e=d("MWPActor.react").useActor();if(b[0]!==e||b[1]!==a){var f;b[3]!==e?(f=function(a){return(i||(i=d("I64"))).equal(a.actorId,e)},b[3]=e,b[4]=f):f=b[4];f=a.filter(f).at(0);b[0]=e;b[1]=a;b[2]=f}else f=b[2];f=f;var g;b[5]!==a||b[6]!==f?(g={reactions:a,selectedReaction:f},b[5]=a,b[6]=f,b[7]=g):g=b[7];a=g;f=a;b[8]!==f||b[9]!==c?(g=j.jsx(k.Provider,{value:f,children:c}),b[8]=f,b[9]=c,b[10]=g):g=b[10];return g}function b(a){var b=d("react-compiler-runtime").c(11),c=a.children;a=a.message;var e=d("MWPActor.react").useActor();a=d("MWPMessageReactions.react").useReactions(a);if(b[0]!==e||b[1]!==a){var f;b[3]!==e?(f=function(a){return a.actorId===e},b[3]=e,b[4]=f):f=b[4];f=a.filter(f);b[0]=e;b[1]=a;b[2]=f}else f=b[2];f=f[0];var g;b[5]!==a||b[6]!==f?(g={reactions:a,selectedReaction:f},b[5]=a,b[6]=f,b[7]=g):g=b[7];a=g;f=a;b[8]!==f||b[9]!==c?(g=j.jsx(k.Provider,{value:f,children:c}),b[8]=f,b[9]=c,b[10]=g):g=b[10];return g}g.MAWMessageAssociatedDataContext=k;g.MAWMessageAssociatedDataContextProvider=a;g.MAWMessageAssociatedDataContextFetchReactionsLSProvider=b}),98);
__d("MAWMessageIntegrityCheckDeferred",["promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMessageIntegrityCheck").__setRef("MAWMessageIntegrityCheckDeferred");function a(a,b,d,e,g,i,j,k,l){h.onReady(function(h){return c("promiseDone")(h.runMessageIntegrityCheck(a,b,d,e,g,i,j,k,l))})}g.runMessageIntegrityCheckDeferred=a}),98);
__d("MAWMessageIntegrityCheckFlytrapQueue",["FBLogger","I64","LSDatabaseSingleton","MAWMessageIntegrityCheckFlytrapResultCache","MAWMessageIntegrityEBFetchStatus","Promise","asyncToGeneratorRuntime","justknobx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("MAWMessageIntegrityFetchAndCompareData").__setRef("MAWMessageIntegrityCheckFlytrapQueue"),l=c("justknobx")._("3629"),m=[],n=null;function a(a){var b=d("MAWMessageIntegrityCheckFlytrapResultCache").generateMessageIntegrityCheckPageKey(a.threadKey,a.uiMessages);if(b==null)return;m.push([b,a]);m.length>l&&m.shift()}function e(){if(n!=null)return n;n=new(j||(j=b("Promise")))(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{var c=[].concat(m);c=(yield o(c.reverse()));a(c)}catch(a){b(a)}finally{n=null}});return function(b,c){return a.apply(this,arguments)}}());return n}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield k.load()),f=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);a=(yield (j||(j=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0];a=a[1];var g=a.lastItemFromPreviousPage,h=a.pageSize,j=a.threadKey;a=a.uiMessages;var k=d("MAWMessageIntegrityCheckFlytrapResultCache").getMessageIntegrityCheckResult(b);if(k!=null)return[j,k];var l=d("MAWMessageIntegrityEBFetchStatus").hasEBFailure(j);l=(yield e.fetchAndCompareMessagesData({db:f,hasEbFetchFailed:l,lastItemFromPreviousPage:g,localMessages:a,pageSize:h,threadKey:j}));if(l.success===!1){c("FBLogger")("messenger_web_missing_messages").info("Message Integrity Check skipped for threadKey %s, reason %s",(i||(i=d("I64"))).to_float(j),l.error);return null}k=l.value.missingInTargetCategory;d("MAWMessageIntegrityCheckFlytrapResultCache").cacheMessageIntegrityCheckResult(b,k);return[j,k]});return function(b){return a.apply(this,arguments)}}())));return q(a.filter(Boolean))});return p.apply(this,arguments)}function q(a){return a.reduce(function(a,b){var c=b[0];b=b[1];if(b.length===0)return a;var e=(i||(i=d("I64"))).to_float(c);a.threadKeyToCategoryMapByExternalIds[e]==null&&(a.threadKeyToCategoryMapByExternalIds[e]={});b.forEach(function(b){var c=b[0];b=b[1];a.threadKeyToCategoryMapByExternalIds[e][c.externalId]=b});return a},{numPagesChecked:a.length,threadKeyToCategoryMapByExternalIds:{}})}g.enqueueFlytrapMessageIntegrityCheck=a;g.getFlytrapMissingMessageReport=e}),98);
__d("MWV2AudioAttachmentErrorPlaceholder.react",["I64","MWPAudioHighlightStylesHooks","MWPAudioPlaybackButton.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXMessageBubbleCornerStyles.react","emptyFunction","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef;function a(a){var b=d("react-compiler-runtime").c(35),e=a.attachment,f=a.connectBottom,g=a.connectTop,i=a.isReply,n=a.isRetryableError,o=a.mediaRenderQpl,p=a.message,q=a.onRetry,r=a.outgoing;a=a.width;i=i===void 0?!1:i;var s=e.playableDurationMs;s=(j||(j=d("I64"))).to_float((s=s)!=null?s:(j||(j=d("I64"))).zero)/1e3;f=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:r===!0?"right":"left",connectBottom:f,connectTop:g});g=d("MWPAudioPlayerUtils").useControlCenter(void 0,void 0,p.messageId,void 0,c("emptyFunction"),!1,s,o);var t=g[2];g=g[4];if(b[0]!==p.ephemeralDurationInSec){var u;u=(j||(j=d("I64"))).gt((u=p.ephemeralDurationInSec)!=null?u:(j||(j=d("I64"))).zero,j.zero);b[0]=p.ephemeralDurationInSec;b[1]=u}else u=b[1];p=u;u=m();var v=d("MWPAudioHighlightStylesHooks").useHighlightStyles(r);a=d("MWPAudioPlayerUtils").useCalculatePlayerWidth(a,p);p=a+"px";b[2]!==p?(a={width:p},b[2]=p,b[3]=a):a=b[3];p=a;var w;b[4]!==n||b[5]!==o?(a=function(){o==null?void 0:o.addPoint("render-audio-error-placeholder",{bool:{is_retryable_error:n}})},w=[o,n],b[4]=n,b[5]=o,b[6]=a,b[7]=w):(a=b[6],w=b[7]);l(a,w);a=c("MWPAudioPlayerContainer.react");w=!1;var x=null,y="mw_audio_player_error_placeholder";y=d("MWPAudioPlayerUtils").UseCase;f=(h||(h=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.common,f,r?d("MWPAudioPlayerSharedStyles").styles.commonOutgoing:d("MWPAudioPlayerSharedStyles").styles.commonIncoming,i&&d("MWPAudioPlayerSharedStyles").styles.commonReply,r&&i&&d("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply);i=e.isAttachmentConsumed===!0;b[8]!==q?(e=function(){q&&q()},b[8]=q,b[9]=e):e=b[9];var z;b[10]!==n||b[11]!==r||b[12]!==e?(z=k.jsx(c("MWPAudioPlaybackButton.react"),{disabled:!0,hasEnded:!1,isError:!0,isLoading:!1,isPaused:!1,isPlaying:!1,isRetryableError:n,onPress:e,outgoing:r,scrubberRef:u}),b[10]=n,b[11]=r,b[12]=e,b[13]=z):z=b[13];b[14]!==t||b[15]!==s||b[16]!==v||b[17]!==r||b[18]!==g||b[19]!==i||b[20]!==z?(e=k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:t,currentTime:s,disabled:!0,duration:s,hasEnded:!1,hasScrubber:!1,isListened:i,isPlaying:!1,onUpdateScrubber:c("emptyFunction"),outgoing:r,progressHighlightRef:g,scrubberRef:u,waveformData:null,xstyle:v,children:z}),b[14]=t,b[15]=s,b[16]=v,b[17]=r,b[18]=g,b[19]=i,b[20]=z,b[21]=e):e=b[21];b[22]!==s||b[23]!==r?(v=k.jsx("div",{children:k.jsx(c("MWPAudioPlayerTimer.react"),{disabled:!0,outgoing:r,time:s})}),b[22]=s,b[23]=r,b[24]=v):v=b[24];b[25]!==f||b[26]!==e||b[27]!==v?(g=k.jsxs("div",babelHelpers["extends"]({},f,{children:[e,v]})),b[25]=f,b[26]=e,b[27]=v,b[28]=g):g=b[28];b[29]!==a||b[30]!==t||b[31]!==p||b[32]!==y.PLAYER||b[33]!==g?(i=k.jsx(a,{audioEl:t,hasScrubber:w,mediaRenderQpl:x,scrubberRef:u,style:p,testid:void 0,useCase:y.PLAYER,children:g}),b[29]=a,b[30]=t,b[31]=p,b[32]=y.PLAYER,b[33]=g,b[34]=i):i=b[34];return i}g["default"]=a}),98);
__d("MAWSecureAudioAttachmentContent.react",["CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWAudioPlayer.react","MWPAudioPlayerUtils","MWV2AudioAttachmentErrorPlaceholder.react","mwpMessageIsReply","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(29),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPlayableUrl,k=a.mediaRenderQpl,l=a.message,m=a.outgoing,n;b[0]!==k?(a=function(){k==null?void 0:k.addPoint("render-audio-attachment")},n=[k],b[0]=k,b[1]=a,b[2]=n):(a=b[1],n=b[2]);j(a,n);a=d("MWPAudioPlayerUtils").useCalculatePlayerWidth();n=d("MWPAudioPlayerUtils").useCalculatePlayerHeight(d("MWPAudioPlayerUtils").UseCase.PLAYER);var o;b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==k||b[7]!==l||b[8]!==m?(o=function(a,b){return i.jsx(c("MWV2AudioAttachmentErrorPlaceholder.react"),{attachment:g,connectBottom:e,connectTop:f,isRetryableError:a,mediaRenderQpl:k,message:l,onRetry:b,outgoing:m})},b[3]=e,b[4]=f,b[5]=g,b[6]=k,b[7]=l,b[8]=m,b[9]=o):o=b[9];var p=o;b[10]!==e||b[11]!==f||b[12]!==g||b[13]!==p||b[14]!==h||b[15]!==k||b[16]!==l||b[17]!==m?(o=function(a){return i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureAudioAttachmentContentV2.Suspense",!0),name:"MAWSecureAudioAttachmentContentV2.Suspense",children:i.jsx(c("MWAudioPlayer.react"),{attachment:g,connectBottom:e,connectTop:f,getPlayableUrl:h,isReply:c("mwpMessageIsReply")(l),isSecure:!0,mediaRenderQpl:k,message:l,outgoing:m,renderUnsupportedAttachment:function(){return p(!1)}})})},b[10]=e,b[11]=f,b[12]=g,b[13]=p,b[14]=h,b[15]=k,b[16]=l,b[17]=m,b[18]=o):o=b[18];o=o;var q;b[19]!==e||b[20]!==f||b[21]!==g||b[22]!==p||b[23]!==k||b[24]!==m||b[25]!==n||b[26]!==a||b[27]!==o?(q=i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:e,connectTop:f,dbAttachment:g,descriptionForLogging:"MAWSecureAudioAttachmentContentV2",errorComponentRenderer:p,mediaRenderQpl:k,outgoing:m,placeholderHeight:n,placeholderWidth:a,successfulComponentRenderer:o}),b[19]=e,b[20]=f,b[21]=g,b[22]=p,b[23]=k,b[24]=m,b[25]=n,b[26]=a,b[27]=o,b[28]=q):q=b[28];return q}g["default"]=a}),98);
__d("MWV2SecureFileAttachmentErrorPlaceholder.react",["MWChatFilePreview.react","MWFileUtils","MWXTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b,e=d("react-compiler-runtime").c(25),f=a.file,g=a.isRetryableError,h=a.mediaRenderQpl;a=a.onRetry;b=(b=f.filename)!=null?b:d("MWFileUtils").PLACEHOLDER_FILENAME;var k;e[0]!==b?(k=b.toString(),e[0]=b,e[1]=k):k=e[1];b=k;e[2]!==f?(k=d("MWFileUtils").getFileSize(f),e[2]=f,e[3]=k):k=e[3];k=k;var l,m;e[4]!==g||e[5]!==h?(l=function(){h==null?void 0:h.addPoint("render-file-error-placeholder",{bool:{is_retryable_error:g}})},m=[h,g],e[4]=g,e[5]=h,e[6]=l,e[7]=m):(l=e[6],m=e[7]);j(l,m);e[8]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"x6s0dn4 x78zum5 x87ps6o"},e[8]=l):l=e[8];e[9]!==f||e[10]!==g||e[11]!==a?(m=i.jsx(c("MWChatFilePreview.react"),{attachment:f,isError:!0,isRetryableError:g,onRetry:a,withPreview:!1}),e[9]=f,e[10]=g,e[11]=a,e[12]=m):m=e[12];e[13]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1x80s81 x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1ye3gou x1pi30zi x13faqbe"},e[13]=f):f=e[13];e[14]!==b?(a=i.jsx(c("MWXTextPairing.react"),{headline:b,headlineColor:"disabled",headlineLineLimit:3,level:4}),e[14]=b,e[15]=a):a=e[15];e[16]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x1x80s81 x889kno"},e[16]=b):b=e[16];e[17]!==k?(b=i.jsx("div",babelHelpers["extends"]({},b,{children:i.jsx(c("MWXTextPairing.react"),{body:k,bodyColor:"disabled",bodyLineLimit:1,level:4})})),e[17]=k,e[18]=b):b=e[18];e[19]!==b||e[20]!==a?(k=i.jsxs("div",babelHelpers["extends"]({},f,{children:[a,b]})),e[19]=b,e[20]=a,e[21]=k):k=e[21];e[22]!==k||e[23]!==m?(f=i.jsxs("div",babelHelpers["extends"]({},l,{"data-testid":void 0,children:[m,k]})),e[22]=k,e[23]=m,e[24]=f):f=e[24];return f}g["default"]=a}),98);
__d("MAWSecureFileAttachmentContent.react",["CometPlaceholder.react","MAWChatFile.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentErrorPlaceholder.react","MWV2SecureFileAttachmentErrorPlaceholder.react","MWXMessageBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k=60,l=250,m={bubble:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(24),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getFileUrl,n=a.mediaRenderQpl,o=a.outgoing,p;b[0]!==n?(a=function(){n==null?void 0:n.addPoint("render-file-attachment")},p=[n],b[0]=n,b[1]=a,b[2]=p):(a=b[1],p=b[2]);j(a,p);b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==n||b[7]!==o?(a=function(a,b){return i.jsx(c("MWXMessageBubble.react"),{align:o?"right":"left",color:"incoming",connectBottom:e,connectTop:f,xstyle:m.bubble,children:i.jsx(c("MWV2SecureFileAttachmentErrorPlaceholder.react"),{file:g,isRetryableError:a,mediaRenderQpl:n,onRetry:b})})},b[3]=e,b[4]=f,b[5]=g,b[6]=n,b[7]=o,b[8]=a):a=b[8];p=a;b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==h||b[13]!==n||b[14]!==o?(a=function(a){return i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureFileAttachmentContentV2.Suspense",!0),name:"MAWSecureFileAttachmentContentV2.Suspense",children:i.jsx(c("MWXMessageBubble.react"),{align:o?"right":"left",color:"incoming",connectBottom:e,connectTop:f,xstyle:m.bubble,children:i.jsx(c("MAWChatFile.react"),{file:g,getFileUrl:h,mediaRenderQpl:n,renderUnsupportedAttachment:function(){return i.jsx(c("MWV2AttachmentErrorPlaceholder.react"),{connectBottom:e,connectTop:f,height:k,outgoing:o,width:l})}})})})},b[9]=e,b[10]=f,b[11]=g,b[12]=h,b[13]=n,b[14]=o,b[15]=a):a=b[15];a=a;var q;b[16]!==e||b[17]!==f||b[18]!==g||b[19]!==p||b[20]!==n||b[21]!==o||b[22]!==a?(q=i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:e,connectTop:f,dbAttachment:g,descriptionForLogging:"MAWSecureFileAttachmentContentV2",errorComponentRenderer:p,mediaRenderQpl:n,outgoing:o,placeholderHeight:k,placeholderWidth:l,successfulComponentRenderer:a}),b[16]=e,b[17]=f,b[18]=g,b[19]=p,b[20]=n,b[21]=o,b[22]=a,b[23]=q):q=b[23];return q}g["default"]=a}),98);
__d("MAWSecureImageAttachmentContent.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","I64","MAWThreadViewAttachmentStateHandlerContent.react","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentLoadingPlaceholder.react","MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react","MWV2ChatImage.react","MediaDownloadStatusIconSize","MessagingAttachmentType","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useEffect,l=b.useState;function a(a){var b=d("react-compiler-runtime").c(75),e=a.attachmentsFromGroupToRetry,f=a.connectBottom,g=a.connectTop,h=a.dbAttachment,m=a.getPreviewUrl,n=a.isGroupedImage,o=a.mediaRenderQpl,p=a.message,q=a.outgoing,r=a.previewHeight,s=a.previewWidth,t=d("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting();a=l(!1);var u=a[0],v=a[1],w;b[0]!==o?(a=function(){o==null?void 0:o.addPoint("render-image-attachment")},w=[o],b[0]=o,b[1]=a,b[2]=w):(a=b[1],w=b[2]);k(a,w);a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=(w=a)!=null?w:void 0;b[3]!==n||b[4]!==a?(w=d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!0,a,n),b[3]=n,b[4]=a,b[5]=w):w=b[5];a=w;var x=a.maxHeight,y=a.maxWidth;w=h!=null&&(i||(i=d("I64"))).to_int32(h.attachmentType)===c("MessagingAttachmentType").ANIMATED_IMAGE;b[6]!==w?(a=w&&d("MWAnimatedImageControlsUtil").getShouldEnableGIFPlayPause(),b[6]=w,b[7]=a):a=b[7];var z=a;if(p==null||h==null||z&&t==null){w=(h==null?void 0:h.attributionAppName)!=null;b[8]!==f||b[9]!==g||b[10]!==x||b[11]!==y||b[12]!==o||b[13]!==q||b[14]!==r||b[15]!==s||b[16]!==w?(a=j.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:f,connectTop:g,descriptionForLogging:"MAWSecureImageAttachmentContent.NoMedia",hasAppAttribution:w,height:r,maxHeight:x,maxWidth:y,mediaRenderQpl:o,outgoing:q,width:s}),b[8]=f,b[9]=g,b[10]=x,b[11]=y,b[12]=o,b[13]=q,b[14]=r,b[15]=s,b[16]=w,b[17]=a):a=b[17];b[18]===Symbol["for"]("react.memo_cache_sentinel")?(w=j.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureImageAttachmentContent.NoMedia",hold:!0}),b[18]=w):w=b[18];b[19]!==a?(w=j.jsxs(j.Fragment,{children:[a,w]}),b[19]=a,b[20]=w):w=b[20];return w}b[21]!==f||b[22]!==g||b[23]!==h||b[24]!==x||b[25]!==y||b[26]!==o||b[27]!==q||b[28]!==r||b[29]!==s?(a=function(a,b){return j.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:h,connectBottom:f,connectTop:g,hasAppAttribution:h.attributionAppName!=null,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,maxHeight:x,maxWidth:y,mediaRenderQpl:o,onRetry:b,outgoing:q,width:s})},b[21]=f,b[22]=g,b[23]=h,b[24]=x,b[25]=y,b[26]=o,b[27]=q,b[28]=r,b[29]=s,b[30]=a):a=b[30];var A=a;b[31]!==f||b[32]!==g||b[33]!==h||b[34]!==m||b[35]!==n||b[36]!==x||b[37]!==y||b[38]!==o||b[39]!==p||b[40]!==q||b[41]!==r||b[42]!==s?(w=function(a,b){return a?j.jsx(c("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPreviewUrl:m,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,isGroupedImage:n,maxHeight:x,maxWidth:y,mediaRenderQpl:o,message:p,onRetry:b,outgoing:q,width:s}):j.jsx(c("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPreviewUrl:m,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,isGroupedImage:n,maxHeight:x,maxWidth:y,mediaRenderQpl:o,message:p,outgoing:q,width:s})},b[31]=f,b[32]=g,b[33]=h,b[34]=m,b[35]=n,b[36]=x,b[37]=y,b[38]=o,b[39]=p,b[40]=q,b[41]=r,b[42]=s,b[43]=w):w=b[43];a=w;b[44]!==f||b[45]!==g||b[46]!==h||b[47]!==A||b[48]!==m||b[49]!==t||b[50]!==u||b[51]!==n||b[52]!==x||b[53]!==y||b[54]!==o||b[55]!==p||b[56]!==q||b[57]!==r||b[58]!==s||b[59]!==z?(w=function(a){if(p==null)return a("MAWSecureImageAttachmentContentV2.NoMessage",!1);var b=z&&t===!1;return j.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureImageAttachmentContentV2.Suspense",!0),name:"MAWSecureImageAttachmentContentV2.Suspense",children:b&&u===!1?j.jsx(c("MWAnimatedImageThumbnailWithPlayButton.react"),{connectBottom:f,connectTop:g,dbAttachment:h,isInThread:!0,isSecure:!0,mediaRenderQpl:o,message:p,onPlay:function(){return v(!0)},outgoing:q,previewHeight:r,previewWidth:s}):j.jsx(c("MWV2ChatImage.react"),{attachment:h,connectBottom:f,connectTop:g,getPreviewUrl:m,isGroupedImage:n,isSecure:!0,maxHeight:x,maxWidth:y,mediaRenderQpl:o,message:p,navigateToRouteForMediaViewer:!1,onPressOverride:b===!0?function(){return v(!1)}:void 0,outgoing:q,renderUnsupportedAttachment:function(){return A(!1)}})})},b[44]=f,b[45]=g,b[46]=h,b[47]=A,b[48]=m,b[49]=t,b[50]=u,b[51]=n,b[52]=x,b[53]=y,b[54]=o,b[55]=p,b[56]=q,b[57]=r,b[58]=s,b[59]=z,b[60]=w):w=b[60];w=w;var B;b[61]!==e||b[62]!==f||b[63]!==g||b[64]!==h||b[65]!==A||b[66]!==a||b[67]!==x||b[68]!==y||b[69]!==o||b[70]!==q||b[71]!==r||b[72]!==s||b[73]!==w?(B=j.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{attachmentsFromGroupToRetry:e,connectBottom:f,connectTop:g,dbAttachment:h,descriptionForLogging:"MAWSecureImageAttachmentContentV2",errorComponentRenderer:A,errorWithBlurComponentRenderer:a,mediaRenderQpl:o,outgoing:q,placeholderHeight:r,placeholderMaxHeight:x,placeholderMaxWidth:y,placeholderWidth:s,successfulComponentRenderer:w}),b[61]=e,b[62]=f,b[63]=g,b[64]=h,b[65]=A,b[66]=a,b[67]=x,b[68]=y,b[69]=o,b[70]=q,b[71]=r,b[72]=s,b[73]=w,b[74]=B):B=b[74];return B}g["default"]=a}),98);
__d("MAWSecureGroupedImageAttachment.react",["MAWGetAttachmentThumbnailBlob","MAWSecureImageAttachmentContent.react","react","react-compiler-runtime","useGetMediaGroupStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(23),e=a.mediaGroupInfo,f=a.mediaRenderQpl,g=a.outgoing;a=e.messagesAndAttachmentsShownInGroup;var h=e.tileSize,k=d("useGetMediaGroupStyles").useGetMediaGroupStyles(g,h),l=k.containerStyles,m=k.coordinations,n=k.imageSize,o=k.wrapperStyles,p;b[0]!==f?(k=function(){f==null?void 0:f.addPoint("render-grouped-image-attachment"),f==null?void 0:f.addAnnotations({bool:{is_grouped_image:!0}})},p=[f],b[0]=f,b[1]=k,b[2]=p):(k=b[1],p=b[2]);j(k,p);if(b[3]!==m||b[4]!==n||b[5]!==e.attachmentsToRetryDownload||b[6]!==f||b[7]!==a||b[8]!==g||b[9]!==h||b[10]!==o){b[12]!==m||b[13]!==n||b[14]!==e.attachmentsToRetryDownload||b[15]!==f||b[16]!==g||b[17]!==h||b[18]!==o?(k=function(a,b){var j=a.attachment;a=a.message;return i.jsx("div",{className:o,style:babelHelpers["extends"]({zIndex:h-b},m[b]),children:i.jsx(c("MAWSecureImageAttachmentContent.react"),{attachmentsFromGroupToRetry:e.attachmentsToRetryDownload,connectBottom:!1,connectTop:!1,dbAttachment:j,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob,isGroupedImage:!0,mediaRenderQpl:f,message:a,outgoing:g,previewHeight:n,previewWidth:n})},b)},b[12]=m,b[13]=n,b[14]=e.attachmentsToRetryDownload,b[15]=f,b[16]=g,b[17]=h,b[18]=o,b[19]=k):k=b[19];p=a.map(k);b[3]=m;b[4]=n;b[5]=e.attachmentsToRetryDownload;b[6]=f;b[7]=a;b[8]=g;b[9]=h;b[10]=o;b[11]=p}else p=b[11];b[20]!==l||b[21]!==p?(k=i.jsx("div",{className:l,"data-testid":void 0,children:p}),b[20]=l,b[21]=p,b[22]=k):k=b[22];return k}g["default"]=a}),98);
__d("MAWSecureStickerAttachmentContent.react",["CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentErrorPlaceholderV2.react","MWV2Sticker.react","MediaDownloadStatusIconSize","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(27),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPreviewUrl,k=a.mediaRenderQpl,l=a.outgoing,m=a.previewHeight,n=a.previewWidth,o;b[0]!==k?(a=function(){k==null?void 0:k.addPoint("render-sticker-attachment")},o=[k],b[0]=k,b[1]=a,b[2]=o):(a=b[1],o=b[2]);j(a,o);b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==k||b[7]!==l||b[8]!==m||b[9]!==n?(a=function(a,b){return i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:g,connectBottom:e,connectTop:f,hasAppAttribution:g.attributionAppName!=null,height:m,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,mediaRenderQpl:k,onRetry:b,outgoing:l,width:n})},b[3]=e,b[4]=f,b[5]=g,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=a):a=b[10];var p=a;b[11]!==g||b[12]!==p||b[13]!==h||b[14]!==k?(o=function(a){return g.receiverFetchId!=null&&g.previewUrl==null?a("MAWSecureStickerAttachmentContentV2.NoReceiverFetchMedia",!0):i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureStickerAttachmentContentV2.Suspense",!0),name:"MAWSecureStickerAttachmentContentV2.Suspense",children:i.jsx(c("MWV2Sticker.react"),{attachment:g,getPreviewUrl:h,mediaRenderQpl:k,renderUnsupportedAttachment:function(){return p(!1)}})})},b[11]=g,b[12]=p,b[13]=h,b[14]=k,b[15]=o):o=b[15];a=o;o=g.receiverFetchId!=null?g.messageId:g.attachmentFbid;var q;b[16]!==e||b[17]!==f||b[18]!==g||b[19]!==o||b[20]!==p||b[21]!==k||b[22]!==l||b[23]!==m||b[24]!==n||b[25]!==a?(q=i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:e,connectTop:f,dbAttachment:g,descriptionForLogging:"MAWSecureStickerAttachmentContentV2",downloadStatusKeyOverride:o,errorComponentRenderer:p,mediaRenderQpl:k,outgoing:l,placeholderHeight:m,placeholderWidth:n,successfulComponentRenderer:a}),b[16]=e,b[17]=f,b[18]=g,b[19]=o,b[20]=p,b[21]=k,b[22]=l,b[23]=m,b[24]=n,b[25]=a,b[26]=q):q=b[26];return q}g["default"]=a}),98);
__d("MAWSecureVideoAttachmentContent.react",["CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","MAWAttachmentSizeUtils","MAWSecureVideoInvalidAttachment.react","MAWSecureVideoUnsupportedCodecAttachment.react","MAWStateContext.react","MAWThreadViewAttachmentStateHandlerContent.react","MAWVideoAudioPlaybackErrorHandlerUtils","MWLSThreadDisplayContext","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react","MediaDownloadStatusIconSize","WAHashUtils","cr:13757","gkx","react","react-compiler-runtime","useShouldShowPlaybackErrorFallback","useShouldShowUnsupportedCodecFallback"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;var l=e.useContext,m=e.useEffect;function a(a){var e=d("react-compiler-runtime").c(77),f=a.connectBottom,g=a.connectTop,h=a.dbAttachment,n=a.getPlayableUrl,o=a.getPreviewUrl,p=a.mediaRenderQpl,q=a.message,r=a.outgoing,s=a.previewHeight,t=a.previewWidth,u=l(d("MAWStateContext.react").MAWDispatchContext),v;e[0]!==p?(a=function(){p==null?void 0:p.addPoint("render-video-attachment")},v=[p],e[0]=p,e[1]=a,e[2]=v):(a=e[1],v=e[2]);m(a,v);a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();e[3]!==a||e[4]!==s||e[5]!==t?(v=d("MAWAttachmentSizeUtils").getMaxSizeForVideo({height:s,width:t},a),e[3]=a,e[4]=s,e[5]=t,e[6]=v):v=e[6];a=v;var w=a.maxHeight,x=a.maxWidth;a=(v=c("useShouldShowPlaybackErrorFallback")(h,p))!=null?v:!1;v=(v=c("useShouldShowUnsupportedCodecFallback")(h,p))!=null?v:!1;if(a){e[7]!==f||e[8]!==g||e[9]!==h||e[10]!==w||e[11]!==x||e[12]!==p||e[13]!==r||e[14]!==s||e[15]!==t?(a=k.jsx(c("MAWSecureVideoInvalidAttachment.react"),{attachment:h,connectBottom:f,connectTop:g,height:s,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:w,maxWidth:x,mediaRenderQpl:p,outgoing:r,width:t}),e[7]=f,e[8]=g,e[9]=h,e[10]=w,e[11]=x,e[12]=p,e[13]=r,e[14]=s,e[15]=t,e[16]=a):a=e[16];return a}if(v){v=(a=o)!=null?a:n;e[17]!==f||e[18]!==g||e[19]!==h||e[20]!==w||e[21]!==x||e[22]!==p||e[23]!==q||e[24]!==r||e[25]!==s||e[26]!==t||e[27]!==v?(a=k.jsx(c("MAWSecureVideoUnsupportedCodecAttachment.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPreviewUrl:v,height:s,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:w,maxWidth:x,mediaRenderQpl:p,message:q,outgoing:r,width:t}),e[17]=f,e[18]=g,e[19]=h,e[20]=w,e[21]=x,e[22]=p,e[23]=q,e[24]=r,e[25]=s,e[26]=t,e[27]=v,e[28]=a):a=e[28];return a}e[29]!==f||e[30]!==g||e[31]!==h||e[32]!==u||e[33]!==n||e[34]!==o||e[35]!==w||e[36]!==x||e[37]!==p||e[38]!==q||e[39]!==r||e[40]!==s||e[41]!==t?(v=function(a,b){if(!a&&d("MAWVideoAudioPlaybackErrorHandlerUtils").isVideoFallbackExperiencesEnabled({silent:!1})){var e;u({tag:"SetMediaValidatedResult",value:{key:d("WAHashUtils").stringToPlaintextHash(h.attachmentFbid),validatedResult:{validatedMimeType:"unsupported-video"}}});p==null?void 0:p.addPoint("browser_cant_play_video",{string:{invalid_media_reason:"browser_cant_play_video"}});return k.jsx(c("MAWSecureVideoUnsupportedCodecAttachment.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPreviewUrl:(e=o)!=null?e:n,height:s,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:w,maxWidth:x,mediaRenderQpl:p,message:q,outgoing:r,width:t})}return k.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:h,connectBottom:f,connectTop:g,hasAppAttribution:h.attributionAppName!=null,height:s,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,maxHeight:w,maxWidth:x,mediaRenderQpl:p,onRetry:b,outgoing:r,width:t})},e[29]=f,e[30]=g,e[31]=h,e[32]=u,e[33]=n,e[34]=o,e[35]=w,e[36]=x,e[37]=p,e[38]=q,e[39]=r,e[40]=s,e[41]=t,e[42]=v):v=e[42];var y=v;e[43]!==g||e[44]!==h||e[45]!==y||e[46]!==n||e[47]!==p||e[48]!==q||e[49]!==r?(a=function(a){return k.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureVideoAttachmentContentV2.Suspense",!0),name:"MAWSecureVideoAttachmentContentV2.Suspense",children:k.jsx(b("cr:13757"),{attachment:h,autoPlaySetting:(i||(i=d("I64"))).le(q.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))||c("gkx")("8624")?"off":void 0,connectTop:g,getPlayableUrl:n,isSecure:!0,loops:!c("gkx")("8625"),mediaRenderQpl:p,message:q,navigateToRouteForMediaViewer:!1,outgoing:r,renderUnsupportedAttachment:function(){return y(!1)}})})},e[43]=g,e[44]=h,e[45]=y,e[46]=n,e[47]=p,e[48]=q,e[49]=r,e[50]=a):a=e[50];v=a;e[51]!==f||e[52]!==g||e[53]!==h||e[54]!==n||e[55]!==o||e[56]!==w||e[57]!==x||e[58]!==p||e[59]!==q||e[60]!==r||e[61]!==s||e[62]!==t?(a=function(a,b){return a?k.jsx(c("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPreviewUrl:(a=o)!=null?a:n,height:s,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:w,maxWidth:x,mediaRenderQpl:p,message:q,onRetry:b,outgoing:r,width:t}):k.jsx(c("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPreviewUrl:(a=o)!=null?a:n,height:s,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:w,maxWidth:x,mediaRenderQpl:p,message:q,outgoing:r,width:t})},e[51]=f,e[52]=g,e[53]=h,e[54]=n,e[55]=o,e[56]=w,e[57]=x,e[58]=p,e[59]=q,e[60]=r,e[61]=s,e[62]=t,e[63]=a):a=e[63];a=a;var z;e[64]!==f||e[65]!==g||e[66]!==h||e[67]!==y||e[68]!==a||e[69]!==w||e[70]!==x||e[71]!==p||e[72]!==r||e[73]!==s||e[74]!==t||e[75]!==v?(z=k.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:f,connectTop:g,dbAttachment:h,descriptionForLogging:"MAWSecureVideoAttachmentContentV2",errorComponentRenderer:y,errorWithBlurComponentRenderer:a,mediaRenderQpl:p,outgoing:r,placeholderHeight:s,placeholderMaxHeight:w,placeholderMaxWidth:x,placeholderWidth:t,successfulComponentRenderer:v}),e[64]=f,e[65]=g,e[66]=h,e[67]=y,e[68]=a,e[69]=w,e[70]=x,e[71]=p,e[72]=r,e[73]=s,e[74]=t,e[75]=v,e[76]=z):z=e[76];return z}g["default"]=a}),98);
__d("MAWSecureXMAAttachmentContent.react",["LSMediaUrlAttachment","MAWAttachmentBlob.react","MAWDownloadMediaInWorkerDeferred","MAWGetIsMediaDownloadStatusEnabled","MAWIsXMAWithPlaintextHash","MAWStateContext.react","MWXMAAttachment.react","isReceiverFetchReceivingEnabled","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect;function a(a){var b=d("react-compiler-runtime").c(17),c=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.hasText,h=a.mediaRenderQpl;a=a.outgoing;var o=j(d("MAWStateContext.react").MAWDispatchContext),p,q;b[0]!==f||b[1]!==o||b[2]!==h?(p=function(){f.hasMedia!==!0&&!(d("MAWIsXMAWithPlaintextHash").isXMAWithPlaintextHash(f)&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusForXMAsEnabled())&&d("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:f,dispatch:o,mediaRenderQpl:h,triggerUIView:"thread"})},q=[f,h,o],b[0]=f,b[1]=o,b[2]=h,b[3]=p,b[4]=q):(p=b[3],q=b[4]);k(p,q);b[5]!==h?(p=function(){h==null?void 0:h.addPoint("render-xma-attachment")},b[5]=h,b[6]=p):p=b[6];b[7]!==f.hasMedia||b[8]!==h?(q=[f.hasMedia,h],b[7]=f.hasMedia,b[8]=h,b[9]=q):q=b[9];k(p,q);b[10]!==c||b[11]!==e||b[12]!==f||b[13]!==g||b[14]!==h||b[15]!==a?(p=i.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:f,connectBottom:c,connectTop:e,getFaviconUrlXMA:n,getHeaderUrlXMA:m,getPreviewUrlXMA:l,hasText:g,mediaRenderQpl:h,outgoing:a}),b[10]=c,b[11]=e,b[12]=f,b[13]=g,b[14]=h,b[15]=a,b[16]=p):p=b[16];return p}function l(a,b,e,f){f==null?void 0:f.addPoint("fetch_preview_url_xma_start");if(a.previewUrl!=null&&c("isReceiverFetchReceivingEnabled")(!0)){f==null?void 0:f.addPoint("fetch_preview_url_xma_receiver_fetch");b=d("LSMediaUrlAttachment").previewUrl(a);f==null?void 0:f.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:Boolean(b)},string:{fetch_by:"receiver_fetch"}});return b}if(a.hasXmaPreview===!0){b=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview","MAWSecureXMAAttachmentContent - getPreviewUrlXMA - "+e,f);f==null?void 0:f.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:Boolean(b)},string:{fetch_by:"maw_backend"}});return b}f==null?void 0:f.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!1},string:{fetch_by:"none"}})}function m(a,b,e){e==null?void 0:e.addPoint("fetch_header_url_xma_start");if(a.headerImageUrl!=null&&c("isReceiverFetchReceivingEnabled")(!0)){e==null?void 0:e.addPoint("fetch_header_url_xma_receiver_fetch");var f=d("LSMediaUrlAttachment").headerImageUrl(a);e==null?void 0:e.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:Boolean(f)},string:{fetch_by:"receiver_fetch"}});return f}if(a.hasXmaHeaderImage===!0){f=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"header","MAWSecureXMAAttachmentContent - getHeaderUrlXMA - "+b,e);e==null?void 0:e.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:Boolean(f)},string:{fetch_by:"maw_backend"}});return f}e==null?void 0:e.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!1},string:{fetch_by:"none"}})}function n(a,b,e,f){f==null?void 0:f.addPoint("fetch_favicon_url_xma_start");if(a.faviconUrl!=null&&c("isReceiverFetchReceivingEnabled")(!0)){f==null?void 0:f.addPoint("fetch_favicon_url_xma_receiver_fetch");b=d("LSMediaUrlAttachment").faviconUrl(a);f==null?void 0:f.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:Boolean(b)},string:{fetch_by:"receiver_fetch"}});return b}if(a.hasXmaFavicon===!0){b=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"favicon","MAWSecureXMAAttachmentContent - getFaviconUrlXMA - "+e,f);f==null?void 0:f.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:Boolean(b)},string:{fetch_by:"maw_backend"}});return b}f==null?void 0:f.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!1},string:{fetch_by:"none"}})}g["default"]=a}),98);
__d("useIssueMediaReceiverFetchTask",["FBLogger","Int64Hooks","LSMediaUrlUtils","MAWIssueReceiverFetchTask","MAWMediaDownloadStatus","MAWStateContext.react","WAHashUtils","clearTimeout","justknobx","promiseDone","react","react-compiler-runtime","setTimeout","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useRef,l=c("justknobx")._("3314");function a(a,b,e,f,g,h,m,n,o){var p=d("react-compiler-runtime").c(27),q=i(d("MAWStateContext.react").MAWDispatchContext),r=c("useAsyncReStore")(),s=k(!1),t;p[0]!==m||p[1]!==n?(t=d("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(m,n),p[0]=m,p[1]=n,p[2]=t):t=p[2];var u=t,v=k(null);p[3]!==u?(m=function(){var a=v.current;u&&c("clearTimeout")(a);return function(){c("clearTimeout")(a)}},n=[u],p[3]=u,p[4]=m,p[5]=n):(m=p[4],n=p[5]);j(m,n);p[6]!==r||p[7]!==q||p[8]!==u||p[9]!==a||p[10]!==g||p[11]!==h||p[12]!==b||p[13]!==f||p[14]!==e?(t=function(){if(!g||!a||f==null||b==null||s.current||u)return;s.current=!0;h==null?void 0:h.addPoint("media_receiver_fetch_task_start");var i=function(a){q({tag:"UpdateMediaStatus",value:{details:a,key:d("WAHashUtils").stringToPlaintextHash(b),status:c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,type:"main"}})};c("promiseDone")(r,function(a){d("MAWIssueReceiverFetchTask").issueReceiverFetchTask(a,b,f,e,q),c("justknobx")._("3315")&&(v.current=c("setTimeout")(function(){h==null?void 0:h.addPoint("media_receiver_fetch_task_timeout"),i("media_receiver_fetch_task_timeout")},l))},function(a){c("clearTimeout")(v.current),h==null?void 0:h.addPoint("media_receiver_fetch_task_fail"),i("media_receiver_fetch_task_fail"),c("FBLogger")("messenger_web_media").catching(a).warn("Failed to issue media receiver fetch task on mount")})},p[6]=r,p[7]=q,p[8]=u,p[9]=a,p[10]=g,p[11]=h,p[12]=b,p[13]=f,p[14]=e,p[15]=t):t=p[15];p[16]!==o||p[17]!==r||p[18]!==q||p[19]!==u||p[20]!==a||p[21]!==g||p[22]!==h||p[23]!==b||p[24]!==f||p[25]!==e?(m=[r,u,q,g,h,b,f,e,a,o],p[16]=o,p[17]=r,p[18]=q,p[19]=u,p[20]=a,p[21]=g,p[22]=h,p[23]=b,p[24]=f,p[25]=e,p[26]=m):m=p[26];d("Int64Hooks").useEffectInt64(t,m)}g["default"]=a}),98);
__d("MessagingACSClientTokenStoreContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(null);g.MessagingACSClientTokenStoreContext=b}),98);
__d("useIssueXMAReceiverFetchTask",["FBLogger","Int64Hooks","LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure","LSFactory","LSIntEnum","LSXmaContentType","MAWReceiverFetchQPLLogger","MessagingACSClientTokenStoreContext.react","Promise","cr:8567","gkx","justknobx","promiseDone","react","react-compiler-runtime","useAsyncReStore","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useContext,l=e.useRef;function m(a,e,g,i){if(g==null){d("MAWReceiverFetchQPLLogger").logFailure(e,"RECEIVER_FECH_PARAMS_IS_NULL","xmaReceiverFetchParams is null");return(h||(h=b("Promise"))).resolve()}d("MAWReceiverFetchQPLLogger").logPreviewFetchStart(e);if(b("cr:8567"))return b("cr:8567").fetchGraphQLXMAReceiverFetchData(a,e,g,i);var j=c("gkx")("8698");return a.runInTransaction(function(a){return c("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure")(c("LSFactory")(a),{contentRef:g,messageId:e,videoPsProductHoldout2024h2Launch:j})},"readwrite",void 0,void 0,f.id+":62")}function a(a,b,e,g,h,j){var n=d("react-compiler-runtime").c(18),o=c("useAsyncReStore")(),p=c("useXMAPreviewsDisabledSetting")(),q=l(!1),r=k(d("MessagingACSClientTokenStoreContext.react").MessagingACSClientTokenStoreContext),s;n[0]!==b||n[1]!==o||n[2]!==j||n[3]!==a||n[4]!==e||n[5]!==r||n[6]!==h||n[7]!==p||n[8]!==g?(s=function(){if(h==null||(i||(i=d("LSIntEnum"))).toNumber(h)!==c("LSXmaContentType").MSG_RECEIVER_FETCH||p||q.current)return;if(g==null&&c("justknobx")._("3627")){j==null?void 0:j.addPoint("missing_message_or_receiver_fetch_params");c("promiseDone")(o,function(g){if(b==null){j==null?void 0:j.endFail("missing_attachment");return}g.runInTransaction(function(f){return f.attachments.upsert([e,a,b.attachmentFbid],babelHelpers["extends"]({},b,{hasXmaPreview:!1,xmaContentType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK)}))},"readwrite",void 0,void 0,f.id+":109").then(function(){j==null?void 0:j.addPoint("upsert_rf_fallback_xma_success")})["catch"](function(){j==null?void 0:j.endFail("upsert_rf_fallback_xma_failed")})});return}j==null?void 0:j.addPoint("xma_receiver_fetch_task_start");q.current=!0;d("MAWReceiverFetchQPLLogger").logReceiverFetchXMAStartQPL(a);c("promiseDone")(o,function(b){return m(b,a,g,r)},function(b){j==null?void 0:j.endFail("xma_receiver_fetch_task_fail"),d("MAWReceiverFetchQPLLogger").logFailure(a,"RECEIVER_FETCH_TASK_FAILURE",b),c("FBLogger")("messenger_web_sharing").catching(b).warn("Failed to issue receiver fetch task on mount")})},n[0]=b,n[1]=o,n[2]=j,n[3]=a,n[4]=e,n[5]=r,n[6]=h,n[7]=p,n[8]=g,n[9]=s):s=n[9];var t;n[10]!==o||n[11]!==j||n[12]!==a||n[13]!==r||n[14]!==h||n[15]!==p||n[16]!==g?(t=[o,a,g,p,h,j,r],n[10]=o,n[11]=j,n[12]=a,n[13]=r,n[14]=h,n[15]=p,n[16]=g,n[17]=t):t=n[17];d("Int64Hooks").useEffectInt64(s,t)}g["default"]=a}),98);
__d("MAWSecureAttachment.react",["CometHeroHoldTrigger.react","HelpdeskGeminiNullthrows","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSXmaContentType","MAWAttachmentBlob.react","MAWAttachmentSizeUtils","MAWGetAttachmentThumbnailBlob","MAWIsFBXMA","MAWIsReceiverFetchXmaInLoadingState","MAWLocalizationType","MAWSecureAudioAttachmentContent.react","MAWSecureFileAttachmentContent.react","MAWSecureGroupedImageAttachment.react","MAWSecureImageAttachmentContent.react","MAWSecureStickerAttachmentContent.react","MAWSecureVideoAttachmentContent.react","MAWSecureXMAAttachmentContent.react","MWChatBubbleEmphasisRing.react","MWChatTypingIndicator.react","MWLSThread","MWPAttachmentDataContext","MWPMessageListAttachmentContainer.react","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatBubbleContainer.react","MWV2TombstonedMessage.react","MWXLink.react","MWXMessageBubble.react","MWXText.react","MessagingAttachmentType","MessengerWebUXLoggerXMAEventLoggingImpl","cr:10515","cr:3015","getMAWLocalizedFallbackMsgSnippet","isCometRouterUrl","isReceiverFetchSticker","react","react-compiler-runtime","stylex","useGetMediaGroupInformation","useIssueMediaReceiverFetchTask","useIssueXMAReceiverFetchTask","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useEffect;e.useMemo;var n={fallbackXma:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0},fallbackXmaIncoming:{color:"x18lvrbx",$$css:!0},fallbackXmaOutgoing:{color:"xyk4ms5",$$css:!0},unsetWidth:{width:"x4pn7vq",$$css:!0}};function o(a){var e=a.dbAttachment,f=a.connectBottom,g=a.connectTop,h=a.hasText,i=a.mediaRenderQpl,n=a.message;a=a.outgoing;var o=e.attachmentFbid,p=e.attachmentType,q=e.authorityLevel;m(function(){i==null?void 0:i.addPoint("render-secure-attachment-content"),o===(j||(j=d("I64"))).to_string((j||(j=d("I64"))).max_int)&&(j||(j=d("I64"))).equal(q,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&(i==null?void 0:i.addPoint("loading_eb_frontloading"))},[o,q,e,i]);var r=c("useGetMediaGroupInformation")(n,!0,i),s=d("MAWAttachmentSizeUtils").getSizeFromAttachment(e),t=s.height;s=s.width;switch(!0){case o===(j||(j=d("I64"))).to_string((j||(j=d("I64"))).max_int)&&(j||(j=d("I64"))).equal(q,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)):return l.jsxs(l.Fragment,{children:[l.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:f,connectTop:g,descriptionForLogging:"MAWSecureAttachment.react.EBFrontloading",hasAppAttribution:e.attributionAppName!=null,height:t,mediaRenderQpl:i,outgoing:a,width:s}),l.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.react.EBFrontloading",hold:!0})]});case(j||(j=d("I64"))).equal(p,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):return c("MAWSecureGroupedImageAttachment.react")!=null&&r!=null?l.jsx(c("MAWSecureGroupedImageAttachment.react"),{mediaGroupInfo:r,mediaRenderQpl:i,outgoing:a}):l.jsx(c("MAWSecureImageAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob,mediaRenderQpl:i,message:n,outgoing:a,previewHeight:t,previewWidth:s});case(j||(j=d("I64"))).equal(p,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):return l.jsx(c("MAWSecureVideoAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob,mediaRenderQpl:i,message:n,outgoing:a,previewHeight:t,previewWidth:s});case(j||(j=d("I64"))).equal(p,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)):return l.jsx(c("MAWSecureAudioAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:i,message:n,outgoing:a});case(j||(j=d("I64"))).equal(p,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):return l.jsx(c("MAWSecureImageAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:i,message:n,outgoing:a,previewHeight:t,previewWidth:s});case(j||(j=d("I64"))).equal(p,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)):return e.receiverFetchId!=null?l.jsx(c("MAWSecureStickerAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:function(a){return d("LSMediaUrlAttachment").previewUrl(a)},mediaRenderQpl:i,outgoing:a,previewHeight:t,previewWidth:s}):l.jsx(c("MAWSecureStickerAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:i,outgoing:a,previewHeight:t,previewWidth:s});case(j||(j=d("I64"))).equal(p,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):return l.jsx(c("MAWSecureXMAAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,hasText:h,mediaRenderQpl:i,outgoing:a});case(j||(j=d("I64"))).equal(p,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)):return l.jsx(c("MAWSecureFileAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,getFileUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:i,outgoing:a});case(j||(j=d("I64"))).equal(p,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE)):case(j||(j=d("I64"))).equal(p,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO)):return b("cr:3015")!=null?l.jsx(b("cr:3015"),{connectBottom:f,connectTop:g,dbAttachment:e,mediaRenderQpl:i,outgoing:a}):l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:c("getMAWLocalizedFallbackMsgSnippet")(a?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK)});default:i==null?void 0:i.endFail("unsupported-attachment");return"Unsupported attachment type"}}o.displayName=o.name+" [from "+f.id+"]";function a(a){var e=d("react-compiler-runtime").c(80),f=a.connectBottom,g=a.connectTop,i=a.hasEmphasisRing,q=a.hasText,r=a.mediaRenderQpl,s=a.message,t=a.outgoing,u=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsClickLogger(),v=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsRedirectDefaultToFBLogger(),w=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventOpenInFBLogger(),x=d("MWLSThread").useThread(s.threadKey,p);a=c("useXMAPreviewsDisabledSetting")();var y=d("MWPAttachmentDataContext").useMWPGetAttachments(s),z=y!=null&&y.length>0?y[0]:null;y=s.authorityLevel;var A=s.threadKey,B;e[0]!==z||e[1]!==r?(B=function(){z!=null&&(r==null?void 0:r.addAttachmentAnnotations==null?void 0:r.addAttachmentAnnotations(z)),r==null?void 0:r.addPoint("render-secure-attachment",{bool:{has_attachment:z!=null}})},e[0]=z,e[1]=r,e[2]=B):B=e[2];var C;e[3]!==y||e[4]!==z||e[5]!==r?(C=[y,z,r],e[3]=y,e[4]=z,e[5]=r,e[6]=C):C=e[6];m(B,C);c("useIssueXMAReceiverFetchTask")(s.messageId,z,A,z==null?void 0:z.receiverFetchId,z==null?void 0:z.xmaContentType,r);e[7]!==z?(y=z?c("isReceiverFetchSticker")(z):!1,e[7]=z,e[8]=y):y=e[8];c("useIssueMediaReceiverFetchTask")(y,s.messageId,A,z==null?void 0:z.receiverFetchId,!0,r,z==null?void 0:z.previewUrl,z==null?void 0:z.previewUrlExpirationTimestampMs,z==null?void 0:z.attachmentType);e[9]!==g||e[10]!==i||e[11]!==s||e[12]!==t?(B=i===!0?function(a){return l.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:g,message:s,outgoing:t,precedesXMA:!1,children:a})}:void 0,e[9]=g,e[10]=i,e[11]=s,e[12]=t,e[13]=B):B=e[13];C=B;y=C;if(z==null&&!b("cr:10515"))return null;A=(z==null?void 0:z.xmaContentType)!=null&&(k||(k=d("LSIntEnum"))).toNumber(z.xmaContentType)===c("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK;B=a&&d("MAWIsFBXMA").isFBXMA(z==null?void 0:z.xmaContentType);if(B||A){r==null?void 0:r.addPoint("render_rf_xma_fallback");B?r==null?void 0:r.endSuccess():A&&(r==null?void 0:r.endFail("fetch_xma_data_receiver_fetch_failed"));C=z==null?void 0:z.actionUrl;e[14]!==s||e[15]!==C?(a=babelHelpers["extends"]({},s,{text:C}),e[14]=s,e[15]=C,e[16]=a):a=e[16];B=a;e[17]!==(z==null?void 0:z.actionUrl)?(A=(z==null?void 0:z.actionUrl)==null?!1:c("isCometRouterUrl")(z==null?void 0:z.actionUrl),e[17]=z==null?void 0:z.actionUrl,e[18]=A):A=e[18];var D=A;e[19]!==z||e[20]!==D||e[21]!==u||e[22]!==v||e[23]!==s||e[24]!==x?(C=function(){if(z==null)return;u==null?void 0:u({attachment:z,clickCategory:2,message:s,threadType:x});v({attachment:z,isDirectToExternal:!D,message:s,threadType:x})},e[19]=z,e[20]=D,e[21]=u,e[22]=v,e[23]=s,e[24]=x,e[25]=C):C=e[25];a=C;e[26]===Symbol["for"]("react.memo_cache_sentinel")?(A=l.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),e[26]=A):A=e[26];C=t?"white":"primary";var E=t?n.fallbackXmaOutgoing:n.fallbackXmaIncoming,F;e[27]!==E?(F=(h||(h=c("stylex")))([n.fallbackXma,E]),e[27]=E,e[28]=F):F=e[28];E=z==null?void 0:z.actionUrl;var G;e[29]!==z||e[30]!==D||e[31]!==w||e[32]!==s||e[33]!==x?(G=function(a){D&&a&&z!=null&&w({attachment:z,message:s,threadType:x})},e[29]=z,e[30]=D,e[31]=w,e[32]=s,e[33]=x,e[34]=G):G=e[34];var H;e[35]===Symbol["for"]("react.memo_cache_sentinel")?(H={textDecoration:"underline"},e[35]=H):H=e[35];var I=z==null?void 0:z.actionUrl;e[36]!==a||e[37]!==E||e[38]!==G||e[39]!==I?(H=l.jsx(c("MWXLink.react"),{encryptedLink:!0,href:E,onClick:a,onNavigate:G,style:H,children:I}),e[36]=a,e[37]=E,e[38]=G,e[39]=I,e[40]=H):H=e[40];e[41]!==F||e[42]!==H?(a=l.jsx("div",{className:F,children:H}),e[41]=F,e[42]=H,e[43]=a):a=e[43];e[44]!==C||e[45]!==a?(E=l.jsx(c("MWXText.react"),{color:C,type:"bodyLink3",children:a}),e[44]=C,e[45]=a,e[46]=E):E=e[46];e[47]!==f||e[48]!==g||e[49]!==i||e[50]!==t||e[51]!==E||e[52]!==B?(G=l.jsxs(l.Fragment,{children:[A,l.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:f,connectTop:g,hasEmphasisRing:i,message:B,outgoing:t,precedesXMA:!1,children:E})]}),e[47]=f,e[48]=g,e[49]=i,e[50]=t,e[51]=E,e[52]=B,e[53]=G):G=e[53];return G}if(d("MAWIsReceiverFetchXmaInLoadingState").isReceiverFetchXmaInLoadingState(s.displayedContentTypes,z)){r==null?void 0:r.addPoint("fetch_xma_data_receiver_fetch");e[54]===Symbol["for"]("react.memo_cache_sentinel")?(I=l.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),e[54]=I):I=e[54];F=t?"right":"left";e[55]===Symbol["for"]("react.memo_cache_sentinel")?(H=l.jsx(c("MWChatTypingIndicator.react"),{}),C=l.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.receiver_fetch.typing_indicator",hold:!0}),e[55]=H,e[56]=C):(H=e[55],C=e[56]);e[57]!==f||e[58]!==g||e[59]!==F?(a=l.jsxs(c("MWXMessageBubble.react"),{align:F,color:"incoming",connectBottom:f,connectTop:g,children:[H,C]}),e[57]=f,e[58]=g,e[59]=F,e[60]=a):a=e[60];e[61]!==g||e[62]!==s||e[63]!==t||e[64]!==a?(A=l.jsxs(l.Fragment,{children:[I,l.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:g,message:s,outgoing:t,xstyle:n.unsetWidth,children:a})]}),e[61]=g,e[62]=s,e[63]=t,e[64]=a,e[65]=A):A=e[65];return A}i=(j||(j=d("I64"))).equal(s.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(4))?!1:void 0;e[66]!==f||e[67]!==g||e[68]!==z||e[69]!==q||e[70]!==r||e[71]!==s||e[72]!==t?(E=z==null&&b("cr:10515")?l.jsxs(l.Fragment,{children:[l.jsx(b("cr:10515"),{connectBottom:f,connectTop:g,mediaRenderQpl:r,message:s,outgoing:t}),l.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.react.separate_read",hold:!0})]}):l.jsx(o,{connectBottom:f,connectTop:g,dbAttachment:d("HelpdeskGeminiNullthrows").nullthrows(z),hasText:q,mediaRenderQpl:r,message:s,outgoing:t}),e[66]=f,e[67]=g,e[68]=z,e[69]=q,e[70]=r,e[71]=s,e[72]=t,e[73]=E):E=e[73];e[74]!==g||e[75]!==s||e[76]!==y||e[77]!==i||e[78]!==E?(B=l.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:g,message:s,paint:i,renderEmphasisRing:y,children:E}),e[74]=g,e[75]=s,e[76]=y,e[77]=i,e[78]=E,e[79]=B):B=e[79];return B}function p(a){return a.threadType}g["default"]=a}),98);
__d("MAWUnavailablePlaceholder.react",["fbt","MWV2TombstonedMessage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.isOutgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__bLtIFgZUFni__JHASH__"),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("MAWUnavailableStoryPlaceholder.react",["fbt","MWV2TombstonedMessage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.isOutgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__pGZ-I0iz-G0__JHASH__"),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("MAWSecurePlaceholderTombstone.react",["MAWUnavailablePlaceholder.react","MAWUnavailableStoryPlaceholder.react","MAWXMAUtils","ReQL","ReQLSuspense","justknobx","react","react-compiler-runtime","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.attachments||b[1]!==a.messageId||b[2]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId)},b[0]=e.tables.attachments,b[1]=a.messageId,b[2]=a.threadKey,b[3]=g):g=b[3];var i;b[4]!==e||b[5]!==a.messageId||b[6]!==a.threadKey?(i=[e,a.threadKey,a.messageId],b[4]=e,b[5]=a.messageId,b[6]=a.threadKey,b[7]=i):i=b[7];return d("ReQLSuspense").useFirst(g,i,f.id+":27")}function a(a){var b=d("react-compiler-runtime").c(8),e=a.isOutgoing;a=a.message;a=a;a=k(a);if(a==null)return null;var f=a.defaultCtaType;a=a.xmaContentType;if(c("justknobx")._("3425")){if(a!=null&&d("MAWXMAUtils").isXMAFBStory(a)){b[0]!==e?(a=j.jsx(c("MAWUnavailableStoryPlaceholder.react"),{isOutgoing:e}),b[0]=e,b[1]=a):a=b[1];return a}b[2]!==e?(a=j.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:e}),b[2]=e,b[3]=a):a=b[3];return a}else{if(f==="xma_montage_share"){b[4]!==e?(a=j.jsx(c("MAWUnavailableStoryPlaceholder.react"),{isOutgoing:e}),b[4]=e,b[5]=a):a=b[5];return a}c("recoverableViolation")("Unexpected case where message is tombstone type but the attachment is not xma montage share","messenger_web_sharing");b[6]!==e?(f=j.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:e}),b[6]=e,b[7]=f):f=b[7];return f}}g["default"]=a}),98);
__d("MAWSecurePlaceholder.react",["fbt","FBLogger","I64","Int64Hooks","LSIntEnum","LSXmaContentType","MAWLocalizationType","MAWSecurePlaceholderTombstone.react","MAWUnavailablePlaceholder.react","MWPMessageListColumn.react","MWV2TombstonedMessage.react","MWXLink.react","MWXText.react","getMAWLocalizedFallbackMsgSnippet","justknobx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function m(a){var b=d("react-compiler-runtime").c(77),e=a.actorId,f=a.message;a=a.xmaContentType;var g=f.displayedContentTypes,i=f.senderId,m;b[0]!==e||b[1]!==i?(m=(j||(j=d("I64"))).equal(i,e),b[0]=e,b[1]=i,b[2]=m):m=b[2];e=m;b[3]!==g?(i=function(){if(!c("justknobx")._("3168"))return;(j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(65536))&&c("FBLogger")("messenger_encryption_placeholder").info("Message show up as encryption placeholder")},m=[g],b[3]=g,b[4]=i,b[5]=m):(i=b[4],m=b[5]);d("Int64Hooks").useEffectInt64(i,m);if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(65536))){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK),b[6]=i):i=b[6];m=e?"white":"primary";var n;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/messenger-app/2751245661706174?cms_platform=iphone-app&helpref=platform_switcher&locale=en_US",target:"_blank",children:h._(/*BTDS*/"__JHASH__LQVpvI75ts___JHASH__")}),b[7]=n):n=b[7];b[8]!==m?(n=l.jsx(c("MWXText.react"),{color:m,type:"bodyLink3",children:n}),b[8]=m,b[9]=n):n=b[9];b[10]!==e||b[11]!==n?(m=l.jsxs(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:[i," ",n]}),b[10]=e,b[11]=n,b[12]=m):m=b[12];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(131072))){i=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK;b[13]!==i?(n=c("getMAWLocalizedFallbackMsgSnippet")(i),b[13]=i,b[14]=n):n=b[14];b[15]!==e||b[16]!==n?(m=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:n}),b[15]=e,b[16]=n,b[17]=m):m=b[17];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(524288))){i=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK;b[18]!==i?(n=c("getMAWLocalizedFallbackMsgSnippet")(i),b[18]=i,b[19]=n):n=b[19];b[20]!==e||b[21]!==n?(m=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:n}),b[20]=e,b[21]=n,b[22]=m):m=b[22];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(4294967296))){i=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK;b[23]!==i?(n=c("getMAWLocalizedFallbackMsgSnippet")(i),b[23]=i,b[24]=n):n=b[24];b[25]!==e||b[26]!==n?(m=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:n}),b[25]=e,b[26]=n,b[27]=m):m=b[27];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(1048576))){i=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK;b[28]!==i?(n=c("getMAWLocalizedFallbackMsgSnippet")(i),b[28]=i,b[29]=n):n=b[29];b[30]!==e||b[31]!==n?(m=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:n}),b[30]=e,b[31]=n,b[32]=m):m=b[32];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(2097152))){i=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK;b[33]!==i?(n=c("getMAWLocalizedFallbackMsgSnippet")(i),b[33]=i,b[34]=n):n=b[34];b[35]!==e||b[36]!==n?(m=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:n}),b[35]=e,b[36]=n,b[37]=m):m=b[37];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(8589934592))||a!=null&&(k||(k=d("LSIntEnum"))).toNumber(a)===c("LSXmaContentType").MSG_MEMORIES_SHARE){b[38]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK),b[38]=i):i=b[38];b[39]!==e?(n=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:i}),b[39]=e,b[40]=n):n=b[40];return n}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(4194304))){m=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK;b[41]!==m?(a=c("getMAWLocalizedFallbackMsgSnippet")(m),b[41]=m,b[42]=a):a=b[42];b[43]!==e||b[44]!==a?(i=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:a}),b[43]=e,b[44]=a,b[45]=i):i=b[45];return i}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(2147483648))){n=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POST_MENTION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POST_MENTION_FALLBACK;b[46]!==n?(m=c("getMAWLocalizedFallbackMsgSnippet")(n),b[46]=n,b[47]=m):m=b[47];b[48]!==e||b[49]!==m?(a=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:m}),b[48]=e,b[49]=m,b[50]=a):a=b[50];return a}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(8388608))){b[51]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK),b[51]=i):i=b[51];b[52]!==e?(n=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:i}),b[52]=e,b[53]=n):n=b[53];return n}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(16777216))){m=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE;b[54]!==m?(a=c("getMAWLocalizedFallbackMsgSnippet")(m),b[54]=m,b[55]=a):a=b[55];b[56]!==e||b[57]!==a?(i=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:a}),b[56]=e,b[57]=a,b[58]=i):i=b[58];return i}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(262144))){b[59]!==e?(n=l.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:e}),b[59]=e,b[60]=n):n=b[60];return n}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(256))){b[61]!==e||b[62]!==f?(m=l.jsx(c("MAWSecurePlaceholderTombstone.react"),{isOutgoing:e,message:f}),b[61]=e,b[62]=f,b[63]=m):m=b[63];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(33554432))){b[64]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK),b[64]=a):a=b[64];b[65]!==e?(i=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:a}),b[65]=e,b[66]=i):i=b[66];return i}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(67108864))){n=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK;b[67]!==n?(f=c("getMAWLocalizedFallbackMsgSnippet")(n),b[67]=n,b[68]=f):f=b[68];b[69]!==e||b[70]!==f?(m=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:f}),b[69]=e,b[70]=f,b[71]=m):m=b[71];return m}if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(1073741824))){a=e?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_NOTE_MENTION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_NOTE_MENTION_FALLBACK;b[72]!==a?(i=c("getMAWLocalizedFallbackMsgSnippet")(a),b[72]=a,b[73]=i):i=b[73];b[74]!==e||b[75]!==i?(n=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:e,children:i}),b[74]=e,b[75]=i,b[76]=n):n=b[76];return n}return null}function a(a){var b=d("react-compiler-runtime").c(5),c=a.actorId,e=a.message;a=a.xmaContentType;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),b[0]=f):f=b[0];b[1]!==c||b[2]!==e||b[3]!==a?(f=l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[f,l.jsx(m,{actorId:c,message:e,xmaContentType:a})]}),b[1]=c,b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),226);
__d("MAWSecureAttachmentRenderer.react",["CometPlaceholder.react","MAWMsg","MAWSecureAttachment.react","MAWSecurePlaceholder.react","MWPActor.react","MWPMessageParsingUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function j(a,b,e,f,g,h,j,k){b=d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(a,b,"below");e=d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(a,e,"below");return i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSecureAttachmentRenderer.Suspense",children:d("MAWMsg").isMediaMsg(a)||d("MAWMsg").isXMAMsg(a)?i.jsx(c("MAWSecureAttachment.react"),{connectBottom:e,connectTop:b,hasEmphasisRing:k,hasText:h,mediaRenderQpl:g,message:a,outgoing:f}):i.jsx(c("MAWSecurePlaceholder.react"),{actorId:j,message:a})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(3),c=d("MWPActor.react").useActor(),e;b[0]!==c||b[1]!==a?(e=function(b,d,e,f,g,h){return j(b,d,e,f,h,g,c,a)},b[0]=c,b[1]=a,b[2]=e):e=b[2];b=e;return b}g.render=j;g.useRenderAttachment=a}),98);
__d("useMWMessageRowTheme",["MWLSThreadDisplayContext","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(){var a=d("react-compiler-runtime").c(2),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b=c("gkx")("23219")?"12px":b==="Inbox"?"16px":"8px";var e;a[0]!==b?(e={dark:{"mwp-message-list-profile-start-padding":b},light:{"mwp-message-list-profile-start-padding":b},type:"VARIABLES"},a[0]=b,a[1]=e):e=a[1];b=e;return b}g["default"]=a}),98);
__d("MWMessageRowAdminMessage.react",["BaseView.react","MWMessageListAttachmentContainer.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react","react-compiler-runtime","useMWMessageRowTheme","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingLeft:null,paddingRight:null,paddingTop:"x1nn3v0j",$$css:!0},adminMessageContainer:{maxWidth:"x193iq5w",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(29),e=a.domElementRef,f=a.isDialogOpened,g=a.isFirstMessageInGroup,h=a.isFocused,k=a.isModal,l=a.message,m=a.messageDomID,n=a.nextMessage,o=a.outgoing,p=a.prevMessage,q=a.setFocusedInTransition,r=a.setHoveredInTransition,s=a.setIsDialogOpened;a=a.stopHoveringRef;var t=c("useMWPEditMessageDeemphasizer")(),u=c("useMWMessageRowTheme")(),v;b[0]!==t?(v=[t,j.adminMessageContainer],b[0]=t,b[1]=v):v=b[1];b[2]!==l||b[3]!==n||b[4]!==p?(t=i.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:l,nextMessage:n,prevMessage:p}),b[2]=l,b[3]=n,b[4]=p,b[5]=t):t=b[5];b[6]!==l||b[7]!==o?(n=i.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:null,message:l,outgoing:o,xstyle:j.adminMessageAttachment}),b[6]=l,b[7]=o,b[8]=n):n=b[8];b[9]!==v||b[10]!==t||b[11]!==n?(p=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:i.jsxs(c("BaseView.react"),{xstyle:v,children:[t,n]})}),b[9]=v,b[10]=t,b[11]=n,b[12]=p):p=b[12];v=p;if(l.adminMsgCtaType==null){b[13]!==v?(t=i.jsx(c("MWV2MessageRowSimple.react"),{children:v}),b[13]=v,b[14]=t):t=b[14];return t}else{n=g?void 0:e;b[15]!==v||b[16]!==f||b[17]!==h||b[18]!==k||b[19]!==l||b[20]!==m||b[21]!==o||b[22]!==q||b[23]!==r||b[24]!==s||b[25]!==a||b[26]!==n||b[27]!==u?(p=i.jsx(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:n,isDialogOpened:f,isFocused:h,isModal:k,message:l,messageDomID:m,outgoing:o,setFocused:q,setHovered:r,setIsDialogOpened:s,stopHoveringRef:a,theme:u,children:v}),b[15]=v,b[16]=f,b[17]=h,b[18]=k,b[19]=l,b[20]=m,b[21]=o,b[22]=q,b[23]=r,b[24]=s,b[25]=a,b[26]=n,b[27]=u,b[28]=p):p=b[28];return p}}g["default"]=a}),98);
__d("MWExtraPinnedMessagePadding.react",["MWPMessageListColumn.react","react","react-compiler-runtime","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.nextMessage;a=c("useMWPIsMessagePinned")(a);var e;b[0]!==a?(e=a&&i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("MWShowMessagePromptPopoverContext.react",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;f=e.createContext;var j=e.useContext;e.useMemo;var k=e.useRef,l=f([{current:c("emptyFunction")},c("emptyFunction")]);function a(){return j(l)}function b(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e=k(c("emptyFunction")),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=[e,function(a){e.current=a}],b[0]=f):f=b[0];f=f;f=f;b[1]!==a?(f=i.jsx(l.Provider,{value:f,children:a}),b[1]=a,b[2]=f):f=b[2];return f}g.useMWShowMessagePromptPopoverContext=a;g.MWShowMessagePromptPopoverContextProvider=b}),98);
__d("useIsRollcallEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Boolean(d("MWLSThread").useThread(a,h));return a}function h(a){return d("LSThreadBitOffset").has(152,a)}g["default"]=a}),98);
__d("useShouldAllowRollCallForMessage",["I64","LSIntEnum","LSReplyMessageAttachmentType","MessagingAttachmentType","gkx","isStringNullOrEmpty","react-compiler-runtime","useIsRollcallEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=[c("MessagingAttachmentType").IMAGE,c("MessagingAttachmentType").VIDEO];function a(a,b){var e=d("react-compiler-runtime").c(2),f=c("useIsRollcallEnabled")(a.threadKey);if(!f)return!1;f=(h||(h=d("LSIntEnum"))).equal(a.replyAttachmentType,c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(h||(h=d("LSIntEnum"))).equal(a.replyAttachmentId,0);if(f)return!1;if(c("gkx")("7782")&&!c("isStringNullOrEmpty")(a.text))return!0;e[0]!==b?(f=b.some(k),e[0]=b,e[1]=f):f=e[1];return f}function k(a){var b=(a=a.attachmentType)!=null?a:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE);return j.some(function(a){return(i||(i=d("I64"))).equal(b,(h||(h=d("LSIntEnum"))).ofNumber(a))})}g.ATTACHMENT_TYPES_THAT_ALLOW_PROMPTS=j;g.useShouldAllowRollCallForMessage=a}),98);
__d("MWMessagePromptPopoverTrigger.react",["I64","JSResourceForInteraction","MWPActor.react","MWShowMessagePromptPopoverContext.react","MWXLazyPopoverTrigger.react","emptyFunction","react","react-compiler-runtime","useShouldAllowRollCallForMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useRef,l=c("JSResourceForInteraction")("MWMessagePromptPopover.react").__setRef("MWMessagePromptPopoverTrigger.react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.attachments,f=a.children;a=a.message;e=d("useShouldAllowRollCallForMessage").useShouldAllowRollCallForMessage(a,e);var g=k(!1),h=d("MWPActor.react").useActor(),m=d("MWShowMessagePromptPopoverContext.react").useMWShowMessagePromptPopoverContext(),n=m[1];if(e){b[0]!==a?(m={message:a,onClose:c("emptyFunction")},b[0]=a,b[1]=m):m=b[1];e=(i||(i=d("I64"))).equal(h,a.senderId)?"start":"end";b[2]!==f||b[3]!==n?(h=function(a,b){g.current===!1&&(g.current=!0,n(b));return j.jsx("div",{ref:a,children:f})},b[2]=f,b[3]=n,b[4]=h):h=b[4];b[5]!==m||b[6]!==e||b[7]!==h?(a=j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:m,popoverResource:l,position:e,children:h}),b[5]=m,b[6]=e,b[7]=h,b[8]=a):a=b[8];return a}return f}g["default"]=a}),98);
__d("MDSPinnedMessageIcon.react",["MDSSvgIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useId;function a(a){var b=d("react-compiler-runtime").c(38),e=j(),f=j(),g=j(),h=j(),k="url(#"+e+")",l="url(#"+f+")",m;b[0]!==l?(m=i.jsx("rect",{fill:l,height:"2",width:"8",x:"17",y:"26"}),b[0]=l,b[1]=m):m=b[1];b[2]!==k||b[3]!==m?(l=i.jsx("g",{filter:k,children:m}),b[2]=k,b[3]=m,b[4]=l):l=b[4];k="url(#"+g+")";b[5]!==k?(m=i.jsx("path",{d:"M23.9989 27.5928L23.9988 27.5383L24.0367 27.585C24.1817 27.7518 24.7409 28.2715 25.8875 27.9427C26.9382 27.6414 26.5281 26.8227 26.371 26.5705C26.3138 26.4819 26.2525 26.3965 26.1873 26.3135L16.8703 14.3899C16.2845 15.045 15.5884 15.6539 14.8084 16.0737L23.9989 27.5928Z",fill:k}),b[5]=k,b[6]=m):m=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(k=i.jsx("path",{d:"M11.5653 17.1305C15.7434 17.1305 19.1305 13.7434 19.1305 9.56526C19.1305 5.38708 15.7434 2 11.5653 2C7.38708 2 4 5.38708 4 9.56526C4 13.7434 7.38708 17.1305 11.5653 17.1305Z",fill:"#FF0D0D"}),b[7]=k):k=b[7];var n="url(#"+h+")",o;b[8]!==n?(o=i.jsx("path",{d:"M9.19306 12.5345C6.38338 10.2164 5.72669 6.37369 7.72578 3.95078C9.72486 1.52787 13.6231 1.44245 16.432 3.76062C19.2417 6.07879 19.8984 9.92145 17.8993 12.3444C15.9002 14.7673 12.0019 14.8519 9.19306 12.5345Z",fill:n}),b[8]=n,b[9]=o):o=b[9];var p,q;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(n=i.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),p=i.jsx("feBlend",{"in":"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),q=i.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_28_51",stdDeviation:"0.2"}),b[10]=p,b[11]=q,b[12]=n):(p=b[10],q=b[11],n=b[12]);b[13]!==e?(n=i.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"2.8",id:e,width:"8.8",x:"16.6",y:"25.6",children:[n,p,q]}),b[13]=e,b[14]=n):n=b[14];b[15]===Symbol["for"]("react.memo_cache_sentinel")?(p=i.jsx("stop",{stopColor:"#969495"}),q=i.jsx("stop",{offset:"1",stopColor:"#D9D9D9",stopOpacity:"0"}),b[15]=p,b[16]=q):(p=b[15],q=b[16]);b[17]!==f?(e=i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:f,x1:"25",x2:"17.6667",y1:"27",y2:"27",children:[p,q]}),b[17]=f,b[18]=e):e=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(p=i.jsx("stop",{stopColor:"#666666"}),q=i.jsx("stop",{offset:"1",stopColor:"#CACCCD"}),b[19]=p,b[20]=q):(p=b[19],q=b[20]);b[21]!==g?(f=i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:g,x1:"20.4956",x2:"21.941",y1:"22.4135",y2:"21.2698",children:[p,q]}),b[21]=g,b[22]=f):f=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(p=i.jsx("stop",{stopColor:"white",stopOpacity:"0.5"}),q=i.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}),b[23]=p,b[24]=q):(p=b[23],q=b[24]);b[25]!==h?(g=i.jsxs("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(12.8132 8.1471) rotate(129.523) scale(5.68739 6.59482)",gradientUnits:"userSpaceOnUse",id:h,r:"1",children:[p,q]}),b[25]=h,b[26]=g):g=b[26];b[27]!==n||b[28]!==e||b[29]!==f||b[30]!==g?(p=i.jsxs("defs",{children:[n,e,f,g]}),b[27]=n,b[28]=e,b[29]=f,b[30]=g,b[31]=p):p=b[31];b[32]!==a||b[33]!==p||b[34]!==l||b[35]!==m||b[36]!==o?(q=i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[l,m,k,o,p]})),b[32]=a,b[33]=p,b[34]=l,b[35]=m,b[36]=o,b[37]=q):q=b[37];return q}g["default"]=a}),98);
__d("usePinnedIconAnimation",["react","react-compiler-runtime","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimationIncoming:{animationDuration:"x5hsz1j",animationName:"x1ko8byu",animationTimingFunction:"x4hg4is",$$css:!0},mountAnimationOutgoing:{animationDuration:"x5hsz1j",animationName:"x1c78tyx",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a,b){var e=d("react-compiler-runtime").c(6),f=k(!1),g=f[0],h=f[1],m=j(a);f=b?l.mountAnimationOutgoing:l.mountAnimationIncoming;var n;e[0]!==a?(b=function(){a!==m.current&&h(!0),m.current=a},n=[a],e[0]=a,e[1]=b,e[2]=n):(b=e[1],n=e[2]);i(b,n);b=g?f:null;n=c("useDebouncedValue")(a,200);e[3]!==b||e[4]!==n?(g={mountAnimation:b,shouldShow:n,unmountAnimation:l.unmountAnimation},e[3]=b,e[4]=n,e[5]=g):g=e[5];return g}g["default"]=a}),98);
__d("MWPinnedMessageOverlay.react",["MDSPinnedMessageIcon.react","react","react-compiler-runtime","stylex","useMWPIsMessagePinned","usePinnedIconAnimation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={alignEnd:{end:"xds687c",transform:"x7b9nwf",$$css:!0},alignStart:{start:"x17qophe",transform:"x1op1vkj",$$css:!0},container:{position:"x10l6tqk",top:"x13vifvy",zIndex:"xhtitgo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.alreadyRenderedPin,f=a.children,g=a.message;a=a.outgoing;g=c("useMWPIsMessagePinned")(g);var i=c("usePinnedIconAnimation")(g,a),l=i.mountAnimation,m=i.shouldShow;i=i.unmountAnimation;if(!m||e){b[0]!==f?(m=j.jsx(j.Fragment,{children:f}),b[0]=f,b[1]=m):m=b[1];return m}b[2]!==f||b[3]!==g||b[4]!==l||b[5]!==a||b[6]!==i?(e=f&&j.jsxs("div",babelHelpers["extends"]({className:"x1n2onr6"},{children:[j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([k.container,a?k.alignEnd:k.alignStart,g?l:i]),{children:j.jsx(c("MDSPinnedMessageIcon.react"),{color:"tertiary",size:16})})),f]})),b[2]=f,b[3]=g,b[4]=l,b[5]=a,b[6]=i,b[7]=e):e=b[7];return e}g["default"]=a}),98);
__d("MWBlockedTombstoneMessage.react",["fbt","MWChatBubbleEmphasisRing.react","MWPVisibleMessageContext.react","MWV2TombstonedMessage.react","MWXPressable.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={bubble:{paddingBottom:"x1120s5i",$$css:!0},bubbleReply:{paddingBottom:"xwib8y2",$$css:!0}};b={ORIGINAL_MESSAGE:"original-message",REPLIED_TO:"replied-to"};function a(a){var b=d("react-compiler-runtime").c(14),e=a.isLastMessageInGroup,f=a.message,g=a.onClick;a=a.source;var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._(/*BTDS*/"__JHASH__IgHPZSLlYoi__JHASH__"),b[0]=j):j=b[0];j=j;var m=f.messageId,n=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();n=n.visibleMessage;n=(n==null?void 0:n.source)==="Pinned"&&(n==null?void 0:n.messageId)===m;b[1]!==f||b[2]!==n||b[3]!==a?(m=n?k.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,message:f,outgoing:!1,precedesXMA:!1,children:k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,isReply:a==="replied-to",children:j})}):k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,isReply:a==="replied-to",children:j}),b[1]=f,b[2]=n,b[3]=a,b[4]=m):m=b[4];j=m;b[5]!==e||b[6]!==a?(f=(i||(i=c("stylex"))).props(e===!1&&l.bubble,a==="replied-to"&&l.bubbleReply),b[5]=e,b[6]=a,b[7]=f):f=b[7];b[8]!==j||b[9]!==g?(n=k.jsx(c("MWXPressable.react"),{onPress:g,overlayDisabled:!0,children:j}),b[8]=j,b[9]=g,b[10]=n):n=b[10];b[11]!==f||b[12]!==n?(m=k.jsx("div",babelHelpers["extends"]({},f,{"data-testid":void 0,children:n})),b[11]=f,b[12]=n,b[13]=m):m=b[13];return m}g.MWBlockedTombstoneMessageSource=b;g.MWBlockedTombstoneMessage=a}),226);
__d("MWPBaseRepliedMessage.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWXPressable.react","justknobx","react","react-compiler-runtime","recoverableViolation","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(210),e=a.clickToNavigateToReply,f=a.earlyCheckForReplyStatus,g=a.isSecureMessage,h=a.mediaRenderQpl,l=a.message,n=a.outgoing,o=a.renderAttachment,p=a.renderCollection,q=a.renderExpiredMessage,r=a.renderGIF,s=a.renderMedia,t=a.renderPost,u=a.renderRaven,v=a.renderRemovedMessage,w=a.renderRollcallContribution,x=a.renderSticker,y=a.renderStory,z=a.renderTextMessage,A=a.renderUnavailableMessage,B=a.renderUnavailableStory;a=a.renderVideo;e=e===void 0?!0:e;f=f===void 0?!1:f;var C=c("justknobx")._("2738"),D=l.replyAttachmentId,E=l.replyAttachmentType,F=l.replyMessageText,G=l.replySourceTypeV2,H=l.replyStatus,I=G!=null&&(i||(i=d("I64"))).equal(G,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY)),J=G!=null&&(i||(i=d("I64"))).equal(G,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY)),K=D!=null||I;if(J)if(B!=null){b[0]!==B||b[1]!==n?(J=k.jsx(B,{outgoing:n}),b[0]=B,b[1]=n,b[2]=J):J=b[2];J=J}else J=null;else if(E!=null&&K&&(!f||H!=null&&!(i||(i=d("I64"))).equal(H,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED))))if(((i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||(i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&I){b[3]!==y||b[4]!==g||b[5]!==h||b[6]!==l||b[7]!==n?(K=k.jsx(y,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[3]=y,b[4]=g,b[5]=h,b[6]=l,b[7]=n,b[8]=K):K=b[8];J=K}else if(D!=null)if(C&&(i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))&&o!=null)if(F!=null&&F!==""){b[9]!==z||b[10]!==g||b[11]!==l||b[12]!==n||b[13]!==F?(f=k.jsx(z,{isSecureMessage:g,message:l,outgoing:n,text:F}),b[9]=z,b[10]=g,b[11]=l,b[12]=n,b[13]=F,b[14]=f):f=b[14];J=f}else{b[15]!==o||b[16]!==g||b[17]!==h||b[18]!==l||b[19]!==n?(I=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[15]=o,b[16]=g,b[17]=h,b[18]=l,b[19]=n,b[20]=I):I=b[20];J=I}else if((i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER))){b[21]!==o||b[22]!==g||b[23]!==h||b[24]!==l||b[25]!==n?(y=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[21]=o,b[22]=g,b[23]=h,b[24]=l,b[25]=n,b[26]=y):y=b[26];J=y}else if((i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO)))if(s!=null){b[27]!==s||b[28]!==g||b[29]!==h||b[30]!==l||b[31]!==n?(K=k.jsx(s,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[27]=s,b[28]=g,b[29]=h,b[30]=l,b[31]=n,b[32]=K):K=b[32];J=K}else{b[33]!==o||b[34]!==g||b[35]!==h||b[36]!==l||b[37]!==n?(f=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[33]=o,b[34]=g,b[35]=h,b[36]=l,b[37]=n,b[38]=f):f=b[38];J=f}else if((i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)))if(w!=null){b[39]!==w||b[40]!==g||b[41]!==h||b[42]!==l||b[43]!==n?(I=k.jsx(w,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[39]=w,b[40]=g,b[41]=h,b[42]=l,b[43]=n,b[44]=I):I=b[44];J=I}else{b[45]!==o||b[46]!==g||b[47]!==h||b[48]!==l||b[49]!==n?(y=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[45]=o,b[46]=g,b[47]=h,b[48]=l,b[49]=n,b[50]=y):y=b[50];J=y}else if((i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO)))if(p!=null){b[51]!==p||b[52]!==l||b[53]!==n?(K=k.jsx(p,{message:l,outgoing:n}),b[51]=p,b[52]=l,b[53]=n,b[54]=K):K=b[54];J=K}else if(s!=null){b[55]!==s||b[56]!==g||b[57]!==h||b[58]!==l||b[59]!==n?(f=k.jsx(s,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[55]=s,b[56]=g,b[57]=h,b[58]=l,b[59]=n,b[60]=f):f=b[60];J=f}else{b[61]!==o||b[62]!==g||b[63]!==h||b[64]!==l||b[65]!==n?(w=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[61]=o,b[62]=g,b[63]=h,b[64]=l,b[65]=n,b[66]=w):w=b[66];J=w}else if((i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))if(a!=null){b[67]!==a||b[68]!==g||b[69]!==h||b[70]!==l||b[71]!==n?(I=k.jsx(a,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[67]=a,b[68]=g,b[69]=h,b[70]=l,b[71]=n,b[72]=I):I=b[72];J=I}else{b[73]!==o||b[74]!==g||b[75]!==h||b[76]!==l||b[77]!==n?(y=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[73]=o,b[74]=g,b[75]=h,b[76]=l,b[77]=n,b[78]=y):y=b[78];J=y}else if((i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF)))if(r!=null){b[79]!==r||b[80]!==g||b[81]!==h||b[82]!==l||b[83]!==n?(p=k.jsx(r,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[79]=r,b[80]=g,b[81]=h,b[82]=l,b[83]=n,b[84]=p):p=b[84];J=p}else{b[85]!==o||b[86]!==g||b[87]!==h||b[88]!==l||b[89]!==n?(K=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[85]=o,b[86]=g,b[87]=h,b[88]=l,b[89]=n,b[90]=K):K=b[90];J=K}else if((i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER)))if(x!=null){b[91]!==x||b[92]!==g||b[93]!==h||b[94]!==l||b[95]!==n?(f=k.jsx(x,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[91]=x,b[92]=g,b[93]=h,b[94]=l,b[95]=n,b[96]=f):f=b[96];J=f}else{b[97]!==o||b[98]!==g||b[99]!==h||b[100]!==l||b[101]!==n?(w=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[97]=o,b[98]=g,b[99]=h,b[100]=l,b[101]=n,b[102]=w):w=b[102];J=w}else if((i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").LINK))||(i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||(i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))||(i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").AUDIO))){b[103]!==o||b[104]!==g||b[105]!==h||b[106]!==l||b[107]!==n?(a=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[103]=o,b[104]=g,b[105]=h,b[106]=l,b[107]=n,b[108]=a):a=b[108];J=a}else if(t!=null){b[109]!==t||b[110]!==g||b[111]!==h||b[112]!==l||b[113]!==n?(I=k.jsx(t,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[109]=t,b[110]=g,b[111]=h,b[112]=l,b[113]=n,b[114]=I):I=b[114];J=I}else{y="Unknown attachment type: "+(i||(i=d("I64"))).to_string(E);b[115]!==y?(r=c("recoverableViolation")(y,"messenger_comet"),b[115]=y,b[116]=r):r=b[116];J=r}else if((i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&x!=null){b[117]!==x||b[118]!==g||b[119]!==h||b[120]!==l||b[121]!==n?(p=k.jsx(x,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[117]=x,b[118]=g,b[119]=h,b[120]=l,b[121]=n,b[122]=p):p=b[122];J=p}else if(!C&&(i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))&&o!=null)if(F!=null&&F!==""){b[123]!==z||b[124]!==g||b[125]!==l||b[126]!==n||b[127]!==F?(K=k.jsx(z,{isSecureMessage:g,message:l,outgoing:n,text:F}),b[123]=z,b[124]=g,b[125]=l,b[126]=n,b[127]=F,b[128]=K):K=b[128];J=K}else{b[129]!==o||b[130]!==g||b[131]!==h||b[132]!==l||b[133]!==n?(f=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[129]=o,b[130]=g,b[131]=h,b[132]=l,b[133]=n,b[134]=f):f=b[134];J=f}else J=null;else if(G!=null&&(i||(i=d("I64"))).equal(G,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))&&F!=null&&F!==""){w=(i||(i=d("I64"))).of_float(Date.now());a=l.replyMediaExpirationTimestampMs;t=a!=null&&(i||(i=d("I64"))).gt(w,a)&&!(i||(i=d("I64"))).equal(a,(i||(i=d("I64"))).zero);if(t)J=null;else{b[135]!==z||b[136]!==g||b[137]!==l||b[138]!==n||b[139]!==F?(I=k.jsx(z,{isSecureMessage:g,message:l,outgoing:n,text:F}),b[135]=z,b[136]=g,b[137]=l,b[138]=n,b[139]=F,b[140]=I):I=b[140];J=I}}else if(D!=null)if(s!=null){b[141]!==s||b[142]!==g||b[143]!==h||b[144]!==l||b[145]!==n?(y=k.jsx(s,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[141]=s,b[142]=g,b[143]=h,b[144]=l,b[145]=n,b[146]=y):y=b[146];J=y}else{b[147]!==o||b[148]!==g||b[149]!==h||b[150]!==l||b[151]!==n?(r=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[147]=o,b[148]=g,b[149]=h,b[150]=l,b[151]=n,b[152]=r):r=b[152];J=r}else if(E!=null&&(i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE))&&u!=null){b[153]!==u||b[154]!==g||b[155]!==h||b[156]!==l||b[157]!==n?(x=k.jsx(u,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[153]=u,b[154]=g,b[155]=h,b[156]=l,b[157]=n,b[158]=x):x=b[158];J=x}else if(H!=null&&(i||(i=d("I64"))).equal(H,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED)))if(v!=null){b[159]!==v||b[160]!==n?(p=k.jsx(v,{outgoing:n}),b[159]=v,b[160]=n,b[161]=p):p=b[161];J=p}else J=null;else if(H!=null&&(i||(i=d("I64"))).equal(H,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").EXPIRED)))if(q!=null){b[162]!==q||b[163]!==g||b[164]!==h||b[165]!==l||b[166]!==n?(C=k.jsx(q,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[162]=q,b[163]=g,b[164]=h,b[165]=l,b[166]=n,b[167]=C):C=b[167];J=C}else J=null;else if(H!=null&&(i||(i=d("I64"))).equal(H,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE)))if(A!=null){b[168]!==A||b[169]!==n?(K=k.jsx(A,{outgoing:n}),b[168]=A,b[169]=n,b[170]=K):K=b[170];J=K}else J=null;else if(F!=null&&G!=null&&(i||(i=d("I64"))).equal(G,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)))if(F!==""){b[171]!==z||b[172]!==g||b[173]!==l||b[174]!==n||b[175]!==F?(f=k.jsx(z,{isSecureMessage:g,message:l,outgoing:n,text:F}),b[171]=z,b[172]=g,b[173]=l,b[174]=n,b[175]=F,b[176]=f):f=b[176];J=f}else{b[177]!==o||b[178]!==g||b[179]!==h||b[180]!==l||b[181]!==n?(w=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[177]=o,b[178]=g,b[179]=h,b[180]=l,b[181]=n,b[182]=w):w=b[182];J=w}else if(E!=null&&(i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA)))if(B!=null){b[183]!==B||b[184]!==n?(a=k.jsx(B,{outgoing:n}),b[183]=B,b[184]=n,b[185]=a):a=b[185];J=a}else{b[186]!==o||b[187]!==g||b[188]!==h||b[189]!==l||b[190]!==n?(t=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[186]=o,b[187]=g,b[188]=h,b[189]=l,b[190]=n,b[191]=t):t=b[191];J=t}else J=null;b[192]===Symbol["for"]("react.memo_cache_sentinel")?(I={className:"x193iq5w x1n2onr6 x1vjfegm"},b[192]=I):I=b[192];b[193]!==J?(D=k.jsx("div",babelHelpers["extends"]({},I,{children:J})),b[193]=J,b[194]=D):D=b[194];s=D;var L=l.replySourceTimestampMs,M=l.replySourceId,N=c("useMWJumpToMessage")("Reply");y=E!=null&&((i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(E,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)));var O=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler();r=c("useIsRollcallEnabled")(l.threadKey);u=(j||(j=d("LSIntEnum"))).equal(l.replyAttachmentType,c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(j||(j=d("LSIntEnum"))).equal(l.replyAttachmentId,0);if(M!=null&&L!=null&&e&&!u){b[195]!==N||b[196]!==M||b[197]!==L?(x=function(){N(M,L)},b[195]=N,b[196]=M,b[197]=L,b[198]=x):x=b[198];v=x;if(y&&r){if(b[199]!==l.replyAttachmentExtra){q=(i||(i=d("I64"))).of_string((p=l.replyAttachmentExtra)!=null?p:"0");b[199]=l.replyAttachmentExtra;b[200]=q}else q=b[200];var P=q,Q=l.threadKey,R=(C=l.replySourceId)!=null?C:null;b[201]!==l.messageId||b[202]!==O||b[203]!==P||b[204]!==R||b[205]!==Q?(H=function(){O(P,Q,R,null,l.messageId)},b[201]=l.messageId,b[202]=O,b[203]=P,b[204]=R,b[205]=Q,b[206]=H):H=b[206];v=H}b[207]!==v||b[208]!==s?(A=k.jsx(c("MWXPressable.react"),{onPress:v,overlayDisabled:!0,xstyle:m,children:s}),b[207]=v,b[208]=s,b[209]=A):A=b[209];return A}else return s}function m(){return[l.pressable]}g["default"]=a}),98);
__d("MWXMessageReplyBubble.react",["fbt","CometScreenReaderText.react","MWXMessageBubble.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={content:{overflowWrap:"x1mzt3pk",paddingBottom:"x1l90r2v",paddingTop:"x1iorvi4",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.children,f=a.fontStyle;a=a.outgoing;f=f===void 0?"normal":f;a=a?"right":"left";var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("CometScreenReaderText.react"),{text:h._(/*BTDS*/"__JHASH__pLiiclD1jc1__JHASH__")}),b[0]=g):g=b[0];var j;b[1]!==f?(j=(i||(i=c("stylex"))).props(l.content,f==="italic"&&l.italic),b[1]=f,b[2]=j):j=b[2];b[3]!==e||b[4]!==j?(f=k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:k.jsx("div",babelHelpers["extends"]({},j,{"data-testid":void 0,children:e}))}),b[3]=e,b[4]=j,b[5]=f):f=b[5];b[6]!==a||b[7]!==f?(e=k.jsxs(c("MWXMessageBubble.react"),{align:a,color:"quoted",connectBottom:!0,connectTop:!1,precedesXMA:!1,children:[g,f]}),b[6]=a,b[7]=f,b[8]=e):e=b[8];return e}g["default"]=a}),226);
__d("MWRepliesAttachment.react",["fbt","ix","MWXIcon.react","MWXMessageReplyBubble.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useEffect;function a(a){var b=d("react-compiler-runtime").c(9),e=a.mediaRenderQpl;a=a.outgoing;var f,g;b[0]!==e?(f=function(){e==null?void 0:e.addPoint("render-replies-attachment")},g=[e],b[0]=e,b[1]=f,b[2]=g):(f=b[1],g=b[2]);l(f,g);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"__JHASH__ExfgVu3ZeIV__JHASH__"),b[3]=f):f=b[3];g=f;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x78zum5"},b[4]=f):f=b[4];var j;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x1lliihq x1i64zmx"},b[5]=j):j=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsxs("div",babelHelpers["extends"]({},f,{children:[g,k.jsx("span",babelHelpers["extends"]({},j,{children:k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})}))]})),b[6]=f):f=b[6];b[7]!==a?(g=k.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:f}),b[7]=a,b[8]=g):g=b[8];return g}g["default"]=a}),226);
__d("MWRepliesExpired.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=d("react-compiler-runtime").c(6),e=a.mediaRenderQpl;a=a.outgoing;var f,g;b[0]!==e?(f=function(){e==null?void 0:e.addPoint("render-replies-expired"),e==null?void 0:e.endSuccess()},g=[e],b[0]=e,b[1]=f,b[2]=g):(f=b[1],g=b[2]);k(f,g);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"__JHASH__LRWYiWT4b63__JHASH__"),b[3]=f):f=b[3];g=f;b[4]!==a?(f=j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:g}),b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),226);
__d("useMWRepliesImageGetMaxDimensions",["MWLSThreadDisplayContext","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b=b==="ChatTab";b=b?180:300;var c;a[0]!==b?(c={maxHeight:100,maxWidth:b},a[0]=b,a[1]=c):c=a[1];return c}g["default"]=a}),98);
__d("MWRepliesImage.react",["fbt","I64","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWPThreadCapabilitiesContext","MWXAspectRatioContainer.react","MWXMessageImage.react","MWXMessageReplyBubble.react","cr:4509","emptyFunction","gkx","react","react-compiler-runtime","stylex","useMWRepliesImageGetMaxDimensions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));j.useCallback;var m={incoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(32),f=a.attachment,g=a.height,j=a.imageAlt,n=a.isAnimatedImage,o=a.isSecureMessage,p=a.isSticker,q=a.mediaRenderQpl,r=a.message,s=a.outgoing,t=a.src,u=a.width;a=j===void 0?"":j;j=n===void 0?!1:n;var v=o===void 0?!1:o,w=p===void 0?!1:p;n=d("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting();e[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=d("MWAnimatedImageControlsUtil").getShouldEnableGIFPlayPause(),e[0]=o):o=e[0];p=o;o=c("useMWRepliesImageGetMaxDimensions")();var x=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();x=x.blurMediaEnabled;x=c("gkx")("24098")&&x;var y=w?!1:s?m.outgoing:m.incoming,z;e[1]!==q?(z=function(){q==null?void 0:q.endFail("load-image-error")},e[1]=q,e[2]=z):z=e[2];z=z;var A;e[3]!==q?(A=function(){q==null?void 0:q.endSuccess()},e[3]=q,e[4]=A):A=e[4];A=A;if(j&&p&&n===null){var B;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(B=h._(/*BTDS*/"__JHASH__kPmtZiB6viN__JHASH__"),e[5]=B):B=e[5];e[6]!==s?(B=l.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:s,children:B}),e[6]=s,e[7]=B):B=e[7];return B}e[8]!==f||e[9]!==y||e[10]!==g||e[11]!==a||e[12]!==j||e[13]!==n||e[14]!==v||e[15]!==w||e[16]!==o.maxHeight||e[17]!==o.maxWidth||e[18]!==q||e[19]!==r||e[20]!==z||e[21]!==A||e[22]!==s||e[23]!==t||e[24]!==u?(B=j&&p&&n===!1?l.jsx(c("MWXAspectRatioContainer.react"),{height:g!=null?(k||(k=d("I64"))).to_float(g):o.maxHeight,maxHeight:o.maxHeight,maxWidth:o.maxWidth,width:u!=null?(k||(k=d("I64"))).to_float(u):o.maxWidth,children:function(a){return l.jsx("div",{className:(i||(i=c("stylex")))([m.root,w&&m.rootHasSticker,y,a]),children:l.jsx(c("MWAnimatedImageThumbnailWithPlayButton.react"),{connectBottom:!1,connectTop:!1,dbAttachment:f,isInThread:!0,isReplyImage:!0,isSecure:v,mediaRenderQpl:q,message:r,onPlay:c("emptyFunction"),onPress:c("emptyFunction"),outgoing:s,previewHeight:g!=null?(k||(k=d("I64"))).to_float(g):void 0,previewWidth:u!=null?(k||(k=d("I64"))).to_float(u):void 0})})}}):l.jsx(c("MWXMessageImage.react"),{alt:a,height:g!=null?(k||(k=d("I64"))).to_float(g):void 0,maxHeight:o.maxHeight,maxWidth:o.maxWidth,onError:z,onLoad:A,src:t,width:u!=null?(k||(k=d("I64"))).to_float(u):void 0,xstyle:[m.root,w&&m.rootHasSticker,y]}),e[8]=f,e[9]=y,e[10]=g,e[11]=a,e[12]=j,e[13]=n,e[14]=v,e[15]=w,e[16]=o.maxHeight,e[17]=o.maxWidth,e[18]=q,e[19]=r,e[20]=z,e[21]=A,e[22]=s,e[23]=t,e[24]=u,e[25]=B):B=e[25];p=B;if(b("cr:4509")!=null&&x&&!w){e[26]!==y?(a=[m.root,y],e[26]=y,e[27]=a):a=e[27];e[28]!==p||e[29]!==t||e[30]!==a?(j=l.jsx(b("cr:4509"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:t,xstyle:a,children:p}),e[28]=p,e[29]=t,e[30]=a,e[31]=j):j=e[31];return j}return p}g["default"]=a}),226);
__d("MWRepliesGIF.react",["fbt","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWRepliesImage.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:9765","react","react-compiler-runtime","useMAWMediaStatusUIState","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect;function n(a){var e=d("react-compiler-runtime").c(28),g=a.isSecureMessage,k=a.mediaRenderQpl,n=a.message;a=a.outgoing;g=g===void 0?!1:g;var o,p;e[0]!==k?(o=function(){k==null?void 0:k.addPoint("render-replies-gif-impl")},p=[k],e[0]=k,e[1]=o,e[2]=p):(o=e[1],p=e[2]);m(o,p);var q=(i||(i=c("useReStore")))();e[3]!==q.tables.attachments||e[4]!==n.replyAttachmentId||e[5]!==n.replyAttachmentPlaintextHash||e[6]!==n.replySourceId||e[7]!==n.threadKey?(o=function(){var a,b=(a=n.replyAttachmentPlaintextHash)!=null?a:null,c=(a=n.replySourceId)!=null?a:"";if(b!=null)return d("ReQL").fromTableAscending(q.tables.attachments).filter(function(a){return a.attachmentFbid===b&&a.messageId===c});else{a=(a=n.replyAttachmentId)!=null?a:(j||(j=d("I64"))).zero;return d("ReQL").fromTableAscending(q.tables.attachments).getKeyRange(n.threadKey,c,(j||(j=d("I64"))).to_string(a))}},e[3]=q.tables.attachments,e[4]=n.replyAttachmentId,e[5]=n.replyAttachmentPlaintextHash,e[6]=n.replySourceId,e[7]=n.threadKey,e[8]=o):o=e[8];e[9]!==q||e[10]!==n?(p=[q,n],e[9]=q,e[10]=n,e[11]=p):p=e[11];o=d("ReQLSuspense").useFirst(o,p,f.id+":47");p=g?o:null;p=c("useMAWMediaStatusUIState")(p,k);p=p.downloadStatus;var r;if(o!=null)if(p!=="downloaded"&&g)r=null;else if(b("cr:9765")==null||!g){e[12]!==o?(p=d("LSMediaUrlAttachment").previewUrl(o),e[12]=o,e[13]=p):p=e[13];r=p}else{e[14]!==o.attachmentFbid||e[15]!==k?(p=b("cr:9765").getAttachmentBlobNonOptional(o.attachmentFbid,"MWRepliesGIF",k),e[14]=o.attachmentFbid,e[15]=k,e[16]=p):p=e[16];r=p}if(r!=null&&r!==""){p=o==null?void 0:o.accessibilitySummaryText;var s;e[17]!==o||e[18]!==g||e[19]!==k||e[20]!==n||e[21]!==a||e[22]!==r||e[23]!==p?(s=l.jsx(c("MWRepliesImage.react"),{attachment:o,height:n.replyMediaPreviewHeight,imageAlt:p,isAnimatedImage:!0,isSecureMessage:g,mediaRenderQpl:k,message:n,outgoing:a,src:r,width:n.replyMediaPreviewWidth}),e[17]=o,e[18]=g,e[19]=k,e[20]=n,e[21]=a,e[22]=r,e[23]=p,e[24]=s):s=e[24];return s}else{e[25]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"__JHASH__kPmtZiB6viN__JHASH__"),e[25]=o):o=e[25];e[26]!==a?(g=l.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:o}),e[26]=a,e[27]=g):g=e[27];return g}}function a(a){var b=d("react-compiler-runtime").c(7),e;b[0]!==a?(e=babelHelpers["extends"]({},a),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==e.mediaRenderQpl?(a=function(){var a;(a=e.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-gif")},f=[e.mediaRenderQpl],b[2]=e.mediaRenderQpl,b[3]=a,b[4]=f):(a=b[3],f=b[4]);m(a,f);b[5]!==e?(a=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesGIF",children:l.jsx(n,babelHelpers["extends"]({},e))}),b[5]=e,b[6]=a):a=b[6];return a}g["default"]=a}),226);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.replyMediaExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return a.replyMediaUrlFallback;else return a.replyMediaUrl}g["default"]=a}),98);
__d("MWRepliesMedia.react",["fbt","ix","CometHeroHoldTrigger.react","CometPlaceholder.react","FDSIcon.react","I64","IconSource","MWRepliesImage.react","MWV2AttachmentLoadingPlaceholder.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","cr:9765","getLSMediaMessageReplyMediaUrl","react","react-compiler-runtime","useMAWMediaStatusUIState","useMWRepliesImageGetMaxDimensions","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||(l=d("react")),n=l.useEffect;function o(a){var e=d("react-compiler-runtime").c(53),g=a.isSecureMessage,l=a.mediaRenderQpl,o=a.message;a=a.outgoing;g=g===void 0?!1:g;var p;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"__JHASH__bznTdd53oJN__JHASH__"),e[0]=p):p=e[0];p=p;e[1]!==a?(p=m.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:p}),e[1]=a,e[2]=p):p=e[2];p=p;var q=(j||(j=c("useReStore")))(),r;e[3]!==q||e[4]!==o.replyAttachmentId||e[5]!==o.replyAttachmentPlaintextHash||e[6]!==o.replySourceId||e[7]!==o.threadKey?(r=function(){var a=o.replySourceId;if(a!=null)if(o.replyAttachmentPlaintextHash!=null){var b=o.replyAttachmentPlaintextHash;return d("ReQL").fromTableAscending(q.tables.attachments).filter(function(c){return c.attachmentFbid===b&&c.messageId===a})}else if(o.replyAttachmentId!=null){var c=o.replyAttachmentId;return d("ReQL").fromTableAscending(q.tables.attachments).getKeyRange(o.threadKey,a,(k||(k=d("I64"))).to_string(c))}return d("ReQL").empty()},e[3]=q,e[4]=o.replyAttachmentId,e[5]=o.replyAttachmentPlaintextHash,e[6]=o.replySourceId,e[7]=o.threadKey,e[8]=r):r=e[8];var s;e[9]!==q||e[10]!==o?(s=[q,o],e[9]=q,e[10]=o,e[11]=s):s=e[11];var t=d("ReQLSuspense").useFirst(r,s,f.id+":94");e[12]!==t||e[13]!==l?(r=function(){t!=null&&(l==null?void 0:l.addAttachmentAnnotations==null?void 0:l.addAttachmentAnnotations(t)),l==null?void 0:l.addPoint("render-reply-media-impl",{bool:{has_db_attachment:t!=null}})},s=[t,l],e[12]=t,e[13]=l,e[14]=r,e[15]=s):(r=e[14],s=e[15]);n(r,s);r=c("useMWRepliesImageGetMaxDimensions")();s=g?t:null;var u=c("useMAWMediaStatusUIState")(s,l);u=u.downloadStatus;if(s!=null&&u!=="downloaded")return p;s=t!=null&&t.hasXma&&g&&t.gatingType===String(d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE);if(t!=null&&t.hasXma&&g){u=(u=t.defaultCtaType)!=null?u:""}else u="";var v;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(v=new(c("IconSource"))("FB",i("1423124"),28),e[16]=v):v=e[16];v=v;if(s)if(u==="xma_montage_share"){e[17]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x6s0dn4 x1qb2erx xjw5052 xyi19xy x1ccrb07 xtf3nb5 x1pc53ja x78zum5 xdt5ytf x1wkxgih xl56j7k x197sbye x2b8uid xni59qk"},u={className:"x14vqqas xq8finb xod5an3 x16n37ib"},e[17]=u,e[18]=s):(u=e[17],s=e[18]);e[19]!==v?(s=m.jsx("div",babelHelpers["extends"]({},s,{children:m.jsx("div",babelHelpers["extends"]({},u,{children:m.jsx(c("FDSIcon.react"),{icon:v})}))})),e[19]=v,e[20]=s):s=e[20];return s}else{e[21]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x6s0dn4 x99fzhk x18aeczl x1tlxs6b x1g8br2z x1gn5b1j x230xth x78zum5 xdt5ytf xpyat2d xl56j7k x2b8uid x1exxlbk"},s={className:"x14vqqas xq8finb xod5an3 x16n37ib"},e[21]=s,e[22]=u):(s=e[21],u=e[22]);e[23]!==v?(u=m.jsx("div",babelHelpers["extends"]({},u,{children:m.jsx("div",babelHelpers["extends"]({},s,{children:m.jsx(c("FDSIcon.react"),{icon:v})}))})),e[23]=v,e[24]=u):u=e[24];return u}if(g&&(t==null?void 0:t.hasMedia)===!1){if(e[25]!==o.replyMediaPreviewHeight){v=(k||(k=d("I64"))).to_float((s=o.replyMediaPreviewHeight)!=null?s:(k||(k=d("I64"))).of_float(100));e[25]=o.replyMediaPreviewHeight;e[26]=v}else v=e[26];u=r.maxHeight;s=r.maxWidth;if(e[27]!==o.replyMediaPreviewWidth){var w;w=(k||(k=d("I64"))).to_float((w=o.replyMediaPreviewWidth)!=null?w:(k||(k=d("I64"))).of_float(100));e[27]=o.replyMediaPreviewWidth;e[28]=w}else w=e[28];e[29]!==r.maxHeight||e[30]!==r.maxWidth||e[31]!==l||e[32]!==a||e[33]!==w||e[34]!==v?(u=m.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesMedia.NoMedia",height:v,maxHeight:u,maxWidth:s,mediaRenderQpl:l,outgoing:a,width:w}),e[29]=r.maxHeight,e[30]=r.maxWidth,e[31]=l,e[32]=a,e[33]=w,e[34]=v,e[35]=u):u=e[35];e[36]===Symbol["for"]("react.memo_cache_sentinel")?(s=m.jsx(c("CometHeroHoldTrigger.react"),{description:"MWRepliesMedia.NoMedia",hold:!0}),e[36]=s):s=e[36];e[37]!==u?(r=m.jsxs(m.Fragment,{children:[u,s]}),e[37]=u,e[38]=r):r=e[38];return r}e[39]!==t||e[40]!==g||e[41]!==l?(w=b("cr:9765")!=null&&g?function(a){if(t!=null&&t.hasXma){l==null?void 0:l.addPoint("fetch_reply_preview_url_xma_start");var c=a.replyAttachmentId!=null?b("cr:9765").getInfoUrlXMA(t,"preview","MWRepliesMedia",l):void 0;l==null?void 0:l.addPoint("fetch_reply_preview_url_xma_end",{bool:{has_url:Boolean(c)},string:{fetch_by:"maw_backend"}});return c}if(a.replyAttachmentPlaintextHash!=null){l==null?void 0:l.addPoint("fetch_reply_preview_url_media_start",{string:{fetch_by:"plaintextHash"}});c=a.replyAttachmentPlaintextHash!=null?b("cr:9765").getAttachmentBlobNonOptional(a.replyAttachmentPlaintextHash,"MWRepliesMedia",l):void 0;l==null?void 0:l.addPoint("fetch_reply_preview_url_media_end",{bool:{has_url:Boolean(c)},string:{fetch_by:"plaintextHash"}});return c}else{l==null?void 0:l.addPoint("fetch_reply_preview_url_media_start",{string:{fetch_by:"mediaId"}});c=a.replyAttachmentId!=null?b("cr:9765").getAttachmentBlobNonOptional((k||(k=d("I64"))).to_string(a.replyAttachmentId),"MWRepliesMedia",l):void 0;l==null?void 0:l.addPoint("fetch_reply_preview_url_media_end",{bool:{has_url:Boolean(c)},string:{fetch_by:"mediaId"}});return c}}:c("getLSMediaMessageReplyMediaUrl"),e[39]=t,e[40]=g,e[41]=l,e[42]=w):w=e[42];v=w;e[43]!==v||e[44]!==o?(s=v(o),e[43]=v,e[44]=o,e[45]=s):s=e[45];u=s;if(u!=null&&u!==""){r=o.replyMediaPreviewHeight;e[46]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"__JHASH__eNDXc9eUfIy__JHASH__"),e[46]=g):g=e[46];e[47]!==l||e[48]!==o.replyMediaPreviewHeight||e[49]!==o.replyMediaPreviewWidth||e[50]!==a||e[51]!==u?(w=m.jsx(c("MWRepliesImage.react"),{height:r,imageAlt:g,mediaRenderQpl:l,outgoing:a,src:u,width:o.replyMediaPreviewWidth}),e[47]=l,e[48]=o.replyMediaPreviewHeight,e[49]=o.replyMediaPreviewWidth,e[50]=a,e[51]=u,e[52]=w):w=e[52];return w}return p}function a(a){var b=d("react-compiler-runtime").c(21),e=a.isSecureMessage,f=a.mediaRenderQpl,g=a.message;a=a.outgoing;e=e===void 0?!1:e;var h,i;b[0]!==f?(h=function(){f==null?void 0:f.addPoint("render-replies-media")},i=[f],b[0]=f,b[1]=h,b[2]=i):(h=b[1],i=b[2]);n(h,i);h=c("useMWRepliesImageGetMaxDimensions")();if(b[3]!==g.replyMediaPreviewHeight){i=(k||(k=d("I64"))).to_float((i=g.replyMediaPreviewHeight)!=null?i:(k||(k=d("I64"))).of_float(100));b[3]=g.replyMediaPreviewHeight;b[4]=i}else i=b[4];var j=h.maxHeight,l=h.maxWidth;if(b[5]!==g.replyMediaPreviewWidth){var p;p=(k||(k=d("I64"))).to_float((p=g.replyMediaPreviewWidth)!=null?p:(k||(k=d("I64"))).of_float(100));b[5]=g.replyMediaPreviewWidth;b[6]=p}else p=b[6];b[7]!==h.maxHeight||b[8]!==h.maxWidth||b[9]!==a||b[10]!==i||b[11]!==p?(j=m.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesMedia.Suspense",height:i,maxHeight:j,maxWidth:l,outgoing:a,width:p}),b[7]=h.maxHeight,b[8]=h.maxWidth,b[9]=a,b[10]=i,b[11]=p,b[12]=j):j=b[12];b[13]!==e||b[14]!==f||b[15]!==g||b[16]!==a?(l=m.jsx(o,{isSecureMessage:e,mediaRenderQpl:f,message:g,outgoing:a}),b[13]=e,b[14]=f,b[15]=g,b[16]=a,b[17]=l):l=b[17];b[18]!==j||b[19]!==l?(h=m.jsx(c("CometPlaceholder.react"),{fallback:j,name:"MWRepliesMedia.Suspense",children:l}),b[18]=j,b[19]=l,b[20]=h):h=b[20];return h}g["default"]=a}),226);
__d("MWRepliesRemoved.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.outgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__uG4wbYWD9QU__JHASH__"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("MWRepliesRollcallContribution.react",["fbt","CometPlaceholder.react","FDSBlurredBackgroundImage.react","FDSImageCover.react","I64","Int64Hooks","LSFactory","LSIntEnum","LSIssuePointQueryForRollCallConversionStoredProcedure","LSReplyMessageAttachmentType","MWXMessageReplyBubble.react","MWXProfilePhoto.react","MWXText.react","ReQL","ReQLSuspense","cr:2472","getLSMediaMessageReplyMediaUrl","isStringNullOrEmpty","promiseDone","react","react-compiler-runtime","stylex","useJSON","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||(k=d("react")),o=k.useEffect,p=213,q=213,r={blurredImage:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x230xth",$$css:!0},unblurredImageContainer:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",opacity:"x197sbye",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},s=function(a){a=c("isStringNullOrEmpty")(a.replyMessageText)?h._(/*BTDS*/"__JHASH__YG4J77RBBDH__JHASH__"):b("cr:2472")==null?a.replyMessageText:b("cr:2472").unvault(a.replyMessageText);return a};function a(a){var b=d("react-compiler-runtime").c(11),e;b[0]!==a?(e=babelHelpers["extends"]({},a),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==e.mediaRenderQpl?(a=function(){var a;(a=e.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-rollcall-contribution")},f=[e.mediaRenderQpl],b[2]=e.mediaRenderQpl,b[3]=a,b[4]=f):(a=b[3],f=b[4]);o(a,f);a=e;f=a.message;b[5]!==f.replyAttachmentId||b[6]!==f.replyAttachmentType?(a=(m||(m=d("LSIntEnum"))).equal(f.replyAttachmentType,c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(m||(m=d("LSIntEnum"))).equal(f.replyAttachmentId,0),b[5]=f.replyAttachmentId,b[6]=f.replyAttachmentType,b[7]=a):a=b[7];f=a;b[8]!==f||b[9]!==e?(a=n.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesRollcallContribution",children:f?n.jsx(t,babelHelpers["extends"]({},e)):n.jsx(u,babelHelpers["extends"]({},e))}),b[8]=f,b[9]=e,b[10]=a):a=b[10];return a}function t(a){var b=d("react-compiler-runtime").c(16),e=a.message;a=a.outgoing;var f;b[0]!==e?(f=s(e),b[0]=e,b[1]=f):f=b[1];f=f;e=c("useJSON")((e=e.replyAttachmentExtra)!=null?e:"{}");var g=e.avatar_height,h=e.avatar_url,i=e.avatar_width;e=e.owner_name;var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x6s0dn4 x78zum5 x1nhvcw1 x1gslohp x12nagc"},b[2]=j):j=b[2];var k;b[3]!==g||b[4]!==h||b[5]!==i?(k=h!=null&&n.jsx("div",babelHelpers["extends"]({className:"x1emribx"},{children:n.jsx(c("MWXProfilePhoto.react"),{"aria-label":"",size:24,source:{height:g,uri:h,width:i}})})),b[3]=g,b[4]=h,b[5]=i,b[6]=k):k=b[6];b[7]!==e?(g=e!=null&&n.jsx(c("MWXText.react"),{type:"meta2",children:e}),b[7]=e,b[8]=g):g=b[8];b[9]!==k||b[10]!==g?(h=n.jsxs("div",babelHelpers["extends"]({},j,{children:[k,g]})),b[9]=k,b[10]=g,b[11]=h):h=b[11];b[12]!==a||b[13]!==h||b[14]!==f?(i=n.jsxs(c("MWXMessageReplyBubble.react"),{outgoing:a,children:[h,f]}),b[12]=a,b[13]=h,b[14]=f,b[15]=i):i=b[15];return i}function u(a){var b=d("react-compiler-runtime").c(45),e=a.mediaRenderQpl,g=a.message;a=a.outgoing;var h,k;b[0]!==e?(h=function(){e==null?void 0:e.addPoint("render-replies-rollcall-contribution-impl")},k=[e],b[0]=e,b[1]=h,b[2]=k):(h=b[1],k=b[2]);o(h,k);b[3]!==g?(h=s(g),b[3]=g,b[4]=h):h=b[4];k=h;var m=(i||(i=c("useReStore")))();if(b[5]!==g.replyAttachmentExtra){h=(l||(l=d("I64"))).of_string((h=g.replyAttachmentExtra)!=null?h:"0");b[5]=g.replyAttachmentExtra;b[6]=h}else h=b[6];var t=h;b[7]!==m.tables.roll_calls||b[8]!==t?(h=function(){return d("ReQL").fromTableAscending(m.tables.roll_calls).getKeyRange(t)},b[7]=m.tables.roll_calls,b[8]=t,b[9]=h):h=b[9];var u;b[10]!==m||b[11]!==t?(u=[m,t],b[10]=m,b[11]=t,b[12]=u):u=b[12];var v=d("ReQLSuspense").useFirst(h,u,f.id+":159"),w=g.threadKey;b[13]!==m||b[14]!==t||b[15]!==v||b[16]!==w?(h=function(){v||c("promiseDone")(m.runInTransaction(function(a){return c("LSIssuePointQueryForRollCallConversionStoredProcedure")(c("LSFactory")(a),{rollCallId:t,threadKey:w})},"readwrite",void 0,void 0,f.id+":168"))},u=[v,t,w,m],b[13]=m,b[14]=t,b[15]=v,b[16]=w,b[17]=h,b[18]=u):(h=b[17],u=b[18]);d("Int64Hooks").useEffectInt64(h,u);u=(h=v==null?void 0:v.isBlurred)!=null?h:!1;if(b[19]!==g){h=c("getLSMediaMessageReplyMediaUrl")(g);var x;b[24]!==g.replyMediaPreviewHeight?(x=g.replyMediaPreviewHeight!=null?(l||(l=d("I64"))).to_float(g.replyMediaPreviewHeight):0,b[24]=g.replyMediaPreviewHeight,b[25]=x):x=b[25];x=x;var y;b[26]!==g.replyMediaPreviewWidth?(y=g.replyMediaPreviewWidth!=null?(l||(l=d("I64"))).to_float(g.replyMediaPreviewWidth):0,b[26]=g.replyMediaPreviewWidth,b[27]=y):y=b[27];y=y;var z=Math.min(1,p/x),A=Math.min(1,q/y),B;b[28]!==x||b[29]!==z||b[30]!==A?(B=Math.round(x*Math.min(z,A)),b[28]=x,b[29]=z,b[30]=A,b[31]=B):B=b[31];x=B;b[32]!==z||b[33]!==A||b[34]!==y?(B=Math.round(y*Math.min(z,A)),b[32]=z,b[33]=A,b[34]=y,b[35]=B):B=b[35];z=B;A=c("isStringNullOrEmpty")(h);b[19]=g;b[20]=x;b[21]=z;b[22]=h;b[23]=A}else x=b[20],z=b[21],h=b[22],A=b[23];if(!A){b[36]!==u||b[37]!==x||b[38]!==z||b[39]!==a||b[40]!==h?(y=u?n.jsx("div",{style:{height:x,width:z},children:n.jsx(c("FDSBlurredBackgroundImage.react"),{src:h,xstyle:[r.blurredImage,a&&r.outgoing]})}):n.jsx("div",{className:(j||(j=c("stylex")))([r.unblurredImageContainer,a&&r.outgoing]),style:{height:x,width:z},children:n.jsx(c("FDSImageCover.react"),{alt:"",src:h})}),b[36]=u,b[37]=x,b[38]=z,b[39]=a,b[40]=h,b[41]=y):y=b[41];return y}b[42]!==a||b[43]!==k?(B=n.jsx(c("MWXMessageReplyBubble.react"),{outgoing:a,children:k}),b[42]=a,b[43]=k,b[44]=B):B=b[44];return B}g["default"]=a}),226);
__d("MWRepliesSticker.react",["fbt","CometPlaceholder.react","I64","LSHotEmojiSize","LSMediaUrlAttachment","MWRepliesImage.react","MWV2ChatEmojiHotLike.react","MWV2Sticker.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:2472","cr:9765","getLSMediaMessageReplyMediaUrl","gkx","isReceiverFetchSticker","react","react-compiler-runtime","useIssueMediaReceiverFetchTask","useMAWMediaStatusUIState","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect,n={replyHotLikeSticker:{filter:"xin470k",transform:"xst6bnn",$$css:!0},replyHotLikeStickerV2:{filter:"xin470k",height:"x10w6t97",marginBottom:"x12nagc",width:"x1td3qas",$$css:!0},replySticker:{filter:"xin470k",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(33),g=a.isSecureMessage,k=a.mediaRenderQpl,p=a.message;a=a.outgoing;g=g===void 0?!1:g;var q;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__13yhS1gywbZ__JHASH__"),e[0]=q):q=e[0];q=q;e[1]!==a?(q=l.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:q}),e[1]=a,e[2]=q):q=e[2];q=q;var r=(i||(i=c("useReStore")))(),s;e[3]!==r||e[4]!==p.replyAttachmentId||e[5]!==p.replyAttachmentPlaintextHash||e[6]!==p.replySourceId||e[7]!==p.threadKey?(s=function(){var a=p.replyAttachmentPlaintextHash,b=p.replySourceId;if(a!=null&&b!=null)return d("ReQL").fromTableAscending(r.tables.attachments).filter(function(c){return c.attachmentFbid===a&&c.messageId===b});else{var c=p.replyAttachmentId;if(c!=null&&b!=null)return d("ReQL").fromTableAscending(r.tables.attachments).getKeyRange(p.threadKey,b,(j||(j=d("I64"))).to_string(c))}return d("ReQL").empty()},e[3]=r,e[4]=p.replyAttachmentId,e[5]=p.replyAttachmentPlaintextHash,e[6]=p.replySourceId,e[7]=p.threadKey,e[8]=s):s=e[8];var t;e[9]!==r||e[10]!==p?(t=[r,p],e[9]=r,e[10]=p,e[11]=t):t=e[11];var u=d("ReQLSuspense").useFirst(s,t,f.id+":79");e[12]!==u?(s=u?c("isReceiverFetchSticker")(u):!1,e[12]=u,e[13]=s):s=e[13];c("useIssueMediaReceiverFetchTask")(s,p.replySourceId,p.threadKey,u==null?void 0:u.receiverFetchId,g,k,u==null?void 0:u.previewUrl,u==null?void 0:u.previewUrlExpirationTimestampMs,u==null?void 0:u.attachmentType);e[14]!==u||e[15]!==k?(t=function(){u!=null&&(k==null?void 0:k.addAttachmentAnnotations==null?void 0:k.addAttachmentAnnotations(u)),k==null?void 0:k.addPoint("render-replies-sticker",{bool:{has_db_attachment:u!=null}})},s=[u,k],e[14]=u,e[15]=k,e[16]=t,e[17]=s):(t=e[16],s=e[17]);m(t,s);t=g?u:null;s=c("useMAWMediaStatusUIState")(t,k);s=s.downloadStatus;if(t!=null&&s!=="downloaded")return q;s=(t=p.replyMessageText)!=null?t:"";t=(b("cr:2472")!=null?b("cr:2472").unvault(s):s)==="\ud83d\udc4d";if(t){e[18]===Symbol["for"]("react.memo_cache_sentinel")?(s=l.jsx(c("MWV2ChatEmojiHotLike.react"),{hotEmojiSize:c("LSHotEmojiSize").NONE,xstyle:c("gkx")("23249")?n.replyHotLikeSticker:n.replyHotLikeStickerV2}),e[18]=s):s=e[18];return s}e[19]!==p?(t=c("getLSMediaMessageReplyMediaUrl")(p),e[19]=p,e[20]=t):t=e[20];s=t;if(s!=null&&u==null){e[21]!==k||e[22]!==p.replyMediaPreviewHeight||e[23]!==p.replyMediaPreviewWidth||e[24]!==a||e[25]!==s?(t=l.jsx(c("MWRepliesImage.react"),{height:p.replyMediaPreviewHeight,isSticker:!0,mediaRenderQpl:k,outgoing:a,src:s,width:p.replyMediaPreviewWidth}),e[21]=k,e[22]=p.replyMediaPreviewHeight,e[23]=p.replyMediaPreviewWidth,e[24]=a,e[25]=s,e[26]=t):t=e[26];return t}if(u==null)return q;if(b("cr:9765")==null||!g||u.receiverFetchId!=null)a=o;else{e[27]!==k?(s=function(a){return b("cr:9765").getAttachmentBlobNonOptional(a.attachmentFbid,"MWRepliesSticker",k)},e[27]=k,e[28]=s):s=e[28];a=s}e[29]!==u||e[30]!==k||e[31]!==a?(t=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesSticker",children:l.jsx(c("MWV2Sticker.react"),{attachment:u,getPreviewUrl:a,mediaRenderQpl:k,scale:.6,xstyle:n.replySticker})}),e[29]=u,e[30]=k,e[31]=a,e[32]=t):t=e[32];return t}function o(a){return d("LSMediaUrlAttachment").previewUrl(a)}g["default"]=a}),226);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","FBLogger","I64","Int64Hooks","LSIntEnum","LSXmaContentType","MAWLocalizationType","MWMediaRenderQplUtils","MWRepliesImage.react","MWV2TombstonedMessage.react","MWXPressable.react","XCometStoriesControllerRouteBuilder","cr:9765","getLSMediaMessageReplyMediaUrl","getMAWLocalizedFallbackMsgSnippet","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useEffect;function a(a){var b=d("react-compiler-runtime").c(7),e;b[0]!==a?(e=babelHelpers["extends"]({},a),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==e.mediaRenderQpl?(a=function(){var a;(a=e.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-story")},f=[e.mediaRenderQpl],b[2]=e.mediaRenderQpl,b[3]=a,b[4]=f):(a=b[3],f=b[4]);m(a,f);b[5]!==e?(a=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesStory",children:l.jsx(n,babelHelpers["extends"]({},e))}),b[5]=e,b[6]=a):a=b[6];return a}function n(a){var e=d("react-compiler-runtime").c(35),f=a.isSecureMessage,g=a.mediaRenderQpl,i=a.message;a=a.outgoing;f=f===void 0?!1:f;var n=i.replySourceId;if(e[0]!==f||e[1]!==n){var o;o=n!=null?f?n:(o=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+n),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:(o=o.setProtocol("https"))==null?void 0:o.toString():void 0;e[0]=f;e[1]=n;e[2]=o}else o=e[2];n=o;var p;e[3]!==g||e[4]!==i.replyAttachmentId||e[5]!==i.replyAttachmentPlaintextHash||e[6]!==i.replyMediaUrlMimeType||e[7]!==i.replySourceId?(o=function(){g==null?void 0:g.addPoint("render-reply-story-impl",{bool:{has_reply_attachment_id:i.replyAttachmentId!=null,has_reply_attachment_plaintext_hash:i.replyAttachmentPlaintextHash!=null,has_reply_mime_type:i.replyMediaUrlMimeType!=null,has_reply_source_id:i.replySourceId!=null}}),g==null?void 0:g.addAnnotations({string:{xma_content_type:d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((j||(j=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_REPLY))}})},p=[g,i.replyAttachmentId,i.replyAttachmentPlaintextHash,i.replyMediaUrlMimeType,i.replySourceId],e[3]=g,e[4]=i.replyAttachmentId,e[5]=i.replyAttachmentPlaintextHash,e[6]=i.replyMediaUrlMimeType,e[7]=i.replySourceId,e[8]=o,e[9]=p):(o=e[8],p=e[9]);d("Int64Hooks").useEffectInt64(o,p);e[10]!==f||e[11]!==g?(o=b("cr:9765")!=null&&f?function(a){if(c("gkx")("6417")){a.replyAttachmentId!=null&&a.replyAttachmentPlaintextHash==null&&c("FBLogger")("messenger_web_media").mustfix("Failed to get story preview url. Reply attachment id is set but Reply plaintextHash is missing");return a.replyAttachmentPlaintextHash!=null?b("cr:9765").getAttachmentBlobNonOptional(a.replyAttachmentPlaintextHash,"MWRepliesStory",g):null}else return a.replyAttachmentId!=null?b("cr:9765").getAttachmentBlobNonOptional((k||(k=d("I64"))).to_string(a.replyAttachmentId),"MWRepliesStory",g):null}:c("getLSMediaMessageReplyMediaUrl"),e[10]=f,e[11]=g,e[12]=o):o=e[12];p=o;e[13]!==p||e[14]!==i?(f=p(i),e[13]=p,e[14]=i,e[15]=f):f=e[15];var q=f;e[16]!==g||e[17]!==i.replyAttachmentPlaintextHash||e[18]!==q?(o=function(){q==null&&(g==null?void 0:g.endFail("missing-reply-media",{bool:{has_plaintexthash:i.replyAttachmentPlaintextHash!=null}}))},p=[g,i.replyAttachmentPlaintextHash,q],e[16]=g,e[17]=i.replyAttachmentPlaintextHash,e[18]=q,e[19]=o,e[20]=p):(o=e[19],p=e[20]);m(o,p);if(q==null){e[21]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY),e[21]=f):f=e[21];e[22]!==g||e[23]!==a?(o=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,mediaRenderQpl:g,children:f}),e[22]=g,e[23]=a,e[24]=o):o=e[24];return o}e[25]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"__JHASH__thxINaLEtLl__JHASH__"),e[25]=p):p=e[25];e[26]!==n?(f=n!=null?{url:n}:void 0,e[26]=n,e[27]=f):f=e[27];e[28]!==g||e[29]!==a||e[30]!==q?(o=l.jsx(c("MWRepliesImage.react"),{mediaRenderQpl:g,outgoing:a,src:q}),e[28]=g,e[29]=a,e[30]=q,e[31]=o):o=e[31];e[32]!==f||e[33]!==o?(n=l.jsx(c("MWXPressable.react"),{"aria-label":p,linkProps:f,overlayDisabled:!0,children:o}),e[32]=f,e[33]=o,e[34]=n):n=e[34];return n}g["default"]=a}),226);
__d("MWRepliesText.react",["MWChatTextFormatting","MWChatTextFormattingUtils","MWChatTextTransform","MWXMessageReplyBubble.react","MWXMessageTextWithEntities.react","cr:2472","react","react-compiler-runtime","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var e=d("react-compiler-runtime").c(15),f=a.isSecureMessage,g=a.message,h=a.outgoing;a=a.text;var j;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(j={MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]},e[0]=j):j=e[0];j=j;j=j;var k;e[1]!==a?(k=d("MWChatTextFormattingUtils").getFormattingRanges(a),e[1]=a,e[2]=k):k=e[2];k=k;k=k;if(e[3]!==f||e[4]!==g.mentionIds){var l;l=new Set(f?(l=(l=g.mentionIds)==null?void 0:l.split==null?void 0:l.split(","))!=null?l:[]:[]);e[3]=f;e[4]=g.mentionIds;e[5]=l}else l=e[5];f=l;l=f;e[6]!==a?(f=b("cr:2472")==null?a:b("cr:2472").unvault(a),e[6]=a,e[7]=f):f=e[7];a=f;g=(l=(f=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(a,[],l,g.threadKey))==null?void 0:f.textWithSubstitutions)!=null?l:a;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xi81zsa x126k92a"},e[8]=f):f=e[8];e[9]!==k||e[10]!==g?(l=i.jsx("div",babelHelpers["extends"]({},f,{children:i.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:k,renderers:j,text:g,transforms:d("MWChatTextTransform").textTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})})),e[9]=k,e[10]=g,e[11]=l):l=e[11];e[12]!==h||e[13]!==l?(a=i.jsx(c("MWXMessageReplyBubble.react"),{outgoing:h,children:l}),e[12]=h,e[13]=l,e[14]=a):a=e[14];return a}g["default"]=a}),98);
__d("MWRepliesUnavailable.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.outgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__3TzRhHHRgwV__JHASH__"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("MWRepliesVideo.react",["fbt","ix","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWXImage.react","MWXMessageImage.react","MWXMessageReplyBubble.react","MWXVideoStatusListener.react","ReQL","ReQLSuspense","cr:9765","react","react-compiler-runtime","useMAWMediaStatusUIState","useMWRepliesImageGetMaxDimensions","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||(l=d("react"));e=l;e.useCallback;var n=e.useEffect,o=e.useRef,p={thumbnail:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function q(a){var e=d("react-compiler-runtime").c(65),g=a.isSecureMessage,l=a.mediaRenderQpl,q=a.message;a=a.outgoing;g=g===void 0?!1:g;var r=c("useMWRepliesImageGetMaxDimensions")(),s=r.maxHeight;r=r.maxWidth;var t=(j||(j=c("useReStore")))(),u;e[0]!==t.tables.attachments||e[1]!==q.replyAttachmentId||e[2]!==q.replyAttachmentPlaintextHash||e[3]!==q.replySourceId||e[4]!==q.threadKey?(u=function(){var a,b=q.replyAttachmentPlaintextHash,c=(a=q.replySourceId)!=null?a:"";if(b!=null&&c!=null)return d("ReQL").fromTableAscending(t.tables.attachments).filter(function(a){return a.attachmentFbid===b&&a.messageId===c});else{a=(a=q.replyAttachmentId)!=null?a:(k||(k=d("I64"))).zero;return d("ReQL").fromTableAscending(t.tables.attachments).getKeyRange(q.threadKey,c,(k||(k=d("I64"))).to_string(a))}},e[0]=t.tables.attachments,e[1]=q.replyAttachmentId,e[2]=q.replyAttachmentPlaintextHash,e[3]=q.replySourceId,e[4]=q.threadKey,e[5]=u):u=e[5];var v;e[6]!==t||e[7]!==q?(v=[t,q],e[6]=t,e[7]=q,e[8]=v):v=e[8];var w=d("ReQLSuspense").useFirst(u,v,f.id+":72");e[9]!==w||e[10]!==l?(u=function(){w!=null&&(l==null?void 0:l.addAttachmentAnnotations==null?void 0:l.addAttachmentAnnotations(w)),l==null?void 0:l.addPoint("render-reply-video-impl",{bool:{has_db_attachment:w!=null}})},v=[w,l],e[9]=w,e[10]=l,e[11]=u,e[12]=v):(u=e[11],v=e[12]);n(u,v);u=g?w:null;v=c("useMAWMediaStatusUIState")(u,l);v=v.downloadStatus;var x;if(w!=null)if(u!=null&&v!=="downloaded")x=null;else if(b("cr:9765")==null||!g){e[13]!==w?(u=d("LSMediaUrlAttachment").previewUrl(w),e[13]=w,e[14]=u):u=e[14];x=u}else{e[15]!==w.attachmentFbid||e[16]!==l?(v=b("cr:9765").getAttachmentBlobNonOptional(w.attachmentFbid,"MWRepliesVideo",l),e[15]=w.attachmentFbid,e[16]=l,e[17]=v):v=e[17];x=v}u=o(null);e[18]!==l?(v=function(a){l==null?void 0:l.endFail("load-video-error",{string:{video_error_name:a}})},e[18]=l,e[19]=v):v=e[19];var y=v;e[20]!==l?(v=function(){l==null?void 0:l.endSuccess()},e[20]=l,e[21]=v):v=e[21];v=v;if(x==null){l==null?void 0:l.endSuccess();var z;e[22]===Symbol["for"]("react.memo_cache_sentinel")?(z=h._(/*BTDS*/"__JHASH__7WGJ1daCkBD__JHASH__"),e[22]=z):z=e[22];e[23]!==a?(z=m.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:z}),e[23]=a,e[24]=z):z=e[24];return z}e[25]!==q.replyMediaPreviewHeight?(a=q.replyMediaPreviewHeight!=null?(k||(k=d("I64"))).to_float(q.replyMediaPreviewHeight):void 0,e[25]=q.replyMediaPreviewHeight,e[26]=a):a=e[26];z=a;e[27]!==q.replyMediaPreviewWidth?(a=q.replyMediaPreviewWidth!=null?(k||(k=d("I64"))).to_float(q.replyMediaPreviewWidth):void 0,e[27]=q.replyMediaPreviewWidth,e[28]=a):a=e[28];a=a;if((w==null?void 0:w.previewUrlMimeType)!=null&&!g){e[29]!==y?(g=function(){return y()},e[29]=y,e[30]=g):g=e[30];var A;e[31]!==z||e[32]!==s||e[33]!==r||e[34]!==v||e[35]!==x||e[36]!==g||e[37]!==a?(A=m.jsx(c("MWXMessageImage.react"),{alt:"",height:z,maxHeight:s,maxWidth:r,onError:g,onLoad:v,src:x,width:a,xstyle:p.thumbnail}),e[31]=z,e[32]=s,e[33]=r,e[34]=v,e[35]=x,e[36]=g,e[37]=a,e[38]=A):A=e[38];g=A}else{e[39]!==y||e[40]!==v?(A=m.jsx(c("MWXVideoStatusListener.react"),{onError:y,onLoad:v,videoRef:u}),e[39]=y,e[40]=v,e[41]=A):A=e[41];var B;e[42]===Symbol["for"]("react.memo_cache_sentinel")?(B="x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",e[42]=B):B=e[42];z=z!=null&&z>s?"100%":z;var C;e[43]!==s||e[44]!==r?(C={maxHeight:s,maxWidth:r},e[43]=s,e[44]=r,e[45]=C):C=e[45];s=a!=null&&a>r?"100%":a;e[46]!==x||e[47]!==z||e[48]!==C||e[49]!==s?(r=m.jsx("video",{alt:"",className:B,height:z,ref:u,src:x,style:C,width:s}),e[46]=x,e[47]=z,e[48]=C,e[49]=s,e[50]=r):r=e[50];e[51]!==A||e[52]!==r?(a=m.jsxs(m.Fragment,{children:[A,r]}),e[51]=A,e[52]=r,e[53]=a):a=e[53];g=a}e[54]===Symbol["for"]("react.memo_cache_sentinel")?(B={className:"x1n2onr6"},e[54]=B):B=e[54];u=g;e[55]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x6s0dn4 x78zum5 xdt5ytf x5yr21d x17qophe xl56j7k x10l6tqk x13vifvy xh8yej3"},e[55]=z):z=e[55];e[56]!==y?(C=function(){return y()},e[56]=y,e[57]=C):C=e[57];e[58]===Symbol["for"]("react.memo_cache_sentinel")?(s=i("354763"),e[58]=s):s=e[58];e[59]!==v||e[60]!==C?(A=m.jsx("div",babelHelpers["extends"]({},z,{children:m.jsx(c("MWXImage.react"),{onError:C,onLoad:v,src:s})})),e[59]=v,e[60]=C,e[61]=A):A=e[61];e[62]!==A||e[63]!==g?(r=m.jsxs("div",babelHelpers["extends"]({},B,{children:[u,A]})),e[62]=A,e[63]=g,e[64]=r):r=e[64];return r}function a(a){var b=d("react-compiler-runtime").c(7),e;b[0]!==a?(e=babelHelpers["extends"]({},a),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==e.mediaRenderQpl?(a=function(){var a;(a=e.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-video")},f=[e.mediaRenderQpl],b[2]=e.mediaRenderQpl,b[3]=a,b[4]=f):(a=b[3],f=b[4]);n(a,f);b[5]!==e?(a=m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesVideo",children:m.jsx(q,babelHelpers["extends"]({},e))}),b[5]=e,b[6]=a):a=b[6];return a}g["default"]=a}),226);
__d("MWStoryUnavailable.react",["MAWLocalizationType","MWXMessageReplyBubble.react","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.outgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWRepliedMessage.react",["MWBlockedTombstoneMessage.react","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPBaseRepliedMessage.react","MWRepliesAttachment.react","MWRepliesExpired.react","MWRepliesGIF.react","MWRepliesMedia.react","MWRepliesRemoved.react","MWRepliesRollcallContribution.react","MWRepliesSticker.react","MWRepliesStory.react","MWRepliesText.react","MWRepliesUnavailable.react","MWRepliesVideo.react","MWStoryUnavailable.react","cr:2947","react","react-compiler-runtime","useMWJumpToMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var e=d("react-compiler-runtime").c(20),f=a.isSecureMessage,g=a.mediaRenderQpl,h=a.message;a=a.outgoing;f=f===void 0?!1:f;var k=c("MWBlockingProtectionContext.react").useHook();k=k.findMessageId;var l=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(h.replyToUserId,h.threadKey);if(e[0]!==k||e[1]!==l||e[2]!==h.replySourceId){var m;m=l&&!k((m=h.replySourceId)!=null?m:"");e[0]=k;e[1]=l;e[2]=h.replySourceId;e[3]=m}else m=e[3];var n=m,o=c("useMWJumpToMessage")("Pinned");e[4]!==g||e[5]!==n?(k=function(){g==null?void 0:g.addPoint("render-replied-message",{bool:{show_blocking_tombstone:n}})},l=[g,n],e[4]=g,e[5]=n,e[6]=k,e[7]=l):(k=e[6],l=e[7]);j(k,l);if(n){var p=h.replySourceTimestampMs,q=h.replySourceId;e[8]!==o||e[9]!==q||e[10]!==p?(m=function(){q!=null&&p&&o(q,p)},e[8]=o,e[9]=q,e[10]=p,e[11]=m):m=e[11];e[12]!==h||e[13]!==m?(k=i.jsx(d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{message:h,onClick:m,source:d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.REPLIED_TO}),e[12]=h,e[13]=m,e[14]=k):k=e[14];return k}if(e[15]!==f||e[16]!==g||e[17]!==h||e[18]!==a){m=i.jsx(c("MWPBaseRepliedMessage.react"),{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:a,renderAttachment:c("MWRepliesAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("MWRepliesGIF.react"),renderMedia:c("MWRepliesMedia.react"),renderRaven:(l=b("cr:2947"))!=null?l:void 0,renderRemovedMessage:c("MWRepliesRemoved.react"),renderRollcallContribution:c("MWRepliesRollcallContribution.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("MWRepliesText.react"),renderUnavailableMessage:c("MWRepliesUnavailable.react"),renderUnavailableStory:c("MWStoryUnavailable.react"),renderVideo:c("MWRepliesVideo.react")});e[15]=f;e[16]=g;e[17]=h;e[18]=a;e[19]=m}else m=e[19];return m}g["default"]=a}),98);
__d("MWThreadViewMediaRenderQpl",["CurrentUser","I64","Int64Hooks","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMediaUrlUtils","LSReplyMessageStatus","MAWMsg","MWMediaRenderQplUtils","MWPActor.react","MWVersion","QPLUserFlow","WAHashUtils","WAMediaQplHelper","gkx","justknobx","mergeDeep","react","react-compiler-runtime","shouldUseMAWSharedWorker","useLSMessagingInitiatingSource","usePartialViewImpression","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useLayoutEffect,l=e.useRef;function a(a,b){return m(a,b,n,!1)}function b(a,b){var c=d("react-compiler-runtime").c(4),e;c[0]!==a.replyAttachmentType?(e=d("MWMediaRenderQplUtils").getReplyMessageAttachmentTypeStringFromEnum(a.replyAttachmentType),c[0]=a.replyAttachmentType,c[1]=e):e=c[1];var f;c[2]!==e?(f={string:{reply_attachment_type:e}},c[2]=e,c[3]=f):f=c[3];return m(a,b,o,!0,f)}function m(a,b,e,f,g){g===void 0&&(g={});var h=(i||(i=d("I64"))).le(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),m=d("MWPActor.react").useActor(),n=i.equal(a.senderId,m),o=c("useLSMessagingInitiatingSource")(),p=c("useXMAPreviewsDisabledSetting")(),q=l(!1),s=d("Int64Hooks").useMemoInt64(function(){var j;if(!e(a,b))return null;var k=d("MWMediaRenderQplUtils").getThreadViewMediaRenderQplInstanceKey(a.offlineThreadingId,h,f),l=c("CurrentUser").getAppID();l={bool:{has_db_reply_attachment:a.replyAttachmentId!=null,has_quick_replies:a.hasQuickReplies,has_text:Boolean(a.text),is_admin_message:a.isAdminMessage,is_bot_response:a.botResponseId!=null,is_collapsed:a.isCollapsed,is_expired:a.isExpired,is_forwarded:(j=a.isForwarded)!=null?j:!1,is_optimistic:h,is_outgoing:n,is_pdb:Boolean(c("gkx")("8483")),is_reply_to_media:f,is_unsent:a.isUnsent,mention_type_is_ai:a.mentionTypes==="ai",text_has_links:a.textHasLinks,use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},"int":{message_rendering_type:(i||(i=d("I64"))).to_float(a.messageRenderingType),quick_reply_type:i.to_float(a.quickReplyType),reply_status:a.replyStatus!=null?(i||(i=d("I64"))).to_float(a.replyStatus):void 0,reply_type:a.replyType!=null?(i||(i=d("I64"))).to_float(a.replyType):void 0,takedown_state:a.takedownState!=null?(i||(i=d("I64"))).to_float(a.takedownState):void 0},string:{app_id:(j=l)!=null?j:void 0,content_type:f&&a.replyAttachmentType!=null?d("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(a.replyAttachmentType):d("MWMediaRenderQplUtils").getMessageContentTypeString(a),content_type_num:i.to_string(a.displayedContentTypes),entry_point:"thread_view",message_age_bucket:c("justknobx")._("1613")?d("MWMediaRenderQplUtils").calculateDiffBucketFromTimestamp(a.primarySortKey):void 0,messaging_initiation_source:d("MWMediaRenderQplUtils").getMessagingInitiationSourceStringFromEnum(o),mw_version:i.to_string(d("MWVersion").v2),reply_source_type:a.replySourceType!=null?d("MWMediaRenderQplUtils").getMessageReplySourceTypeStringFromEnum(a.replySourceType):void 0,reply_source_type_v2:a.replySourceTypeV2!=null?d("MWMediaRenderQplUtils").getMessageReplySourceTypeV2StringFromEnum(a.replySourceTypeV2):void 0,thread_type:d("MWMediaRenderQplUtils").getThreadTypeStringFromEnum(b),transport_key:a.transportKey}};j=c("mergeDeep")(l,g);return babelHelpers["extends"]({},d("MWMediaRenderQplUtils").createQplFlowCommon(d("MWMediaRenderQplUtils").event,k,q,j),{addAttachmentAnnotations:function(a){var b;c("QPLUserFlow").addAnnotations(d("MWMediaRenderQplUtils").event,{bool:{has_attachment_receiver_fetch_id:(a==null?void 0:a.receiverFetchId)!=null,has_db_attachment:a!=null,has_db_media:(a==null?void 0:a.hasMedia)===!0,has_db_playable_url:Boolean(a==null?void 0:a.playableUrl),has_db_preview_url:Boolean(a==null?void 0:a.previewUrl),has_db_preview_url_large:Boolean(a==null?void 0:a.previewUrlLarge),has_db_xma:(a==null?void 0:a.hasXma)===!0,has_db_xma_favicon:(a==null?void 0:a.hasXmaFavicon)===!0,has_db_xma_header_image:(a==null?void 0:a.hasXmaHeaderImage)===!0,has_db_xma_preview:(a==null?void 0:a.hasXmaPreview)===!0,is_db_playable_url_expired:(a==null?void 0:a.playableUrlExpirationTimestampMs)!=null?d("LSMediaUrlUtils").isTimestampExpired(a.playableUrlExpirationTimestampMs):void 0,is_db_preview_url_expired:(a==null?void 0:a.previewUrlExpirationTimestampMs)!=null?d("LSMediaUrlUtils").isTimestampExpired(a.previewUrlExpirationTimestampMs):void 0,is_xma_previews_disabled:p},string:{attachment_transport_key:(b=a==null?void 0:a.transportKey)!=null?b:void 0,attachment_type:a==null?null:d("MWMediaRenderQplUtils").getAttachmentTypeString(a),audio_duration_bucket:(a==null?void 0:a.playableDurationMs)!=null?d("MWMediaRenderQplUtils").convertDurationToStringBucket((i||(i=d("I64"))).to_float((b=a==null?void 0:a.playableDurationMs)!=null?b:(i||(i=d("I64"))).zero)/1e3):void 0,file_size_bucket:(a==null?void 0:a.filesize)!=null?d("WAMediaQplHelper").convertIntegerSizeToStringBucket((i||(i=d("I64"))).to_float(a==null?void 0:a.filesize)):void 0,playable_url_mime_type:a==null?void 0:a.playableUrlMimeType,preview_url_mime_type:a==null?void 0:a.previewUrlMimeType,sanitized_plaintext_hash:r(a),xma_content_type:(a==null?void 0:a.xmaContentType)!=null?d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum(a.xmaContentType):void 0,xma_default_cta_type:a==null?void 0:a.defaultCtaType}},{instanceKey:k})}})},[h,a.displayedContentTypes]);m=c("usePartialViewImpression")({onImpressionEnd:function(){q.current===!1&&(s==null?void 0:s.addPoint("message-row-hidden"),s==null?void 0:s.addAnnotations({bool:{message_row_is_hidden:!0}}))},onImpressionStart:function(){q.current===!1&&(s==null?void 0:s.addPoint("message-row-visible"),s==null?void 0:s.addAnnotations({bool:{message_row_has_been_visible:!0,message_row_is_hidden:!1}}))}});k(function(){s==null?void 0:s.start();s==null?void 0:s.addPoint("message-row-mounted");return function(){q.current===!1&&(s==null?void 0:s.getInstanceKey())!=null&&(s==null?void 0:s.addPoint("message-row-unmounted"),s==null?void 0:s.endCancel(706))}},[s]);return{mediaRenderQpl:s,messageRowRef:m}}function n(a,b){if(p(a))return!1;b=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(536870912),a.displayedContentTypes);return b||d("MAWMsg").isMediaMsg(a)}function o(a,b){return d("MAWMsg").isMediaReplyAttachmentType(a,b)&&q(a)}function p(a){return a.isUnsent||a.isExpired}function q(a){return a.replyStatus!=null&&(i||(i=d("I64"))).equal(a.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").VALID))}function r(a){return!c("gkx")("23916")||a==null||isFinite(a.attachmentFbid)?void 0:d("WAHashUtils").sanitisePlaintextHash(d("WAHashUtils").stringToPlaintextHash(a.attachmentFbid))}g.useMediaRenderQpl=a;g.useMediaRenderQplForReply=b}),98);
__d("MWV2ReplyError.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.outgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__962PS6SI-P2__JHASH__"),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("useMWIsReplyToAuthor",["I64","LSIntEnum","LSMessageReplySourceTypeV2","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a.replySourceTypeV2?(e=a.replySourceTypeV2!=null&&(h||(h=d("I64"))).equal(a.replySourceTypeV2,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").XMA)),b[0]=a.replySourceTypeV2,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("MWMessageReplyRow.react",["CometErrorBoundary.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageListDisplayContext.react","MWPMessageListColumn.react","MWPinnedMessageOverlay.react","MWRepliedMessage.react","MWThreadViewMediaRenderQpl","MWV2MessageProfilePhoto.react","MWV2ReplyError.react","MWXMessageBubbleRow.react","react","react-compiler-runtime","useMWIsReplyToAuthor"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useEffect,m={replyMargin:{marginBottom:"x1oo3vh0",minHeight:"x1hshjfz",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(31),e=a.outgoing,f=a.isGroupThread,g=a.isSecureMessage,h=a.message;a=a.threadType;var n=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();n=n.isStandardMessageList;var o=c("useMWIsReplyToAuthor")(h),p;b[0]!==h.replySourceTypeV2?(p=h.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(h.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY)),b[0]=h.replySourceTypeV2,b[1]=p):p=b[1];p=p;var q;b[2]!==h.replyMediaExpirationTimestampMs?(q=h.replyMediaExpirationTimestampMs!=null?(i||(i=d("I64"))).gt(h.replyMediaExpirationTimestampMs,(i||(i=d("I64"))).zero):!0,b[2]=h.replyMediaExpirationTimestampMs,b[3]=q):q=b[3];q=q;p=h.replySourceId==null?p:q;q=o||p;b[4]!==f||b[5]!==h?(o=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:k.jsx(c("MWV2MessageProfilePhoto.react"),{display:"hidden",isGroupThread:f,message:h})}),b[4]=f,b[5]=h,b[6]=o):o=b[6];p=o;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("div",babelHelpers["extends"]({className:"x1xc55vz"},{role:"none"})),b[7]=f):f=b[7];o=f;f=d("MWThreadViewMediaRenderQpl").useMediaRenderQplForReply(h,a);var r=f.mediaRenderQpl;a=f.messageRowRef;var s;b[8]!==r?(f=function(){r==null?void 0:r.addPoint("render-message-reply-row")},s=[r],b[8]=r,b[9]=f,b[10]=s):(f=b[9],s=b[10]);l(f,s);f=e?p:o;s=e?o:p;o=e?"right":"left";p=q&&m.replyMargin;b[11]!==e?(q=function(a){return k.jsx(c("MWV2ReplyError.react"),{outgoing:e})},b[11]=e,b[12]=q):q=b[12];var t;b[13]!==g||b[14]!==n||b[15]!==r||b[16]!==h||b[17]!==e?(t=n?k.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:!1,message:h,outgoing:e,children:k.jsx(c("MWRepliedMessage.react"),{isSecureMessage:g,mediaRenderQpl:r,message:h,outgoing:e})}):k.jsx(c("MWRepliedMessage.react"),{isSecureMessage:g,mediaRenderQpl:r,message:h,outgoing:e}),b[13]=g,b[14]=n,b[15]=r,b[16]=h,b[17]=e,b[18]=t):t=b[18];b[19]!==q||b[20]!==t?(g=k.jsx(c("CometErrorBoundary.react"),{fallback:q,children:t}),b[19]=q,b[20]=t,b[21]=g):g=b[21];b[22]!==p||b[23]!==g||b[24]!==f||b[25]!==s||b[26]!==o?(n=k.jsx(c("MWXMessageBubbleRow.react"),{addOnEnd:f,addOnStart:s,align:o,opaque:!0,xstyle:p,children:g}),b[22]=p,b[23]=g,b[24]=f,b[25]=s,b[26]=o,b[27]=n):n=b[27];b[28]!==a||b[29]!==n?(h=k.jsx("div",{ref:a,children:n}),b[28]=a,b[29]=n,b[30]=h):h=b[30];return h}g["default"]=a}),98);
__d("MWBlockingProtectionLogging",["I64","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MwbGroupBlockeeMessagesTapToRevealActionFalcoEvent").__setRef("MWBlockingProtectionLogging");function a(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=function(){i.onReady(function(b){return b.log(function(){return{entry_point:22,source:3,source_type:0,thread_id:(h||(h=d("I64"))).to_string(a.threadKey)}})})},b[0]=a,b[1]=c):c=b[1];return c}g.useLogTapToReviewAction=a}),98);
__d("MWV2ChatReactionsTooltip.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSVerifyContactRowExistsStoredProcedure","MWLSThread","MWPActor.react","Promise","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","react-compiler-runtime","react-strict-dom","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react"));e=m;var o=e.useEffect,p=e.useMemo,q=9;function r(a){var b=d("react-compiler-runtime").c(6),e=(j||(j=c("useReStore")))(),g,h;b[0]!==e||b[1]!==a?(g=function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(e.tables.contextual_profile_v1.index("associatedEntityIdAndOwner")).getKeyRange(a)},h=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);g=d("ReQLSuspense").useArray(g,h,f.id+":47");if(b[4]!==g){h=new Map();for(var i=g,k=Array.isArray(i),m=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(k){if(m>=i.length)break;n=i[m++]}else{m=i.next();if(m.done)break;n=m.value}n=n;var o=n==null?void 0:n.profileName;o!=null&&h.set((l||(l=d("I64"))).to_string(n.ownerId),o)}b[4]=g;b[5]=h}else h=b[5];n=h;o=n;return o}function a(a){var b=d("react-compiler-runtime").c(6),c=a.messageId,e=a.reactions;a=a.threadKey;var f=d("MWLSThread").useThread(a,s),g=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a),h;b[0]!==g||b[1]!==c||b[2]!==f||b[3]!==e||b[4]!==a?(h=g?n.jsx(u,{messageId:c,parentThreadKey:f,reactions:e,threadKey:a}):n.jsx(t,{messageId:c,parentThreadKey:f,reactions:e,threadKey:a}),b[0]=g,b[1]=c,b[2]=f,b[3]=e,b[4]=a,b[5]=h):h=b[5];return h}function s(a){return a.parentThreadKey}function t(a){var e=a.messageId,g=a.parentThreadKey,m=a.reactions,s=a.threadKey,t=(j||(j=c("useReStore")))(),u=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(t.tables.reactions).getKeyRange(s,e),d("ReQL").fromTableAscending(t.tables.contacts))},[t,s,e],f.id+":108"),v=r(g);o(function(){c("promiseDone")(t.runInTransaction(function(a){return(i||(i=b("Promise"))).all(u.map(function(e){e=e[1];if(e!=null)return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:k.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:k.ofNumber(c("LSContactIdType").FBID),contactType:k.ofNumber(c("LSContactType").USER),contactViewerRelationship:k.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:k.ofNumber(c("LSContactGender").UNKNOWN),id:e.id,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:k.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)});else return(i||(i=b("Promise"))).resolve()}))},"readwrite",void 0,void 0,f.id+":124"))},[t,u]);a=p(function(){var a=new Map(u.map(function(a){var b=a[1];b==null&&c("FBLogger")("messenger_web_product").debug("missing contact for reaction tooltip");return[(l||(l=d("I64"))).to_string(a[0].actorId),b!=null?b.name:h._(/*BTDS*/"__JHASH__AaE4hJExM0x__JHASH__")]})),b=m.map(function(b){b=(l||(l=d("I64"))).to_string(b.actorId);if(v.has(b))return v.get(b);b=a.get(b);if(b==null)return"";else return b}).filter(function(a){return a!==""}),e=b.length;b=b.slice(0,q);if(e>q){e=e-q;b.push(h._(/*BTDS*/"__JHASH__KVtJcih6CQz__JHASH__",[h._plural(e),h._param("count",String(e))]))}return b},[v,m,u]);g=a.map(function(a,b){return n.jsx(d("react-strict-dom").html.div,{children:a},String(b))});return n.jsx(d("react-strict-dom").html.div,{children:g})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b,e=a.messageId,g=a.parentThreadKey;a.reactions;var i=a.threadKey,k=(j||(j=c("useReStore")))();o(function(){c("promiseDone")(k.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRangeStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":226")),c("promiseDone")(k.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:e,threadId:i})},"readwrite",void 0,void 0,f.id+":231"))},[k,i,e]);var m=r(g);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(k.tables.reactions_v2_details).getKeyRange(i,e).map(function(a){var b;return(b=m.get((l||(l=d("I64"))).to_string(a.reactorId)))!=null?b:a.fullName})},[k,m,i,e],f.id+":242");g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(k.tables.reactions_v2).getKeyRange(i,e)},[k,i,e],f.id+":255");var p=g?g.map(function(a){return a.viewerIsReactor}):[];p=p.length>0?p.reduce(function(a,b){return a||b}):!1;var s=d("MWPActor.react").useActor(),t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.tables.contacts).getKeyRange(s)},[k,s],f.id+":274");g=g?g.map(function(a){return(l||(l=d("I64"))).to_int32(a.count)}).filter(function(a){return a>0}):[];b=(b=(t==null?void 0:t.id)!=null?m.get((l||(l=d("I64"))).to_string(t.id)):null)!=null?b:t==null?void 0:t.name;JSON.stringify(g)===JSON.stringify([1])&&p&&b!=null&&a.length===0?a.push(b):p&&a[0]!=null&&t&&b!=null&&((g=a[0])==null?void 0:g.toString())!==b&&a.unshift(b);p=h._(/*BTDS*/"__JHASH__GTBXwO8BaZr__JHASH__");t=a.slice(0,q);if(a.length>q){g=a.length-q;t.push(h._(/*BTDS*/"__JHASH__KVtJcih6CQz__JHASH__",[h._plural(g),h._param("count",String(c("intlSummarizeNumber")(g)))]).toString())}b=t.length===0?p:t.map(function(a,b){return n.jsx(d("react-strict-dom").html.div,{children:a},String(b))});return n.jsx(d("react-strict-dom").html.div,{children:b})}u.displayName=u.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMessageReactionsContainer.react",["fbt","I64","MWChatReactionEmoji","MWChatReactionsUtils","MWV2ChatReactionsTooltip.react","MWXTooltip.react","intlSummarizeNumber","react","react-compiler-runtime","stylex","useIsReactionDialogEnabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m={emoji:{alignItems:"x6s0dn4",backgroundColor:"xsrzb8j",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",lineHeight:"x14ju556",$$css:!0},emojiMargin:{marginEnd:"xcwd3tp",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1ncwhqj",lineHeight:"x14ju556",minWidth:"xdhweic",paddingEnd:"x150jy0e",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",boxShadow:"x10vwrwz",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x4p5aij",paddingEnd:"x19um543",paddingBottom:"x1j85h84",paddingStart:"x1m6msm",textAlign:"xp4054r",$$css:!0},emojiWithCursor:{cursor:"x1ypdohk",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(28),e=a.count,f=a.countXstyle,g=a.disableReactionDialog,j=a.emojis,k=a.message,q=a.reactions,r=a.reactionsV2,s=a.renderEmojis,t=a.threadKey;a=a.xstyle;g=g===void 0?!1:g;k=k.messageId;var u;b[0]!==r?(u=r!=null?r.map(o).reduce(n,0):0,b[0]=r,b[1]=u):u=b[1];r=u;var v=c("useIsReactionDialogEnabled")(t)&&!g;u=r>1?r:e;var w=u>1;if(b[2]!==j||b[3]!==v||b[4]!==s||b[5]!==w){b[7]!==j.length||b[8]!==v||b[9]!==s||b[10]!==w?(g=function(a,b){var e=w||b!==j.length-1,f=d("MWChatReactionsUtils").isHeart(a[0]);return l.createElement("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(m.emoji,v?m.emojiWithCursor:!1,e?m.emojiMargin:!1),{key:String(b)}),l.jsx("div",babelHelpers["extends"]({},i.props(f?m.scaleHeartEmoji:!1),{children:s?s(a,16,"messenger_reaction_emoji_"+a[0]):l.jsx(c("MWChatReactionEmoji"),{emoji:a,size:16,testid:void 0})})))},b[7]=j.length,b[8]=v,b[9]=s,b[10]=w,b[11]=g):g=b[11];r=j.map(g);b[2]=j;b[3]=v;b[4]=s;b[5]=w;b[6]=r}else r=b[6];e=r;b[12]!==a?(g=(i||(i=c("stylex"))).props(m.emojiRow,a),b[12]=a,b[13]=g):g=b[13];b[14]!==f||b[15]!==u||b[16]!==w?(r=w?l.jsx(p,{countXstyle:f,reactionCount:u}):null,b[14]=f,b[15]=u,b[16]=w,b[17]=r):r=b[17];b[18]!==e||b[19]!==g||b[20]!==r?(a=l.jsxs("div",babelHelpers["extends"]({},g,{role:"none",children:[e,r]})),b[18]=e,b[19]=g,b[20]=r,b[21]=a):a=b[21];f=a;b[22]!==v||b[23]!==k||b[24]!==q||b[25]!==f||b[26]!==t?(u=v?l.jsx(c("MWXTooltip.react"),{align:"middle",label:h._(/*BTDS*/"__JHASH__pugXv5G1XoG__JHASH__"),position:"above",tooltip:l.jsx(c("MWV2ChatReactionsTooltip.react"),{messageId:k,reactions:q,threadKey:t}),children:f}):f,b[22]=v,b[23]=k,b[24]=q,b[25]=f,b[26]=t,b[27]=u):u=b[27];return u}function n(a,b){return a+b}function o(a){return(j||(j=d("I64"))).to_int32(a.count)}function p(a){var b=d("react-compiler-runtime").c(10),e=a.countXstyle;a=a.reactionCount;var f;b[0]!==a?(f=c("intlSummarizeNumber")(a),b[0]=a,b[1]=f):f=b[1];a=f;f=a.length;var g;b[2]!==e?(g=(i||(i=c("stylex")))(m.emojiNum,e),b[2]=e,b[3]=g):g=b[3];e=f+"ch";b[4]!==e?(f={width:e},b[4]=e,b[5]=f):f=b[5];b[6]!==a||b[7]!==g||b[8]!==f?(e=l.jsx("div",{className:g,role:"none",style:f,children:a}),b[6]=a,b[7]=g,b[8]=f,b[9]=e):e=b[9];return e}g["default"]=a}),226);
__d("MWUnsupportedXMA.react",["fbt","MWV2TombstonedMessage.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l={extraPaddingBottom:{paddingTop:"x1iorvi4",$$css:!0},extraPaddingTop:{paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.mediaRenderQpl,f=a.nextMessage;a=a.prevMessage;var g,i;b[0]!==e?(g=function(){e==null?void 0:e.endSuccess()},i=[e],b[0]=e,b[1]=g,b[2]=i):(g=b[1],i=b[2]);k(g,i);g=a&&l.extraPaddingTop;i=f&&l.extraPaddingBottom;b[3]!==g||b[4]!==i?(a=[g,i],b[3]=g,b[4]=i,b[5]=a):a=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,children:h._(/*BTDS*/"__JHASH__-GvVFaMikWU__JHASH__")}),b[6]=f):f=b[6];b[7]!==a?(g=j.jsx(d("react-strict-dom").html.div,{style:a,children:f}),b[7]=a,b[8]=g):g=b[8];return g}g["default"]=a}),226);
__d("MWXMAV2AttachmentHscrollLayout.react",["FDSHScroll.react","MWXColumn.react","MWXColumnItem.react","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||c("react"),k={card:{display:"x3nfvp2",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},centerElement:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",$$css:!0},firstElement:{borderBottomEndRadius:"xrt01vj",borderTopEndRadius:"x1yr5g0i",$$css:!0},lastElement:{borderBottomStartRadius:"x10y3i5r",borderTopStartRadius:"x1lcm9me",$$css:!0},maxHeight:{maxHeight:"xuyqlj2",$$css:!0},scrollContainer:{paddingBottom:"x18d9i69",paddingTop:"xexx8yu",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(25),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.disableMaxHeight,l=a.flattenTop;a=a.outgoing;var m=h===void 0?!1:h;h=a?"right":"left";a=l?"top":"none";var n,o,p,q,r,s;if(b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==m||b[4]!==h||b[5]!==a){var t=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:h,connectBottom:f,connectTop:g,flatten:a}),u=e.length;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"xic84rp xxbr6pl xh8yej3 x1s3gxii x19a7vgm"},b[13]=l):l=b[13];n=d("FDSHScroll.react").Container;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(o={minWidth:180,type:"responsive"},b[14]=o):o=b[14];p=k.scrollContainer;q=4;r=!0;s=e.map(function(a,b){var e=u===1,f=!e&&b===0,g=!e&&b===u-1;e=!e&&!f&&!g;return j.jsx(d("FDSHScroll.react").Child,{expanding:!0,type:"custom",children:j.jsx(c("MWXColumn.react"),{expanding:!0,verticalAlign:"top",xstyle:!m&&k.maxHeight,children:j.jsx(c("MWXColumnItem.react"),{expanding:!0,children:j.createElement("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(k.card,t,f&&k.firstElement,e&&k.centerElement,g&&k.lastElement),{key:b}),a)})})},b)});b[0]=e;b[1]=f;b[2]=g;b[3]=m;b[4]=h;b[5]=a;b[6]=n;b[7]=o;b[8]=p;b[9]=q;b[10]=r;b[11]=s;b[12]=l}else n=b[6],o=b[7],p=b[8],q=b[9],r=b[10],s=b[11],l=b[12];b[15]!==n||b[16]!==o||b[17]!==p||b[18]!==q||b[19]!==r||b[20]!==s?(e=j.jsx(n,{cardWidth:o,containerXStyle:p,gap:q,reduceArrowSize:r,children:s}),b[15]=n,b[16]=o,b[17]=p,b[18]=q,b[19]=r,b[20]=s,b[21]=e):e=b[21];b[22]!==e||b[23]!==l?(f=j.jsx("div",babelHelpers["extends"]({},l,{children:e})),b[22]=e,b[23]=l,b[24]=f):f=b[24];return f}g["default"]=a}),98);
__d("MWXMAV2AttachmentSingleLayout.react",["MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||c("react"),k={root:{display:"x3nfvp2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.flattenTop;a=a.outgoing;a=a?"right":"left";h=h?"top":"none";if(b[0]!==f||b[1]!==g||b[2]!==a||b[3]!==h){var l=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:f,connectTop:g,flatten:h});l=(i||(i=c("stylex"))).props(k.root,l);b[0]=f;b[1]=g;b[2]=a;b[3]=h;b[4]=l}else l=b[4];b[5]!==e||b[6]!==l?(f=j.jsx("div",babelHelpers["extends"]({},l,{children:e})),b[5]=e,b[6]=l,b[7]=f):f=b[7];return f}g["default"]=a}),98);
__d("MWXMAV2AttachmentVstackLayout.react",["MSGDataclassTypes.flow","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||c("react"),k={headerIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1kpxq89",width:"xsmyaan",$$css:!0},root:{backgroundColor:"x1xr0vuk",display:"x78zum5",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xeq5yr9",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(15);a=a.layoutHeader;var e=a==null?void 0:a.title;if(e==null)return null;var f=a==null?void 0:a.alignment,g=a==null?void 0:a.subtitle;a=a==null?void 0:(a=a.attribution_icon)==null?void 0:a.url;f=f===d("MSGDataclassTypes.flow").XmsgXmaVStackLayoutHeaderAlignmentType.Center?"center":"start";var h;b[0]!==e?(h=j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXRow.react"),{paddingTop:12,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"primary",type:"headlineEmphasized3",children:e})})})}),b[0]=e,b[1]=h):h=b[1];b[2]!==a?(e=a!=null&&j.jsx(c("MWXImage.react"),{src:a,xstyle:k.headerIcon}),b[2]=a,b[3]=e):e=b[3];b[4]!==e?(a=j.jsx(c("MWXRowItem.react"),{children:e}),b[4]=e,b[5]=a):a=b[5];b[6]!==g?(e=j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:g})}),b[6]=g,b[7]=e):e=b[7];b[8]!==a||b[9]!==e?(g=j.jsx(c("MWXColumnItem.react"),{children:j.jsxs(c("MWXRow.react"),{align:"start",paddingTop:0,spacing:4,verticalAlign:"center",children:[a,e]})}),b[8]=a,b[9]=e,b[10]=g):g=b[10];b[11]!==f||b[12]!==h||b[13]!==g?(a=j.jsxs(c("MWXColumn.react"),{align:f,paddingHorizontal:8,paddingVertical:8,spacing:8,children:[h,g]}),b[11]=f,b[12]=h,b[13]=g,b[14]=a):a=b[14];return a}function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.flattenTop,m=a.layoutExtension;a=a.outgoing;a=a?"right":"left";h=h?"top":"none";if(b[0]!==f||b[1]!==g||b[2]!==a||b[3]!==h){var n=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:f,connectTop:g,flatten:h});n=(i||(i=c("stylex"))).props(k.root,n);b[0]=f;b[1]=g;b[2]=a;b[3]=h;b[4]=n}else n=b[4];f=m==null?void 0:m.header;b[5]!==f?(g=j.jsx(l,{layoutHeader:f}),b[5]=f,b[6]=g):g=b[6];b[7]!==e||b[8]!==n||b[9]!==g?(a=j.jsx("div",{children:j.jsxs("div",babelHelpers["extends"]({},n,{children:[g,e]}))}),b[7]=e,b[8]=n,b[9]=g,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWXMAV2AttachmentLayoutWrapper.react",["FBLogger","MSGDataclassTypes.flow","MWXMAV2AttachmentHscrollLayout.react","MWXMAV2AttachmentSingleLayout.react","MWXMAV2AttachmentVstackLayout.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect;function a(a){var b=d("react-compiler-runtime").c(23),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.disableMaxHeightForHscrollLayout,i=a.flattenTop,l=a.layoutExtension,m=a.layoutType,n=a.mediaRenderQpl;a=a.outgoing;var o,p;b[0]!==n?(o=function(){n==null?void 0:n.addPoint("render-xma-v2-layout")},p=[n],b[0]=n,b[1]=o,b[2]=p):(o=b[1],p=b[2]);k(o,p);switch(m){case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Single:b[3]!==e[0]||b[4]!==f||b[5]!==g||b[6]!==i||b[7]!==a?(o=j.jsx(c("MWXMAV2AttachmentSingleLayout.react"),{connectBottom:f,connectTop:g,flattenTop:i,outgoing:a,children:e[0]}),b[3]=e[0],b[4]=f,b[5]=g,b[6]=i,b[7]=a,b[8]=o):o=b[8];return o;case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Hscroll:b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==h||b[13]!==i||b[14]!==a?(p=j.jsx(c("MWXMAV2AttachmentHscrollLayout.react"),{connectBottom:f,connectTop:g,disableMaxHeight:h,flattenTop:i,outgoing:a,children:e}),b[9]=e,b[10]=f,b[11]=g,b[12]=h,b[13]=i,b[14]=a,b[15]=p):p=b[15];return p;case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Vstack:b[16]!==e||b[17]!==f||b[18]!==g||b[19]!==i||b[20]!==l||b[21]!==a?(o=j.jsx(c("MWXMAV2AttachmentVstackLayout.react"),{connectBottom:f,connectTop:g,flattenTop:i,layoutExtension:l,outgoing:a,children:e}),b[16]=e,b[17]=f,b[18]=g,b[19]=i,b[20]=l,b[21]=a,b[22]=o):o=b[22];return o;default:throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 layout type %s",d("MSGDataclassTypes.flow").XmsgXmaLayoutType.getName(m))}}g["default"]=a}),98);
__d("MAWXMAV2GatedTemplateError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="MAWXMAV2GatedTemplateError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.MAWXMAV2GatedTemplateError=a}),66);
__d("useSupportMessagingGroupThreadSubtype.react",["I64","LSIntEnum","MessagingThreadSubtype","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b,e=d("react-compiler-runtime").c(2),g=(j||(j=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadSubtype"]).getKeyRange(a)},[g,a],f.id+":24"))!=null?b:{};b=b.threadSubtype;if(b==null)return!1;var k;e[0]!==b?(k=(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD)),e[0]=b,e[1]=k):k=e[1];return k}g.useSupportMessagingGroupThreadSubtype=a}),98);
__d("MWXMAV2AttachmentBloksTemplate.react",["CometPlaceholder.react","MWLSPostbackCtaHandler","MWLSThreadDisplayContext","MWThreadKey.react","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","stylex","useJSON","useSupportMessagingGroupThreadSubtype.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||c("react");(h||(h=d("react"))).useMemo;var l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MSGWebBloksEntryPoint.react").__setRef("MWXMAV2AttachmentBloksTemplate.react")),m={cardWidth:{maxWidth:"x16em4ew",$$css:!0},cardWidthChatTab:{maxWidth:"x1e4dklr",$$css:!0},root:{height:"x5yr21d",width:"xn9wirt",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.mediaRenderQpl;a=a.template;a=c("useJSON")(a.payload);var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();f=f==="ChatTab";var g=d("MWLSPostbackCtaHandler").usePostbackCtaHandler(),h=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),j=d("useSupportMessagingGroupThreadSubtype.react").useSupportMessagingGroupThreadSubtype(h);b[0]!==e?(h=function(){e==null?void 0:e.addPoint("render-xma-v2-bloks-template"),e==null?void 0:e.endSuccess()},b[0]=e,b[1]=h):h=b[1];var n;b[2]!==j||b[3]!==g?(n=function(a,b,c,d,e){if(!j)return;g(d,c)},b[2]=j,b[3]=g,b[4]=n):n=b[4];var o;b[5]!==h||b[6]!==n?(o={"bk.action.msg.wbloks.qpl.EndSuccess":h,"bk.action.xs.SendTextMessageCTA":n},b[5]=h,b[6]=n,b[7]=o):o=b[7];h=o;n=h;b[8]!==f?(o=(i||(i=c("stylex"))).props(m.root,!f&&m.cardWidth,f&&m.cardWidthChatTab),b[8]=f,b[9]=o):o=b[9];b[10]!==n||b[11]!==a?(h=k.jsx(l,{actionOverrides:n,payload:a}),b[10]=n,b[11]=a,b[12]=h):h=b[12];b[13]!==o||b[14]!==h?(f=k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx("div",babelHelpers["extends"]({},o,{children:h}))}),b[13]=o,b[14]=h,b[15]=f):f=b[15];return f}g["default"]=a}),98);
__d("getXmaWebUrlCtaHandler",["isStringNullOrWhitespaceOnly"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.action_url;return a==null||c("isStringNullOrWhitespaceOnly")(a)?null:{ctaActionType:"link",link:a}}g.getXmaWebUrlCtaHandler=a}),98);
__d("useGetCtaAction.react",["MSGDataclassTypes.flow","getXmaWebUrlCtaHandler","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(3),c=a==null?void 0:a.cta_type;if(a==null||c==null)return null;switch(c){case d("MSGDataclassTypes.flow").XmsgctaType.XmaWebUrl:b[0]!==a?(c=d("getXmaWebUrlCtaHandler").getXmaWebUrlCtaHandler(a),b[0]=a,b[1]=c):c=b[1];return c;default:b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a={ctaActionType:"unsupported"},b[2]=a):a=b[2];return a}}g.useGetCtaAction=a}),98);
__d("MWXMAV2PressableWrapper.react",["fbt","MWXPressable.react","react","react-compiler-runtime","useGetCtaAction.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react"),k={pressable:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.children;a=a.cta;a=d("useGetCtaAction.react").useGetCtaAction(a);if(a==null||a.ctaActionType==="unsupported")return e;var f;b[0]!==a.ctaActionType||b[1]!==a.link?(f=a.ctaActionType==="link"?{target:"_blank",url:a.link}:void 0,b[0]=a.ctaActionType,b[1]=a.link,b[2]=f):f=b[2];f=f;a=a.ctaActionType==="function"?a.onPress:void 0;var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"__JHASH__n6efyfReMNb__JHASH__"),b[3]=g):g=b[3];b[4]!==e||b[5]!==f||b[6]!==a?(g=j.jsx(c("MWXPressable.react"),{"aria-label":g,linkProps:f,onPress:a,overlayDisabled:!0,xstyle:k.pressable,children:e}),b[4]=e,b[5]=f,b[6]=a,b[7]=g):g=b[7];return g}g["default"]=a}),226);
__d("MWXMAV2AttachmentCompactGenericTemplate.react",["FBLogger","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXIconChevronRight","MWXIconStrict.react","MWXImage.react","MWXMAV2PressableWrapper.react","MWXRow.react","MWXRowItem.react","MWXText.react","isStringNullOrWhitespaceOnly","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react"),j={accessory_container:{alignSelf:"xamitd3",marginStart:"x16n37ib",$$css:!0},cardWidth:{maxWidth:"xw5ewwj",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",$$css:!0},preview_image_style_circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xc9qbxq",marginEnd:"x1emribx",objectFit:"xl1xv1r",width:"x14qfxbe",$$css:!0},preview_image_style_square:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xnnlda6",marginEnd:"xq8finb",objectFit:"xl1xv1r",width:"x15yg21f",$$css:!0},root:{backgroundColor:"x1xr0vuk",$$css:!0}};function k(a){var b=d("react-compiler-runtime").c(4);a=a.preview;var e=a==null?void 0:a.image.url;if(a==null||e==null||c("isStringNullOrWhitespaceOnly")(e))return null;switch(a.style){case d("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplatePreviewStyle.Circle:b[0]!==e?(a=i.jsx(c("MWXImage.react"),{src:e,xstyle:j.preview_image_style_circle}),b[0]=e,b[1]=a):a=b[1];return a;case d("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplatePreviewStyle.Square:b[2]!==e?(a=i.jsx(c("MWXImage.react"),{src:e,xstyle:j.preview_image_style_square}),b[2]=e,b[3]=a):a=b[3];return a}}function l(a){var b=d("react-compiler-runtime").c(2);a=a.accessory;if(a==null)return null;var e=null;switch(a){case d("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplateAccessoryType.Chevron:e=c("MWXIconChevronRight")}if(e==null)return null;b[0]!==e?(a=i.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:e,size:16}),b[0]=e,b[1]=a):a=b[1];return a}function a(a){var b=d("react-compiler-runtime").c(25),e=a.content,f=a.mediaRenderQpl;a=a.template;var g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();g=g==="ChatTab";var h=a.title;if(h==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("Template title is null for MWXMAV2AttachmentCompactGenericTemplate");f!=null&&(f.addPoint("render-xma-v2-template"),f.endSuccess());f=a.subtitle;var m=a.metadata;e=e.default_cta;var n=a.accessory,o=!g&&j.cardWidth;g=g&&j.cardWidthChatTab;var p;b[0]!==o||b[1]!==g?(p=[j.root,o,g],b[0]=o,b[1]=g,b[2]=p):p=b[2];b[3]!==a.preview?(o=i.jsx(c("MWXRowItem.react"),{expanding:!1,children:i.jsx(k,{preview:a.preview})}),b[3]=a.preview,b[4]=o):o=b[4];b[5]!==h?(g=i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:h})}),b[5]=h,b[6]=g):g=b[6];b[7]!==f?(a=f!=null&&i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:f})}),b[7]=f,b[8]=a):a=b[8];b[9]!==m?(h=m!=null&&i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:m})}),b[9]=m,b[10]=h):h=b[10];b[11]!==g||b[12]!==a||b[13]!==h?(f=i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsxs(c("MWXColumn.react"),{spacing:8,children:[g,a,h]})}),b[11]=g,b[12]=a,b[13]=h,b[14]=f):f=b[14];b[15]!==n?(m=i.jsx(c("MWXRowItem.react"),{xstyle:j.accessory_container,children:i.jsx(l,{accessory:n})}),b[15]=n,b[16]=m):m=b[16];b[17]!==p||b[18]!==o||b[19]!==f||b[20]!==m?(g=i.jsxs(c("MWXRow.react"),{paddingHorizontal:12,paddingVertical:12,spacing:0,verticalAlign:"center",xstyle:p,children:[o,f,m]}),b[17]=p,b[18]=o,b[19]=f,b[20]=m,b[21]=g):g=b[21];b[22]!==e||b[23]!==g?(a=i.jsx(c("MWXMAV2PressableWrapper.react"),{cta:e,children:g}),b[22]=e,b[23]=g,b[24]=a):a=b[24];return a}g["default"]=a}),98);
__d("MWXMAV2AttachmentGenAIRichResponseTemplate.react",["FDSImageCover.react","MWLSThreadDisplayContext","MWV2ChatTextParserUtils","MWXColumn.react","MWXColumnItem.react","MWXMAIconParser.react","MWXMessageBaseMessageListText.react","MWXMessageBubble.react","MWXMessageBubbleCornerStyles.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","stylex","useMWTextRenderers","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={card:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",verticalAlign:"xxymvpz",$$css:!0},cardWidth:{maxWidth:"xw5ewwj",$$css:!0},cardWidthChatTab:{maxWidth:"x1e4dklr",$$css:!0},opaqueCard:{backgroundColor:"x1xr0vuk",$$css:!0},profileRoot:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},root:{height:"x5yr21d",width:"xn9wirt",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(23),e=a.connectBottom,f=a.connectTop;a=a.searchMetadata;a=a==null?void 0:a.attributions[0];var g=a==null?void 0:a.title,i=a==null?void 0:a.subtitle;a=a==null?void 0:(a=a.image)==null?void 0:a.url;var l;b[0]!==a?(l=a==null?void 0:d("MWXMAIconParser.react").parse(a),b[0]=a,b[1]=l):l=b[1];a=l;var m;if(b[2]!==e||b[3]!==f){l=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:"right",connectBottom:e,connectTop:f,flatten:"top"});m=c("MWXColumnItem.react");l=(h||(h=c("stylex"))).props(k.profileRoot,k.card,k.opaqueCard,l);b[2]=e;b[3]=f;b[4]=m;b[5]=l}else m=b[4],l=b[5];b[6]!==a?(e=typeof a==="string"?j.jsx(c("FDSImageCover.react"),{alt:"Icon for this message's header",src:a,style:{borderRadius:"50%",height:"40px",width:"40px"}}):null,b[6]=a,b[7]=e):e=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x12nagc x16n37ib x1gslohp x6ikm8r x10wlt62 xjkvuk6 x1iorvi4"},b[8]=f):f=b[8];b[9]!==i?(a=i!=null&&i.length>0?j.jsx(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:i}):null,b[9]=i,b[10]=a):a=b[10];b[11]!==g?(i=g!=null?j.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:g}):null,b[11]=g,b[12]=i):i=b[12];b[13]!==a||b[14]!==i?(g=j.jsx("div",babelHelpers["extends"]({},f,{children:j.jsx(c("MWXTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:1,headline:i,headlineLineLimit:1,level:3})})),b[13]=a,b[14]=i,b[15]=g):g=b[15];b[16]!==l||b[17]!==e||b[18]!==g?(f=j.jsxs("div",babelHelpers["extends"]({},l,{children:[e,g]})),b[16]=l,b[17]=e,b[18]=g,b[19]=f):f=b[19];b[20]!==m||b[21]!==f?(a=j.jsx(m,{children:f}),b[20]=m,b[21]=f,b[22]=a):a=b[22];return a}function m(a){var b=d("react-compiler-runtime").c(12),e=a.connectBottom,f=a.connectTop,g=a.precedesXMA;a=a.text;var h=c("useMWTextRenderers")(!1,!1);if(a==null)return null;var i;b[0]!==a?(i=d("MWV2ChatTextParserUtils").findRanges(a,!0,!0),b[0]=a,b[1]=i):i=b[1];i=i;var k;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x14ctfv x6ikm8r x10wlt62 x1mzt3pk x1iorvi4 x4uap5 xjkvuk6 xkhd6sd x1n2onr6 x13faqbe"},b[2]=k):k=b[2];var l;b[3]!==i||b[4]!==h||b[5]!==a?(l=j.jsx(c("MWXMessageBaseMessageListText.react"),{outgoing:!1,ranges:i,renderers:h,text:a}),b[3]=i,b[4]=h,b[5]=a,b[6]=l):l=b[6];b[7]!==e||b[8]!==f||b[9]!==g||b[10]!==l?(i=j.jsx("div",babelHelpers["extends"]({},k,{children:j.jsx(c("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:e,connectTop:f,precedesXMA:g,variant:"default",xmaLayout:d("xmaLayouts").XMA_LAYOUTS.DEFAULT,children:l})})),b[7]=e,b[8]=f,b[9]=g,b[10]=l,b[11]=i):i=b[11];return i}function n(a){var b=d("react-compiler-runtime").c(5),e=a.connectBottom,f=a.connectTop,g=a.precedesXMA,h=a.sectionTypename;a=a.templateData;if(h==="XMSGXmaGenAiRichResponseSectionCachedTemplateData")switch(a.__typename){case"XMSGXmaRichTextTemplateData":b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a.text?(h=j.jsx(c("MWXColumnItem.react"),{children:j.jsx(m,{connectBottom:e,connectTop:f,precedesXMA:g,text:a.text})}),b[0]=e,b[1]=f,b[2]=g,b[3]=a.text,b[4]=h):h=b[4];return h}return null}function o(a){var b=d("react-compiler-runtime").c(13),e=a.connectBottom,f=a.connectTop,g=a.precedesXMA,h=a.sections;a=a.streamingAction;if((a==null?void 0:a.insertions)!=null){var i;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==a?(i=j.jsx(p,{connectBottom:e,connectTop:f,precedesXMA:g,sections:h,streamingAction:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=a,b[5]=i):i=b[5];a=i}else{b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==h?(i=j.jsx(r,{connectBottom:e,connectTop:f,precedesXMA:g,sections:h}),b[6]=e,b[7]=f,b[8]=g,b[9]=h,b[10]=i):i=b[10];a=i}b[11]!==a?(e=j.jsx(c("MWXColumnItem.react"),{children:a}),b[11]=a,b[12]=e):e=b[12];return e}function p(a){var b=d("react-compiler-runtime").c(6),c=a.connectBottom,e=a.connectTop,f=a.precedesXMA,g=a.sections;a=a.streamingAction;a=a.insertions;var h;if(b[0]!==c||b[1]!==e||b[2]!==a||b[3]!==f||b[4]!==g){var i=a!=null?new Map(a.map(q)):null;h=g.map(function(a,b){a=a.template_data;var d=a.section_id;a=a.__typename;d=d!=null&&i!=null&&i.has(d)?i==null?void 0:i.get(d):null;return d==null?null:j.jsx(n,{connectBottom:c,connectTop:e,precedesXMA:f,sectionTypename:a,templateData:d},b)});b[0]=c;b[1]=e;b[2]=a;b[3]=f;b[4]=g;b[5]=h}else h=b[5];return h}function q(a){return[a.section_id,a.template_data]}function r(a){var b=d("react-compiler-runtime").c(9),e=a.connectBottom,f=a.connectTop,g=a.precedesXMA;a=a.sections;if(b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a){var h;b[5]!==e||b[6]!==f||b[7]!==g?(h=function(a,b){a=a.template_data;switch(a.__typename){case"XMSGXmaRichTextTemplateData":return j.jsx(c("MWXColumnItem.react"),{children:j.jsx(m,{connectBottom:e,connectTop:f,precedesXMA:g,text:a.text})},b);default:}},b[5]=e,b[6]=f,b[7]=g,b[8]=h):h=b[8];h=a.map(h);b[0]=e;b[1]=f;b[2]=g;b[3]=a;b[4]=h}else h=b[4];return h}function a(a){var b=d("react-compiler-runtime").c(16),e=a.connectBottom,f=a.connectTop,g=a.content;a=a.mediaRenderQpl;var h=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();h=h==="ChatTab";if(g.__typename!=="XMSGXmaSingleContent")return null;g=g.custom_template_data;if(g==null||g.__typename!=="XMSGXmaGenAiRichResponseTemplateData")return null;a!=null&&(a.addPoint("render-xma-v2-template"),a.endSuccess());a=g==null?void 0:g.sections;var i=g==null?void 0:g.streaming_action;g=g==null?void 0:g.search_metadata;var m=!h&&k.cardWidth;h=h&&k.cardWidthChatTab;var n;b[0]!==m||b[1]!==h?(n=[k.root,m,h],b[0]=m,b[1]=h,b[2]=n):n=b[2];b[3]!==f||b[4]!==g||b[5]!==a||b[6]!==i?(m=a!=null?j.jsx(o,{connectBottom:g!=null,connectTop:f,precedesXMA:g!=null,sections:a,streamingAction:i}):null,b[3]=f,b[4]=g,b[5]=a,b[6]=i,b[7]=m):m=b[7];b[8]!==e||b[9]!==g||b[10]!==a?(h=g!=null?j.jsx(l,{connectBottom:e,connectTop:a!=null,searchMetadata:g}):null,b[8]=e,b[9]=g,b[10]=a,b[11]=h):h=b[11];b[12]!==n||b[13]!==m||b[14]!==h?(f=j.jsxs(c("MWXColumn.react"),{paddingHorizontal:0,paddingVertical:12,xstyle:n,children:[m,h]}),b[12]=n,b[13]=m,b[14]=h,b[15]=f):f=b[15];return f}g["default"]=a}),98);
__d("MWXMAV2AttachmentStandardGenericTemplate.react",["fbt","ix","CometPageVerificationIcon.react","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXMAV2PressableWrapper.react","MWXRow.react","MWXRowItem.react","MWXText.react","isStringNullOrWhitespaceOnly","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||c("react"),m={cardOverlayWidth:{width:"xg7gh6y",$$css:!0},cardOverlayWidthChatTab:{width:"xrostsh",$$css:!0},cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xzjbwwf",$$css:!0},header_image_style_circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xxk0z11",objectFit:"xl1xv1r",width:"xvy4d1p",$$css:!0},previewGradientTop:{background:"xnvtxd0",height:"x1jjfqgs",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},previewGradientTopGrid:{background:"xo90atz",height:"x10vz0mv",width:"xh8yej3",$$css:!0},rootOverlay:{aspectRatio:"x15jox0q",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",height:"x5yr21d",$$css:!0}},n={image:{objectFit:"xl1xv1r",$$css:!0},imageContainer:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0},imageMaxHeight:{maxHeight:"x1csiy34",$$css:!0},imageMaxHeightChatTab:{maxHeight:"xl8z2ie",$$css:!0},threeImages:{aspectRatio:"x1plog1",width:"xfhlp2a",$$css:!0},twoImages:{aspectRatio:"x1plog1",width:"x3hqpx7",$$css:!0}};function o(a){var b=d("react-compiler-runtime").c(14),e=a.isChatTab,f=a.isOverlayOrVideo,g=a.mediaUrls;a=a.totalMediaCount;var i=g.length,j=a-3;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x1ned7t2 x78zum5 x1q0g3np x5yr21d xh8yej3"},b[0]=a):a=b[0];if(b[1]!==j||b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==i){var m;b[7]!==j||b[8]!==e||b[9]!==f||b[10]!==i?(m=function(a,b){return l.createElement("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props([n.imageContainer,!f&&(e?n.imageMaxHeightChatTab:n.imageMaxHeight),i===2&&n.twoImages,i>2&&n.threeImages]),{key:b}),l.jsx(c("MWXImage.react"),{src:a,width:"100%",xstyle:n.image}),b===2&&j>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x1pincqn x5yr21d x10l6tqk x13vifvy xh8yej3"}),l.jsx("div",babelHelpers["extends"]({className:"x10l6tqk xtzzx4i xwa60dl x11lhmoz x1vjfegm"},{children:l.jsx(c("MWXText.react"),{color:"white",type:"headlineEmphasized4",children:h._(/*BTDS*/"__JHASH__D8-T7lc2snd__JHASH__",[h._param("value",j)])})}))]}))},b[7]=j,b[8]=e,b[9]=f,b[10]=i,b[11]=m):m=b[11];m=g.slice(0,3).map(m);b[1]=j;b[2]=e;b[3]=f;b[4]=g;b[5]=i;b[6]=m}else m=b[6];b[12]!==m?(g=l.jsx("div",babelHelpers["extends"]({},a,{children:m})),b[12]=m,b[13]=g):g=b[13];return g}function p(a){var b=d("react-compiler-runtime").c(25),e=a.body,f=a.header,g=a.isChatTab,h=a.isOverlayOrVideo;a=a.preview;if((a==null?void 0:a.__typename)==null){var i;b[0]!==f?(i=l.jsx(r,{hasPreview:!1,header:f,titleColor:"primary"}),b[0]=f,b[1]=i):i=b[1];return i}b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=[],b[2]=i):i=b[2];i=i;switch(a==null?void 0:a.__typename){case"XMSGXmaStandardGenericMultiMediaPreview":if(b[3]!==(a==null?void 0:a.medias)){var j;j=a==null?void 0:(j=a.medias)==null?void 0:j.map(q).filter(Boolean);b[3]=a==null?void 0:a.medias;b[4]=j}else j=b[4];i=j;case"XMSGXmaStandardGenericVideoPreview":j=a==null?void 0:(j=a.preview)==null?void 0:j.url;if(j!=null){var n;b[5]!==j?(n=[j],b[5]=j,b[6]=n):n=b[6];i=n}}if(!i||i.length===0){b[7]!==f?(j=l.jsx(r,{hasPreview:!1,header:f,titleColor:"primary"}),b[7]=f,b[8]=j):j=b[8];return j}n=e==null?void 0:e.source_decoration_type;j=e==null?void 0:e.source_text;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1jfb8zj x5yr21d x1n2onr6"},b[9]=e):e=b[9];a=(a=a==null?void 0:a.total_media_count)!=null?a:i.length;var p;b[10]!==g||b[11]!==h||b[12]!==i||b[13]!==a?(p=l.jsx(o,{isChatTab:g,isOverlayOrVideo:h,mediaUrls:i,totalMediaCount:a}),b[10]=g,b[11]=h,b[12]=i,b[13]=a,b[14]=p):p=b[14];b[15]!==f||b[16]!==i?(g=f!=null&&l.jsxs(l.Fragment,{children:[l.jsx("div",babelHelpers["extends"]({},(k||(k=c("stylex"))).props(m.previewGradientTop,i.length>2&&m.previewGradientTopGrid))),l.jsx("div",babelHelpers["extends"]({className:"x10l6tqk x17qophe x13vifvy xh8yej3"},{children:l.jsx(r,{hasPreview:!0,header:f,titleColor:"white"})}))]}),b[15]=f,b[16]=i,b[17]=g):g=b[17];b[18]!==n||b[19]!==j?(h=!c("isStringNullOrWhitespaceOnly")(j)&&j!=null&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"xudvloq x1ey2m1c x1jjfqgs x10l6tqk x17qophe xh8yej3"}),l.jsx("div",babelHelpers["extends"]({className:"xn0vg7t x10l6tqk xoie2o3"},{children:l.jsx(t,{paddingTop:0,placement:"overlay",sourceText:j,subtitleDecorationType:n})}))]}),b[18]=n,b[19]=j,b[20]=h):h=b[20];b[21]!==p||b[22]!==g||b[23]!==h?(a=l.jsxs("div",babelHelpers["extends"]({},e,{children:[p,g,h]})),b[21]=p,b[22]=g,b[23]=h,b[24]=a):a=b[24];return a}function q(a){return a.url}function r(a){var b,e=d("react-compiler-runtime").c(13),f=a.hasPreview,g=a.header;a=a.titleColor;if(g==null)return null;var h=g.verified_type===d("MSGDataclassTypes.flow").XmsgXmaVerifiedType.Default;b=(b=g.image)==null?void 0:b.url;g=g.title;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x6s0dn4 xfex06f x78zum5 x1nhvcw1 xz9dl7a xn6708d x18d9i69 x1ye3gou"},e[0]=i):i=e[0];var j;e[1]!==b?(j=b!=null&&!c("isStringNullOrWhitespaceOnly")(b)&&l.jsx(c("MWXImage.react"),{src:b,xstyle:m.header_image_style_circle}),e[1]=b,e[2]=j):j=e[2];e[3]!==g||e[4]!==a?(b=!c("isStringNullOrWhitespaceOnly")(g)&&g!=null&&l.jsx(c("MWXText.react"),{color:a,numberOfLines:1,type:"headlineEmphasized4",children:g}),e[3]=g,e[4]=a,e[5]=b):b=e[5];e[6]!==f||e[7]!==h?(g=h&&l.jsx(c("CometPageVerificationIcon.react"),{isInverted:f,size:"small",verificationBadge:"BLUE_VERIFIED"}),e[6]=f,e[7]=h,e[8]=g):g=e[8];e[9]!==j||e[10]!==b||e[11]!==g?(a=l.jsxs("div",babelHelpers["extends"]({},i,{children:[j,b,g]})),e[9]=j,e[10]=b,e[11]=g,e[12]=a):a=e[12];return a}function s(a){var b=d("react-compiler-runtime").c(17);a=a.body;var e=c("isStringNullOrWhitespaceOnly")(a.title),f=c("isStringNullOrWhitespaceOnly")(a.subtitle);f=!e&&!f?8:0;if(b[0]!==a.max_title_num_lines||b[1]!==a.title){var g;g=a.title!=null&&l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"primary",numberOfLines:(g=a.max_title_num_lines)!=null?g:3,type:"headlineEmphasized4",children:a.title})});b[0]=a.max_title_num_lines;b[1]=a.title;b[2]=g}else g=b[2];e=e?0:8;if(b[3]!==a.max_subtitle_num_lines||b[4]!==a.subtitle){var h;h=a.subtitle!=null&&l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:(h=a.max_subtitle_num_lines)!=null?h:3,type:"body4",children:a.subtitle})});b[3]=a.max_subtitle_num_lines;b[4]=a.subtitle;b[5]=h}else h=b[5];var i;b[6]!==a.source_decoration_type||b[7]!==a.source_text||b[8]!==f?(i=a.source_text!=null&&l.jsx(c("MWXColumnItem.react"),{children:l.jsx(t,{paddingTop:f,placement:"body",sourceText:a.source_text,subtitleDecorationType:a.source_decoration_type})}),b[6]=a.source_decoration_type,b[7]=a.source_text,b[8]=f,b[9]=i):i=b[9];b[10]!==e||b[11]!==h||b[12]!==i?(a=l.jsxs(c("MWXColumn.react"),{expanding:!0,paddingTop:e,verticalAlign:"bottom",children:[h,i]}),b[10]=e,b[11]=h,b[12]=i,b[13]=a):a=b[13];b[14]!==g||b[15]!==a?(f=l.jsxs(c("MWXColumn.react"),{expanding:!0,paddingHorizontal:12,paddingVertical:12,children:[g,a]}),b[14]=g,b[15]=a,b[16]=f):f=b[16];return f}function t(a){var b=d("react-compiler-runtime").c(13),e=a.paddingTop,f=a.placement,g=a.sourceText;a=a.subtitleDecorationType;f=f==="overlay";var h=null;if(a!=null)bb0:switch(a){case d("MSGDataclassTypes.flow").XmsgXmaSubtitleDecorationType.FacebookIcon:b[0]!==f?(a=f?i("845914"):i("845912"),b[0]=f,b[1]=a):a=b[1];a=a;var j;b[2]!==a?(j=l.jsx(c("MWXImage.react"),{src:a}),b[2]=a,b[3]=j):j=b[3];h=j;break bb0;default:}b[4]!==h?(a=h!=null&&l.jsx(c("MWXRowItem.react"),{children:h}),b[4]=h,b[5]=a):a=b[5];b[6]!==f||b[7]!==g?(j=!c("isStringNullOrWhitespaceOnly")(g)&&g!=null&&l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:f?"white":"secondary",numberOfLines:1,type:"body4",children:g})}),b[6]=f,b[7]=g,b[8]=j):j=b[8];b[9]!==e||b[10]!==a||b[11]!==j?(h=l.jsxs(c("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingTop:e,spacing:4,verticalAlign:"center",children:[a,j]}),b[9]=e,b[10]=a,b[11]=j,b[12]=h):h=b[12];return h}function a(a){var b=d("react-compiler-runtime").c(22),e=a.content,f=a.mediaRenderQpl;a=a.template;var g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();g=g==="ChatTab";f!=null&&(f.addPoint("render-xma-v2-template"),f.endSuccess());f=((f=a.config)==null?void 0:f.body_layout_type)===d("MSGDataclassTypes.flow").XmsgXmaStandardGenericBodyLayoutType.Overlay;var h=a.body,i=a.header;a=a.preview;e=e.default_cta;var j=f||(a==null?void 0:a.__typename)==="XMSGXmaStandardGenericVideoPreview",k=!g&&(j?m.cardOverlayWidth:m.cardWidth),n=g&&(j?m.cardOverlayWidthChatTab:m.cardWidthChatTab),o=j&&m.rootOverlay,q;b[0]!==k||b[1]!==n||b[2]!==o?(q=[m.templateRoot,k,n,o],b[0]=k,b[1]=n,b[2]=o,b[3]=q):q=b[3];b[4]!==h||b[5]!==i||b[6]!==g||b[7]!==f||b[8]!==j||b[9]!==a?(k=(i!=null||a!=null)&&l.jsx(c("MWXColumnItem.react"),{expanding:a!=null,children:l.jsx(p,{body:f?h:null,header:i,isChatTab:g,isOverlayOrVideo:j,preview:a})}),b[4]=h,b[5]=i,b[6]=g,b[7]=f,b[8]=j,b[9]=a,b[10]=k):k=b[10];b[11]!==h||b[12]!==f||b[13]!==a?(n=!f&&h!=null&&l.jsx(c("MWXColumnItem.react"),{expanding:a==null,children:l.jsx(s,{body:h})}),b[11]=h,b[12]=f,b[13]=a,b[14]=n):n=b[14];b[15]!==q||b[16]!==k||b[17]!==n?(o=l.jsxs(c("MWXColumn.react"),{expanding:!0,xstyle:q,children:[k,n]}),b[15]=q,b[16]=k,b[17]=n,b[18]=o):o=b[18];b[19]!==e||b[20]!==o?(i=l.jsx(c("MWXMAV2PressableWrapper.react"),{cta:e,children:o}),b[19]=e,b[20]=o,b[21]=i):i=b[21];return i}g["default"]=a}),226);
__d("MWThreadLiveLocationSessionsContext.react",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=h||(h=c("react"));f=e.createContext;e.useCallback;var k=e.useContext;e.useMemo;var l=e.useState,m=f({addOrUpdateSession:c("emptyFunction"),sessions:{}});function a(){return k(m)}function b(a){var b=d("react-compiler-runtime").c(7);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={},b[0]=c):c=b[0];c=l(c);var e=c[0],f=c[1];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(a,b,c){f(function(d){var e=d[a];if(e==null||e.eventTimeStamp<c){return babelHelpers["extends"]({},d,(e={},e[a]={encryptionKey:b,eventTimeStamp:c},e))}return d})},b[1]=c):c=b[1];c=c;b[2]!==e?(c={addOrUpdateSession:c,sessions:e},b[2]=e,b[3]=c):c=b[3];e=c;c=e;b[4]!==a||b[5]!==c?(e=j.jsx(m.Provider,{value:c,children:a}),b[4]=a,b[5]=c,b[6]=e):e=b[6];return e}g.useThreadMAWLiveLocationContext=a;g.MAWThreadLiveLocationContextProvider=b}),98);
__d("MWXMAV2LiveLocationTemplate.react",["fbt","ix","I64","MAWChatLiveLocationDialog.entrypoint","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWThreadKey.react","MWThreadLiveLocationSessionsContext.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXRow.react","MWXRowItem.react","MWXText.react","formatDate","react","react-compiler-runtime","useMWXEntryPointDialog","uuidv4"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||c("react"),m={cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xzjbwwf",$$css:!0},locationIcon:{height:"x10w6t97",width:"x1td3qas",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",height:"x5yr21d",$$css:!0}};function n(a){var b=d("react-compiler-runtime").c(5);a=a.eventTimestamp;var e;b[0]!==a?(e=c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"}),b[0]=a,b[1]=e):e=b[1];a=e;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:h._(/*BTDS*/"__JHASH__NKK2iBIRhq___JHASH__")})}),b[2]=e):e=b[2];b[3]!==a?(e=l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXRowItem.react"),{children:l.jsxs(c("MWXColumn.react"),{spacing:8,children:[e,l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:h._(/*BTDS*/"__JHASH__gEMI5Rahtiw__JHASH__",[h._param("endDate",a)])})})]})})}),b[3]=a,b[4]=e):e=b[4];return e}function o(){var a=d("react-compiler-runtime").c(12),b=d("MWThreadLiveLocationSessionsContext.react").useThreadMAWLiveLocationContext(),e=b.addOrUpdateSession,f=b.sessions,g=(j||(j=d("I64"))).to_string(d("MWThreadKey.react").useMWThreadKeyMemoizedExn());a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("uuidv4")(),a[0]=b):b=a[0];var k=b;a[1]!==g?(b={clientSubscriptionId:k,threadKey:g},a[1]=g,a[2]=b):b=a[2];b=c("useMWXEntryPointDialog")(c("MAWChatLiveLocationDialog.entrypoint"),b);var n=b[0];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXImage.react"),{src:i("293343"),xstyle:m.locationIcon})}),a[3]=b):b=a[3];var o;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:h._(/*BTDS*/"__JHASH__MWpZWJkzLWg__JHASH__")})}),a[4]=o):o=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsx(c("MWXColumnItem.react"),{children:l.jsxs(c("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:0,spacing:8,verticalAlign:"center",children:[b,l.jsx(c("MWXRowItem.react"),{children:l.jsxs(c("MWXColumn.react"),{spacing:4,children:[o,l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta4",children:h._(/*BTDS*/"__JHASH__jsGOlCm0rF7__JHASH__")})})]})})]})}),a[5]=b):b=a[5];a[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"__JHASH__C5Ftlp8cn2q__JHASH__"),a[6]=o):o=a[6];a[7]!==e||a[8]!==f||a[9]!==n||a[10]!==g?(b=l.jsxs(c("MWXColumn.react"),{paddingHorizontal:0,paddingVertical:0,spacing:8,children:[b,l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXButton.react"),{label:o,onPress:function(){n({addOrUpdateSession:e,clientSubscriptionId:k,sessions:f,threadKey:g})},type:"secondary"})})]}),a[7]=e,a[8]=f,a[9]=n,a[10]=g,a[11]=b):b=a[11];return b}function a(a){var b=d("react-compiler-runtime").c(9),e=a.mediaRenderQpl;a=a.template;var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=d("MWThreadLiveLocationSessionsContext.react").useThreadMAWLiveLocationContext();g=g.addOrUpdateSession;var h=a.location_metadata.user_id,i=a.location_metadata.encryption_key,j=Number(a.location_metadata.event_timestamp_ms);h!=null&&i!=null&&g(h,i,j);g=f==="ChatTab";h=a.location_metadata.session_state===d("MSGDataclassTypes.flow").XmsgXmaLiveLocationSessionState.Ended;e!=null&&(e.addPoint("render-xma-v2-template"),e.endSuccess());i=!g&&m.cardWidth;f=g&&m.cardWidthChatTab;b[0]!==i||b[1]!==f?(a=[m.templateRoot,i,f],b[0]=i,b[1]=f,b[2]=a):a=b[2];b[3]!==j||b[4]!==h?(e=h?l.jsx(n,{eventTimestamp:j}):l.jsx(o,{}),b[3]=j,b[4]=h,b[5]=e):e=b[5];b[6]!==a||b[7]!==e?(g=l.jsx(c("MWXColumn.react"),{paddingHorizontal:12,paddingVertical:12,xstyle:a,children:e}),b[6]=a,b[7]=e,b[8]=g):g=b[8];return g}g["default"]=a}),226);
__d("MWXMAV2SenderCopyMedia.react",["CometPlaceholder.react","FBLogger","MAWAttachmentBlob.react","MAWAttachmentSizeUtils","MAWDownloadMediaInWorker","MAWGetIsMediaDownloadStatusEnabled","MAWIsXMAWithPlaintextHash","MAWStateContext.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentLoadingPlaceholder.react","MWXImage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useContext,l=b.useEffect,m={corners:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0}},n=function(a,b){b==null?void 0:b.addPoint("fetch_preview_url_xma_start");a=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview","MAWXMAV2SenderCopyGetPreviewUrl - getSenderCopyPreviewUrl",b);b==null?void 0:b.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:Boolean(a)},string:{fetch_by:"maw_backend"}});if(a==="")throw c("FBLogger")("messenger_web_sharing").mustfixThrow("XMA 2.0 - SenderCopyMediaSuccessComponent - url is emtpy");return a};function o(a){var b=d("react-compiler-runtime").c(11),e=a.attachment,f=a.mediaRenderQpl;a=a.width;a=a===void 0?"100%":a;var g;b[0]!==e||b[1]!==f?(g=n(e,f),b[0]=e,b[1]=f,b[2]=g):g=b[2];e=g;var h;b[3]!==f?(g=function(){return f==null?void 0:f.endFail("load-image-error")},h=f==null?void 0:f.endSuccess(),b[3]=f,b[4]=g,b[5]=h):(g=b[4],h=b[5]);var i;b[6]!==g||b[7]!==h||b[8]!==e||b[9]!==a?(i=j.jsx(c("MWXImage.react"),{height:"100%",objectFit:"cover",onError:g,onLoad:h,src:e,width:a}),b[6]=g,b[7]=h,b[8]=e,b[9]=a,b[10]=i):i=b[10];return i}function a(a){var b=d("react-compiler-runtime").c(25),e=a.attachment,f=a.cardWidth,g=a.mediaRenderQpl;a=a.width;var h=a===void 0?"100%":a,i=k(d("MAWStateContext.react").MAWDispatchContext);b[0]!==e?(a=d("MAWAttachmentSizeUtils").getSizeFromAttachment(e),b[0]=e,b[1]=a):a=b[1];a=a;var n=a.height,q=a.width;b[2]!==e?(a=d("MAWIsXMAWithPlaintextHash").isXMAWithPlaintextHash(e)&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusForXMAsEnabled(),b[2]=e,b[3]=a):a=b[3];var r=a,s;b[4]!==e||b[5]!==i||b[6]!==r||b[7]!==g?(a=function(){e.hasMedia!==!0&&!r&&d("MAWDownloadMediaInWorker").maybeDownloadMediaInWorker({attachment:e,dispatch:i,mediaRenderQpl:g,triggerUIView:"thread"})},s=[e,g,i,r],b[4]=e,b[5]=i,b[6]=r,b[7]=g,b[8]=a,b[9]=s):(a=b[8],s=b[9]);l(a,s);if(e.hasXmaPreview===!0&&e.hasMedia===!1&&!r){b[10]!==n||b[11]!==q?(a=j.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:!1,connectTop:!1,descriptionForLogging:"MWXMAV2SenderCopyMedia.NoMedia",hasAppAttribution:!1,height:n,width:q,xstyle:m.corners}),b[10]=n,b[11]=q,b[12]=a):a=b[12];return a}b[13]!==e||b[14]!==g||b[15]!==h?(s=function(a){return j.jsx(c("CometPlaceholder.react"),{fallback:a("MAWXMAAttachmentItemDefaultPreview.Suspense",!0),name:"MAWXMAAttachmentItemDefaultPreview",children:j.jsx(o,{attachment:e,mediaRenderQpl:g,width:h})})},b[13]=e,b[14]=g,b[15]=h,b[16]=s):s=b[16];a=s;b[17]!==e||b[18]!==f||b[19]!==r||b[20]!==g||b[21]!==n||b[22]!==q||b[23]!==a?(s=r?j.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:!1,connectTop:!1,dbAttachment:e,descriptionForLogging:"MWXMAV2SenderCopyMedia",downloadStatusKeyOverride:e.xmaPreviewFbid,errorComponentRenderer:p,loadingPlaceholderStyle:m.corners,mediaRenderQpl:g,placeholderHeight:n,placeholderMaxWidth:f,placeholderWidth:q,successfulComponentRenderer:a,xmaMediaType:"preview"}):a(function(){return j.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWXMAV2SenderCopyMedia.Suspense",height:n,width:q})}),b[17]=e,b[18]=f,b[19]=r,b[20]=g,b[21]=n,b[22]=q,b[23]=a,b[24]=s):s=b[24];return s}function p(){return null}g["default"]=a}),98);
__d("MWXMAV2MemoriesTemplate.react",["fbt","ix","FBLogger","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXMAV2SenderCopyMedia.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||c("react"),l=180,m=240,n={cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xzjbwwf",$$css:!0},footer:{bottom:"x1ey2m1c",position:"x10l6tqk",$$css:!0},headerContainer:{position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",$$css:!0}};function o(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXImage.react"),{src:i("849069")})}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsxs(c("MWXRow.react"),{align:"start",paddingVertical:8,spacing:8,verticalAlign:"center",xstyle:n.headerContainer,children:[b,k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXText.react"),{color:"white",type:"headlineEmphasized5",children:h._(/*BTDS*/"__JHASH__w-iSNgsFLPV__JHASH__")})})]}),a[1]=b):b=a[1];return b}function p(a){var b=d("react-compiler-runtime").c(4);a=a.originalMessageCreationTs;a=parseInt(a,10)*1e3;var e;b[0]!==a?(e=new Date(a).toLocaleDateString("default",{day:"numeric",month:"long",year:"numeric"}),b[0]=a,b[1]=e):e=b[1];a=e;b[2]!==a?(e=k.jsx(c("MWXRow.react"),{align:"start",paddingHorizontal:16,paddingVertical:16,xstyle:n.footer,children:k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXText.react"),{color:"white",type:"headlineEmphasized5",children:a})})}),b[2]=a,b[3]=e):e=b[3];return e}function a(a){var b=d("react-compiler-runtime").c(19),e=a.attachmentForSenderCopyMediaDownload,f=a.mediaRenderQpl;a=a.template;var g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();g=g==="ChatTab";if(e==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("Attachment for Sender Copy Media Download is null for MWXMAV2MemoriesTemplate");f!=null&&(f.addPoint("render-xma-v2-template"),f.endSuccess());var h=!g&&n.cardWidth,i=g&&n.cardWidthChatTab,j;b[0]!==h||b[1]!==i?(j=[n.templateRoot,h,i],b[0]=h,b[1]=i,b[2]=j):j=b[2];var q,r;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x5yr21d x1n2onr6"},i=k.jsx("div",{className:"xq6dov1 xoverlg x10l6tqk x17qophe x13vifvy xh8yej3"}),q=k.jsx("div",{className:"x152gpt9 x1ey2m1c xoverlg x10l6tqk x17qophe xh8yej3"}),r=k.jsx(o,{}),b[3]=h,b[4]=i,b[5]=q,b[6]=r):(h=b[3],i=b[4],q=b[5],r=b[6]);g=g?l:m;var s;b[7]!==e||b[8]!==f||b[9]!==g?(s=k.jsx(c("MWXMAV2SenderCopyMedia.react"),{attachment:e,cardWidth:g,mediaRenderQpl:f}),b[7]=e,b[8]=f,b[9]=g,b[10]=s):s=b[10];b[11]!==a.original_message_creation_ts?(e=k.jsx(p,{originalMessageCreationTs:a.original_message_creation_ts}),b[11]=a.original_message_creation_ts,b[12]=e):e=b[12];b[13]!==e||b[14]!==s?(f=k.jsx(c("MWXColumnItem.react"),{children:k.jsxs("div",babelHelpers["extends"]({},h,{children:[i,q,r,s,e]}))}),b[13]=e,b[14]=s,b[15]=f):f=b[15];b[16]!==f||b[17]!==j?(g=k.jsx(c("MWXColumn.react"),{xstyle:j,children:f}),b[16]=f,b[17]=j,b[18]=g):g=b[18];return g}g["default"]=a}),226);
__d("MWXMAV2AttachmentTemplateWrapper.react",["FBLogger","MAWIsLiveLocationXmaEnabled","MAWIsMemoriesXmaEnabled","MAWXMAV2GatedTemplateError","MWXMAV2AttachmentBloksTemplate.react","MWXMAV2AttachmentCompactGenericTemplate.react","MWXMAV2AttachmentGenAIRichResponseTemplate.react","MWXMAV2AttachmentStandardGenericTemplate.react","MWXMAV2LiveLocationTemplate.react","MWXMAV2MemoriesTemplate.react","gkx","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(26),e=a.attachmentForSenderCopyMediaDownload,f=a.connectBottom,g=a.connectTop,h=a.content,k=a.mediaRenderQpl,l;b[0]!==k?(a=function(){k==null?void 0:k.addPoint("render-xma-v2-template")},l=[k],b[0]=k,b[1]=a,b[2]=l):(a=b[1],l=b[2]);j(a,l);a=h.custom_template_data;if(a==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null custom_template_data for XMA 2.0");l=null;bb0:switch(a.__typename){case"XMSGXmaStandardGenericTemplateData":if(c("gkx")("7835")===!0||c("qex")._("273")===!0){var m;b[3]!==h||b[4]!==a||b[5]!==k?(m=i.jsx(c("MWXMAV2AttachmentStandardGenericTemplate.react"),{content:h,mediaRenderQpl:k,template:a}),b[3]=h,b[4]=a,b[5]=k,b[6]=m):m=b[6];l=m}else throw new(d("MAWXMAV2GatedTemplateError").MAWXMAV2GatedTemplateError)(a.__typename);break bb0;case"XMSGXmaCompactGenericTemplateData":if((m=c("qex")._("1590"))!=null?m:!1){b[7]!==h||b[8]!==a||b[9]!==k?(m=i.jsx(c("MWXMAV2AttachmentCompactGenericTemplate.react"),{content:h,mediaRenderQpl:k,template:a}),b[7]=h,b[8]=a,b[9]=k,b[10]=m):m=b[10];l=m}else throw new(d("MAWXMAV2GatedTemplateError").MAWXMAV2GatedTemplateError)(a.__typename);break bb0;case"XMSGXmaBloksTemplateData":b[11]!==a||b[12]!==k?(m=i.jsx(c("MWXMAV2AttachmentBloksTemplate.react"),{mediaRenderQpl:k,template:a}),b[11]=a,b[12]=k,b[13]=m):m=b[13];l=m;break bb0;case"XMSGXmaLocationTemplateData":if(d("MAWIsLiveLocationXmaEnabled").isLiveLocationXmaEnabled()){b[14]!==a||b[15]!==k?(m=i.jsx(c("MWXMAV2LiveLocationTemplate.react"),{mediaRenderQpl:k,template:a}),b[14]=a,b[15]=k,b[16]=m):m=b[16];l=m}else throw new(d("MAWXMAV2GatedTemplateError").MAWXMAV2GatedTemplateError)(a.__typename);break bb0;case"XMSGXmaGenAiRichResponseTemplateData":if(c("gkx")("9770")===!0){b[17]!==f||b[18]!==g||b[19]!==h||b[20]!==k?(m=i.jsx(c("MWXMAV2AttachmentGenAIRichResponseTemplate.react"),{connectBottom:f,connectTop:g,content:h,mediaRenderQpl:k}),b[17]=f,b[18]=g,b[19]=h,b[20]=k,b[21]=m):m=b[21];l=m}else throw new(d("MAWXMAV2GatedTemplateError").MAWXMAV2GatedTemplateError)(a.__typename);break bb0;case"XMSGXmaMemoriesTemplateData":if(d("MAWIsMemoriesXmaEnabled").isMemoriesXmaEnabled()){b[22]!==e||b[23]!==a||b[24]!==k?(f=i.jsx(c("MWXMAV2MemoriesTemplate.react"),{attachmentForSenderCopyMediaDownload:e,mediaRenderQpl:k,template:a}),b[22]=e,b[23]=a,b[24]=k,b[25]=f):f=b[25];l=f}else throw new(d("MAWXMAV2GatedTemplateError").MAWXMAV2GatedTemplateError)(a.__typename)}if(l==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 template type %s",a.__typename);return l}g["default"]=a}),98);
__d("MWXMAV2HscrollLayoutUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(((d=d.custom_template_data)==null?void 0:d.__typename)==="XMSGXmaBloksTemplateData")return!0}return!1}f.isDisableMaxHeightForXMAV2HscrollLayout=a}),66);
__d("MWXMAV2ReceiverFetchPlaceholder.react",["CometHeroHoldTrigger.react","FBLogger","MWChatTypingIndicator.react","MWPMessageListAttachmentContainer.react","MWV2ChatBubbleContainer.react","MWV2ChatText.react","MWXMessageBubble.react","react","react-compiler-runtime","useIssueXMAReceiverFetchTask"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={unsetWidth:{width:"x4pn7vq",$$css:!0}};function k(a){var b=d("react-compiler-runtime").c(12);a=a.props;var e=a.connectBottom,f=a.connectTop,g=a.message,h=a.outgoing;a=a.receiverFetchParams;a=a==null?void 0:a.actionUrl;var j;b[0]!==g||b[1]!==a?(j=babelHelpers["extends"]({},g,{text:a}),b[0]=g,b[1]=a,b[2]=j):j=b[2];g=j;b[3]!==h||b[4]!==g?(a=i.jsx(c("MWV2ChatText.react"),{isSecureMessage:!1,message:g,outgoing:h}),b[3]=h,b[4]=g,b[5]=a):a=b[5];b[6]!==e||b[7]!==f||b[8]!==h||b[9]!==a||b[10]!==g?(j=i.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:e,connectTop:f,message:g,outgoing:h,precedesXMA:!1,children:a}),b[6]=e,b[7]=f,b[8]=h,b[9]=a,b[10]=g,b[11]=j):j=b[11];return j}function l(a){var b=d("react-compiler-runtime").c(11);a=a.props;var e=a.connectBottom,f=a.connectTop,g=a.mediaRenderQpl,h=a.message;a=a.outgoing;g==null?void 0:g.addPoint("fetch_xma_data_receiver_fetch");g=a?"right":"left";var k,l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=i.jsx(c("MWChatTypingIndicator.react"),{}),l=i.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.receiver_fetch.typing_indicator",hold:!0}),b[0]=k,b[1]=l):(k=b[0],l=b[1]);b[2]!==e||b[3]!==f||b[4]!==g?(k=i.jsxs(c("MWXMessageBubble.react"),{align:g,color:"incoming",connectBottom:e,connectTop:f,children:[k,l]}),b[2]=e,b[3]=f,b[4]=g,b[5]=k):k=b[5];b[6]!==f||b[7]!==h||b[8]!==a||b[9]!==k?(l=i.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:f,message:h,outgoing:a,xstyle:j.unsetWidth,children:k}),b[6]=f,b[7]=h,b[8]=a,b[9]=k,b[10]=l):l=b[10];return l}function m(a){var b=d("react-compiler-runtime").c(4);a=a.props;var e=a.attachment,f=a.isFbXmaAndDisabled,g=a.isXmaReceiverFetchFallback,h=a.mediaRenderQpl,j=a.message,m=a.receiverFetchParams;c("useIssueXMAReceiverFetchTask")(j.messageId,e,j.threadKey,m==null?void 0:m.xmaReceiverFetchParams,m==null?void 0:m.xmaContentType,h);if(f||g){h==null?void 0:h.addPoint("render_rf_xma_fallback");f?h==null?void 0:h.endSuccess():g&&(h==null?void 0:h.endFail("fetch_xma_data_receiver_fetch_failed"));b[0]!==a?(e=i.jsx(k,{props:a}),b[0]=a,b[1]=e):e=b[1];return e}b[2]!==a?(j=i.jsx(l,{props:a}),b[2]=a,b[3]=j):j=b[3];return j}function a(a){var b=d("react-compiler-runtime").c(4),e=a.message,f=a.receiverFetchParams;if(e==null){var g;(g=a.mediaRenderQpl)==null?void 0:g.endFail("missing_message");throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Missing message in placeholder")}b[0]!==e||b[1]!==a||b[2]!==f?(g=i.jsx(m,{props:babelHelpers["extends"]({},a,{message:e,receiverFetchParams:f})}),b[0]=e,b[1]=a,b[2]=f,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("MWXMAV2AttachmentContainer.react",["CometErrorBoundary.react","FBLogger","LSIntEnum","LSXmaContentType","MAWIsFBXMA","MAWSecurePlaceholder.react","MWChatBubbleEmphasisRing.react","MWUnsupportedXMA.react","MWXMAV2AttachmentLayoutWrapper.react","MWXMAV2AttachmentTemplateWrapper.react","MWXMAV2HscrollLayoutUtils","MWXMAV2ReceiverFetchPlaceholder.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react");function k(a){var b=d("react-compiler-runtime").c(13),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.flattenTop,i=a.hasEmphasisRing,k=a.message;a=a.outgoing;var l;b[0]!==g||b[1]!==h?(l=!h&&g?j.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,b[0]=g,b[1]=h,b[2]=l):l=b[2];b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==i||b[7]!==k||b[8]!==a?(h=i===!0?j.jsx("div",babelHelpers["extends"]({className:"x1rg5ohu"},{children:j.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:f,connectTop:g,message:k,outgoing:a,precedesXMA:!1,children:e})})):e,b[3]=e,b[4]=f,b[5]=g,b[6]=i,b[7]=k,b[8]=a,b[9]=h):h=b[9];b[10]!==l||b[11]!==h?(e=j.jsxs(j.Fragment,{children:[l,h]}),b[10]=l,b[11]=h,b[12]=e):e=b[12];return e}function a(a){var b=d("react-compiler-runtime").c(18),e=a.attachment,f=a.connectBottom,g=a.connectTop,h=a.currentUserID,i=a.flattenTop,m=a.hasEmphasisRing,n=a.mediaRenderQpl,o=a.message,p=a.outgoing,q;b[0]!==(e==null?void 0:e.xmaContentType)||b[1]!==h||b[2]!==n||b[3]!==o?(q=function(){if(h!=null&&o!=null)return j.jsx(c("MAWSecurePlaceholder.react"),{actorId:h,message:o,xmaContentType:e==null?void 0:e.xmaContentType});else return j.jsx(c("MWUnsupportedXMA.react"),{mediaRenderQpl:n,nextMessage:null,prevMessage:null})},b[0]=e==null?void 0:e.xmaContentType,b[1]=h,b[2]=n,b[3]=o,b[4]=q):q=b[4];var r;b[5]!==a?(r=j.jsx(l,babelHelpers["extends"]({},a)),b[5]=a,b[6]=r):r=b[6];b[7]!==q||b[8]!==r?(a=j.jsx(c("CometErrorBoundary.react"),{fallback:q,children:r}),b[7]=q,b[8]=r,b[9]=a):a=b[9];b[10]!==f||b[11]!==g||b[12]!==i||b[13]!==m||b[14]!==o||b[15]!==p||b[16]!==a?(q=j.jsx(k,{connectBottom:f,connectTop:g,flattenTop:i,hasEmphasisRing:m,message:o,outgoing:p,children:a}),b[10]=f,b[11]=g,b[12]=i,b[13]=m,b[14]=o,b[15]=p,b[16]=a,b[17]=q):q=b[17];return q}function l(a){var b=d("react-compiler-runtime").c(42),e=a.attachment,f=a.connectBottom,g=a.connectTop,i=a.flattenTop,k=a.mediaRenderQpl,l=a.message,m=a.outgoing,n=a.receiverFetchParams,o=a.xmaDataclass;a=a.xmaEventImpressionLoggingRef;var p=(n==null?void 0:n.isReceiverFetchXma)===!0&&o==null,q=(n==null?void 0:n.xmaContentType)!=null&&(h||(h=d("LSIntEnum"))).toNumber(n.xmaContentType)===c("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK,r;b[0]!==(n==null?void 0:n.xmaContentType)||b[1]!==(n==null?void 0:n.xmaPreviewsDisabled)?(r=(n==null?void 0:n.xmaPreviewsDisabled)===!0&&d("MAWIsFBXMA").isFBXMA(n==null?void 0:n.xmaContentType),b[0]=n==null?void 0:n.xmaContentType,b[1]=n==null?void 0:n.xmaPreviewsDisabled,b[2]=r):r=b[2];r=r;if(p||r||q){b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==r||b[7]!==q||b[8]!==k||b[9]!==l||b[10]!==m||b[11]!==n?(p=j.jsx(c("MWXMAV2ReceiverFetchPlaceholder.react"),{attachment:e,connectBottom:f,connectTop:g,isFbXmaAndDisabled:r,isXmaReceiverFetchFallback:q,mediaRenderQpl:k,message:l,outgoing:m,receiverFetchParams:n}),b[3]=e,b[4]=f,b[5]=g,b[6]=r,b[7]=q,b[8]=k,b[9]=l,b[10]=m,b[11]=n,b[12]=p):p=b[12];return p}if(o==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null xmaDataclass for XMA 2.0");r=o.layout_type;if(r==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null layout_type for XMA 2.0");q=o.content;if(q==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null content for XMA 2.0");if((q==null?void 0:q.__typename)==="XMSGXmaBloksContent")throw c("FBLogger")("messenger_web_product").mustfixThrow("XMSGXmaBloksContent is unsupported, Bloks XMAs should be using XMA 2.0");b[13]!==q?(l=(q==null?void 0:q.__typename)==="XMSGXmaSingleContent"?[q]:q.list,b[13]=q,b[14]=l):l=b[14];n=l;b[15]!==n?(p=d("MWXMAV2HscrollLayoutUtils").isDisableMaxHeightForXMAV2HscrollLayout(n),b[15]=n,b[16]=p):p=b[16];q=p;l=o.layout_extension;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x1eb86dx x78zum5"},b[17]=p):p=b[17];if(b[18]!==e||b[19]!==f||b[20]!==g||b[21]!==k||b[22]!==n){b[24]!==e||b[25]!==f||b[26]!==g||b[27]!==k?(o=function(a,b){return j.jsx(c("MWXMAV2AttachmentTemplateWrapper.react"),{attachmentForSenderCopyMediaDownload:e,connectBottom:f,connectTop:g,content:a,mediaRenderQpl:k},b)},b[24]=e,b[25]=f,b[26]=g,b[27]=k,b[28]=o):o=b[28];o=n.map(o);b[18]=e;b[19]=f;b[20]=g;b[21]=k;b[22]=n;b[23]=o}else o=b[23];b[29]!==f||b[30]!==g||b[31]!==q||b[32]!==i||b[33]!==l||b[34]!==r||b[35]!==k||b[36]!==m||b[37]!==o?(n=j.jsx(c("MWXMAV2AttachmentLayoutWrapper.react"),{connectBottom:f,connectTop:g,disableMaxHeightForHscrollLayout:q,flattenTop:i,layoutExtension:l,layoutType:r,mediaRenderQpl:k,outgoing:m,children:o}),b[29]=f,b[30]=g,b[31]=q,b[32]=i,b[33]=l,b[34]=r,b[35]=k,b[36]=m,b[37]=o,b[38]=n):n=b[38];b[39]!==n||b[40]!==a?(q=j.jsx("div",babelHelpers["extends"]({},p,{ref:a,children:n})),b[39]=n,b[40]=a,b[41]=q):q=b[41];return q}g["default"]=a}),98);
__d("MWMessageRowAttachment.react",["I64","LSIntEnum","MWLSThread","MWMessageListAttachmentContainer.react","MWPActor.react","MWUnsupportedXMA.react","MWXMAV2AttachmentContainer.react","MessengerWebUXLoggerXMAEventLoggingImpl","MetaConfig","gkx","react","react-compiler-runtime","useXMAPreviewsDisabledSetting","useXMAV2Provider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b,e,f=d("react-compiler-runtime").c(45),g=a.attachments,h=a.connectBottom,m=a.connectTop,n=a.hasMessageEmphasisRing,o=a.hasText,p=a.isSearchPluginAttachment,q=a.isSecureMessage,r=a.mediaRenderQpl,s=a.message,t=a.navigateToRouteForMediaViewer,u=a.nextMessage,v=a.outgoing,w=a.prevMessage;a=a.renderAttachment;var x=d("MWPActor.react").useActor(),y=c("useXMAV2Provider")(g),z=c("useXMAPreviewsDisabledSetting")(),A=d("MWLSThread").useThread(s.threadKey,l),B;f[0]!==g[0]||f[1]!==s||f[2]!==A?(B={attachment:g[0],clickCategory:1,message:s,threadType:A},f[0]=g[0],f[1]=s,f[2]=A,f[3]=B):B=f[3];A=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef(B);if(p){r==null?void 0:r.endSuccess();return null}f[4]!==s.displayedContentTypes?(B=(i||(i=d("I64"))).equal(s.displayedContentTypes,(j||(j=d("LSIntEnum"))).ofNumber(536870912)),f[4]=s.displayedContentTypes,f[5]=B):B=f[5];p=B;B=(B=g[0])==null?void 0:B.actionUrl;b=(b=g[0])==null?void 0:b.xmaContentType;e=(e=g[0])==null?void 0:e.receiverFetchId;var C;f[6]!==p||f[7]!==s.messageId||f[8]!==B||f[9]!==b||f[10]!==e||f[11]!==z?(C={actionUrl:B,isReceiverFetchXma:p,messageId:s.messageId,xmaContentType:b,xmaPreviewsDisabled:z,xmaReceiverFetchParams:e},f[6]=p,f[7]=s.messageId,f[8]=B,f[9]=b,f[10]=e,f[11]=z,f[12]=C):C=f[12];B=C;if(y!=null||p&&c("gkx")("7835")){f[13]!==g[0]||f[14]!==h||f[15]!==m||f[16]!==x||f[17]!==n||f[18]!==o||f[19]!==r||f[20]!==s||f[21]!==v||f[22]!==B||f[23]!==y||f[24]!==A?(b=k.jsx(c("MWXMAV2AttachmentContainer.react"),{attachment:g[0],connectBottom:h,connectTop:m,currentUserID:x,flattenTop:o,hasEmphasisRing:n,mediaRenderQpl:r,message:s,outgoing:v,receiverFetchParams:B,xmaDataclass:y,xmaEventImpressionLoggingRef:A}),f[13]=g[0],f[14]=h,f[15]=m,f[16]=x,f[17]=n,f[18]=o,f[19]=r,f[20]=s,f[21]=v,f[22]=B,f[23]=y,f[24]=A,f[25]=b):b=f[25];return b}if(a!=null&&q){f[26]!==o||f[27]!==r||f[28]!==s||f[29]!==u||f[30]!==v||f[31]!==w||f[32]!==a?(e=a(s,w,u,v,o,r),f[26]=o,f[27]=r,f[28]=s,f[29]=u,f[30]=v,f[31]=w,f[32]=a,f[33]=e):e=f[33];return e}f[34]!==h||f[35]!==m||f[36]!==n||f[37]!==o||f[38]!==r||f[39]!==s||f[40]!==t||f[41]!==u||f[42]!==v||f[43]!==w?(z=(i||(i=d("I64"))).to_string(s.threadKey)===c("MetaConfig")._("83")&&!v?k.jsx(c("MWUnsupportedXMA.react"),{mediaRenderQpl:r,nextMessage:u,prevMessage:w}):k.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:h,connectTop:m,hasEmphasisRing:n,hasText:o,mediaRenderQpl:r,message:s,navigateToRouteForMediaViewer:t,outgoing:v}),f[34]=h,f[35]=m,f[36]=n,f[37]=o,f[38]=r,f[39]=s,f[40]=t,f[41]=u,f[42]=v,f[43]=w,f[44]=z):z=f[44];return z}function l(a){return a.threadType}g["default"]=a}),98);
__d("MWPMessageFooter.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.Children,l={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.children,f=a.itemsXstyle,g=a.outgoing;a=a.xstyle;var i,m,n,o;if(b[0]!==e||b[1]!==f||b[2]!==a){o=Symbol["for"]("react.early_return_sentinel");bb0:{var p=k.toArray(e).filter(Boolean);if(p.length===0){o=null;break bb0}b[7]!==a?(i=(h||(h=c("stylex"))).props(l.container,a),b[7]=a,b[8]=i):i=b[8];m="none";var q;b[9]!==f?(q=function(a,b){return j.createElement("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.items,f),{key:""+b,role:"none"}),a)},b[9]=f,b[10]=q):q=b[10];n=p.map(q)}b[0]=e;b[1]=f;b[2]=a;b[3]=i;b[4]=m;b[5]=n;b[6]=o}else i=b[3],m=b[4],n=b[5],o=b[6];if(o!==Symbol["for"]("react.early_return_sentinel"))return o;b[11]!==g?(p=g?null:j.jsx("div",babelHelpers["extends"]({className:"x1ohifd9 x1c4vz4f xs83m0k"},{role:"none"})),b[11]=g,b[12]=p):p=b[12];b[13]!==i||b[14]!==m||b[15]!==n||b[16]!==p?(q=j.jsxs("div",babelHelpers["extends"]({},i,{role:m,children:[n,p]})),b[13]=i,b[14]=m,b[15]=n,b[16]=p,b[17]=q):q=b[17];return q}g.MWPMessageFooter=a}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWChatInteraction","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.children,f=a.messageId,g=a.optimisticAttachmentId,i=a.optimisticMessageId;a=a.xstyle;var k;b[0]!==f?(k=d("MWChatInteraction").get(f),b[0]=f,b[1]=k):k=b[1];f=k;b[2]!==i?(k=d("MWChatInteraction").get(i),b[2]=i,b[3]=k):k=b[3];i=k;b[4]!==g?(k=g!=null?d("MWChatInteraction").get(g):null,b[4]=g,b[5]=k):k=b[5];g=k;k=(f=(k=f)!=null?k:i)!=null?f:g;if(k==null){b[6]!==a?(i=(h||(h=c("stylex"))).props(a),b[6]=a,b[7]=i):i=b[7];b[8]!==e||b[9]!==i?(f=j.jsx("div",babelHelpers["extends"]({},i,{children:e})),b[8]=e,b[9]=i,b[10]=f):f=b[10];return f}else{b[11]!==e||b[12]!==k||b[13]!==a?(g=j.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:k,pageletName:"Message",xstyle:a,children:e}),b[11]=e,b[12]=k,b[13]=a,b[14]=g):g=b[14];return g}}g["default"]=a}),98);
__d("MWV2ChatUnsupportedMessage.react",["fbt","FBLogger","MWV2TombstonedMessage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.isOutgoing;c("FBLogger")("messenger_browser_clients").warn("Unsupported message type");var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__pL9gn5HLY3n__JHASH__"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g.MWV2ChatUnsupportedMessage=a}),226);
__d("MWMessageRowMessageComponent.react",["CometErrorBoundary.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWBlockedTombstoneMessage.react","MWBlockingProtectionLogging","MWClickedMessageContext.react","MWGroupBlockingProtectionUtils","MWMessageReactionsContainer.react","MWMessageRowAttachment.react","MWPBaseMessage.react","MWPMessageFooter.react","MWPMessageLoggingWrapper.react","MWPMessageReactions.react","MWV2ChatBubbleContainer.react","MWV2ChatEmoji.react","MWV2ChatErrorBubble.react","MWV2ChatText.react","MWV2ChatUnsentMessage.react","MWV2ChatUnsupportedMessage.react","MWV2MessageTimestampTooltip.react","MWXPressable.react","MetaConfig","ReQL","asyncToGeneratorRuntime","cr:120","justknobx","mwpMessageIsReply","promiseDone","react","react-compiler-runtime","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;f=e.memo;var l=e.useEffect;function a(a){var e=d("react-compiler-runtime").c(89),f=a.attachments,g=a.containerThreadKey,j=a.hasBlockQuoteStyle,m=a.hasClickState,n=a.hasMessageEmphasisRing,o=a.isFirstMessageInGroup,p=a.isLastMessageInGroup,q=a.isSearchPluginAttachment,r=a.isSecureMessage,s=a.mediaRenderQpl,t=a.message,u=a.navigateToRouteForMediaViewer,v=a.nextMessage,w=a.offlineAttachmentId,x=a.originalBumpedMsg,y=a.outgoing,z=a.prevMessage,A=a.reactions,B=a.reactionsV2,C=a.renderAttachment,D=a.threadType,E=j===void 0?!1:j,F=m===void 0?!1:m;a=c("MWClickedMessageContext.react").useHook();var G=a.clickedMessageId,H=a.fetchMessageSeenCount,I=a.hasError,J=a.setClickedMessageId,K=(h||(h=c("useReStore")))(),L=(j=x)!=null?j:t;e[0]!==D?(m=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(D),e[0]=D,e[1]=m):m=e[1];var M=m,N=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(L.threadKey);e[2]!==L?(a=c("mwpMessageIsReply")(L),e[2]=L,e[3]=a):a=e[3];var O=a;e[4]!==G||e[5]!==K||e[6]!==H||e[7]!==I||e[8]!==L.messageId||e[9]!==L.threadKey||e[10]!==J?(x=function(){if(window.getSelection().toString()!=="")return;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(K.tables.threads).getKeyRange(L.threadKey))),b=a==null?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(K.tables.community_folders).getKeyRange(a.parentThreadKey));a!=null&&b!=null&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:L.messageId},community_id:(i||(i=d("I64"))).to_string(b.folderId),event:"render_seen_count",group_id:i.to_string(b.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:i.to_string(a.threadKey)});if(G===L.messageId&&!I)return J(null);else return H(L.threadKey,L.messageId,b)})())},j=[K,G,L.messageId,L.threadKey,I,J,H],e[4]=G,e[5]=K,e[6]=H,e[7]=I,e[8]=L.messageId,e[9]=L.threadKey,e[10]=J,e[11]=x,e[12]=j):(x=e[11],j=e[12]);var P=d("Int64Hooks").useCallbackInt64(x,j),Q=d("MWBlockingProtectionLogging").useLogTapToReviewAction(L);e[13]!==q||e[14]!==r||e[15]!==s||e[16]!==L.threadKey||e[17]!==C?(m=function(){s==null?void 0:s.addPoint("render-message-row-message-component",{bool:{is_chat_entity_thread:(i||(i=d("I64"))).to_string(L.threadKey)===c("MetaConfig")._("83"),is_message_row_message_componentrender_attachment_prop_set:C!=null,is_search_plugin:q,is_secure_message:r}})},a=[q,r,s,L.threadKey,C],e[13]=q,e[14]=r,e[15]=s,e[16]=L.threadKey,e[17]=C,e[18]=m,e[19]=a):(m=e[18],a=e[19]);l(m,a);e[20]!==O||e[21]!==y?(x=function(){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:y,isReply:O})},e[20]=O,e[21]=y,e[22]=x):x=e[22];e[23]!==f||e[24]!==n||e[25]!==q||e[26]!==r||e[27]!==s||e[28]!==L||e[29]!==u||e[30]!==v||e[31]!==y||e[32]!==z||e[33]!==C?(j=function(a,b,d){return k.jsx(c("MWMessageRowAttachment.react"),{attachments:f,connectBottom:b,connectTop:a,hasMessageEmphasisRing:n,hasText:d,isSearchPluginAttachment:q,isSecureMessage:r,mediaRenderQpl:s,message:L,navigateToRouteForMediaViewer:u,nextMessage:v,outgoing:y,prevMessage:z,renderAttachment:C})},e[23]=f,e[24]=n,e[25]=q,e[26]=r,e[27]=s,e[28]=L,e[29]=u,e[30]=v,e[31]=y,e[32]=z,e[33]=C,e[34]=j):j=e[34];e[35]!==n||e[36]!==r||e[37]!==L?(m=function(){return k.jsx(c("MWV2ChatEmoji.react"),{hasEmphasisRing:n,isSecureMessage:r,message:L})},e[35]=n,e[36]=r,e[37]=L,e[38]=m):m=e[38];e[39]!==g||e[40]!==E||e[41]!==n||e[42]!==r||e[43]!==L||e[44]!==y||e[45]!==D?(a=function(a,b,d,e){return k.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:d,connectTop:b,hasEmphasisRing:n,message:L,outgoing:y,precedesXMA:e,children:k.jsx(c("MWV2ChatText.react"),{containerThreadKey:g,containerThreadType:D,hasBlockQuoteStyle:E,isSecureMessage:r,message:L,outgoing:y})})},e[39]=g,e[40]=E,e[41]=n,e[42]=r,e[43]=L,e[44]=y,e[45]=D,e[46]=a):a=e[46];var R;e[47]!==F||e[48]!==M||e[49]!==L||e[50]!==w||e[51]!==P?(R=function(a,d){a=k.jsx(c("MWPMessageLoggingWrapper.react"),{messageId:L.messageId,optimisticAttachmentId:w,optimisticMessageId:L.offlineThreadingId,xstyle:d,children:M&&!c("justknobx")._("641")&&b("cr:120")?k.jsx(b("cr:120"),{message:L,children:a}):k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:L,children:a})});return F?k.jsx(c("MWXPressable.react"),{onPress:P,overlayDisabled:!0,xstyle:d,children:a}):a},e[47]=F,e[48]=M,e[49]=L,e[50]=w,e[51]=P,e[52]=R):R=e[52];var S;e[53]!==N||e[54]!==t||e[55]!==y||e[56]!==A||e[57]!==B?(S=function(){if(N)return null;var a=B!=null&&B.length>0;return k.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{outgoing:y,children:!a&&A.length<1?null:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:t,outgoing:y,reactions:A,reactionsV2:a?B:void 0,children:function(b,d,e,f,g){return k.jsx(c("MWMessageReactionsContainer.react"),{count:d,emojis:b,message:f,reactions:e,reactionsV2:a?B:void 0,threadKey:g})}})})},e[53]=N,e[54]=t,e[55]=y,e[56]=A,e[57]=B,e[58]=S):S=e[58];var T=d("MWGroupBlockingProtectionUtils").useShouldEnableBlockingProtection(L.threadKey)?function(a){var b=function(){a(),Q()};return k.jsx(d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{isLastMessageInGroup:p,message:L,onClick:b,source:d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.ORIGINAL_MESSAGE})}:void 0,U;e[59]!==r||e[60]!==L||e[61]!==y?(U=function(){return k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:L,children:k.jsx(d("MWV2ChatUnsentMessage.react").MWV2ChatUnsentMessage,{isSecureMessage:r,message:L,outgoing:y})})},e[59]=r,e[60]=L,e[61]=y,e[62]=U):U=e[62];var V;e[63]!==L||e[64]!==y?(V=function(){return k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:L,children:k.jsx(d("MWV2ChatUnsupportedMessage.react").MWV2ChatUnsupportedMessage,{isOutgoing:y})})},e[63]=L,e[64]=y,e[65]=V):V=e[65];var W;e[66]!==o||e[67]!==p||e[68]!==q||e[69]!==r||e[70]!==s||e[71]!==L||e[72]!==v||e[73]!==y||e[74]!==z||e[75]!==A||e[76]!==B||e[77]!==j||e[78]!==m||e[79]!==a||e[80]!==R||e[81]!==S||e[82]!==T||e[83]!==U||e[84]!==V?(W=k.jsx(c("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:o,isLastMessageInGroup:p,isSearchPluginAttachment:q,isSecureMessage:r,mediaRenderQpl:s,message:L,nextMessage:v,outgoing:y,prevMessage:z,reactions:A,reactionsV2:B,renderAttachment:j,renderEmoji:m,renderMessageBubble:a,renderMessageContainer:R,renderMessageFooter:S,renderMessageFromBlockee:T,renderUnsentMessage:U,renderUnsupportedMessage:V}),e[66]=o,e[67]=p,e[68]=q,e[69]=r,e[70]=s,e[71]=L,e[72]=v,e[73]=y,e[74]=z,e[75]=A,e[76]=B,e[77]=j,e[78]=m,e[79]=a,e[80]=R,e[81]=S,e[82]=T,e[83]=U,e[84]=V,e[85]=W):W=e[85];e[86]!==W||e[87]!==x?(o=k.jsx(c("CometErrorBoundary.react"),{fallback:x,children:W}),e[86]=W,e[87]=x,e[88]=o):o=e[88];return o}e=f(a);g.MWMessageRowMessageComponent=e}),98);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CurrentUser","IGDWebUtils","MWPAttachmentDataContext","MWPMessageListColumn.react","MWSearchPluginUtils","MWXPressable.react","MWXText.react","MessengerWebUXLogger","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j={root:{marginStart:"x16n37ib",$$css:!0}};function a(a){var b,e=d("react-compiler-runtime").c(27),f=a.attachment,g=a.botResponseId,h=a.dialogResource,k=a.flowInstanceId;a=a.isSearchSingleBubblePluginAttachment;a=a===void 0?!1:a;f=d("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(f);var l=f.attachmentCta1;f=f.attachmentCta2;var m=l;l=a?l:f;var n=d("MWSearchPluginUtils").useSearchPluginSources(l==null?void 0:l.nativeUrl);f=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID()));h=c("useMWXLazyDialog")(h);var o=h[0];h=f?"highlight":"blueLink";f=f?"bodyLink4":"body4";b=(b=g)!=null?b:"";var p;e[0]!==b?(p={botResponseId:b},e[0]=b,e[1]=p):p=e[1];e[2]!==k||e[3]!==p?(b={extraData:p,flowInstanceId:k},e[2]=k,e[3]=p,e[4]=b):b=e[4];k=b;var q=k;e[5]!==q?(p=babelHelpers["extends"]({eventName:"search_plugin_attachment_rendered"},q),e[5]=q,e[6]=p):p=e[6];b=c("MessengerWebUXLogger").useImpressionLoggerRef(p);var r=c("MessengerWebUXLogger").useInteractionLogger();e[7]!==q||e[8]!==r?(k=function(){r==null?void 0:r(babelHelpers["extends"]({eventName:"search_plugin_see_more"},q))},e[7]=q,e[8]=r,e[9]=k):k=e[9];p=k;e[10]!==g||e[11]!==q||e[12]!==r||e[13]!==o||e[14]!==n?(k=function(){n!=null&&(r==null?void 0:r(babelHelpers["extends"]({eventName:"search_plugin_see_sources"},q)),o({botResponseId:g,sources:n}))},e[10]=g,e[11]=q,e[12]=r,e[13]=o,e[14]=n,e[15]=k):k=e[15];k=k;var s;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(s=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),e[16]=s):s=e[16];e[17]!==a||e[18]!==p||e[19]!==k||e[20]!==m||e[21]!==l?(h=a?i.jsx("div",babelHelpers["extends"]({className:"x78zum5 x1q0g3np"},{children:i.jsx(c("MWXPressable.react"),{onPress:k,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:h,type:f,children:l!=null&&l.title})})})):i.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x1q0g3np"},{children:[i.jsx(c("MWXPressable.react"),{linkProps:{url:m==null?void 0:m.actionUrl},onPress:p,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:h,type:f,children:m!=null&&m.title})}),i.jsx(c("MWXPressable.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xa0\xb7\xa0"})}),i.jsx(c("MWXPressable.react"),{onPress:k,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:h,type:f,children:l!=null&&l.title})})]})),e[17]=a,e[18]=p,e[19]=k,e[20]=m,e[21]=l,e[22]=h):h=e[22];e[23]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),e[23]=f):f=e[23];e[24]!==b||e[25]!==h?(a=i.jsxs(c("BaseView.react"),{ref:b,xstyle:j.root,children:[s,h,f]}),e[24]=b,e[25]=h,e[26]=a):a=e[26];return a}g["default"]=a}),98);
__d("MWGeoblockMessageDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9556621507733518"}),null);
__d("MWGeoblockMessageDialogQuery$Parameters",["MWGeoblockMessageDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWGeoblockMessageDialogQuery_facebookRelayOperation"),metadata:{},name:"MWGeoblockMessageDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWGeoblockMessageDialog.entrypoint",["JSResourceForInteraction","MWGeoblockMessageDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("MWGeoblockMessageDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("MWGeoblockMessageDialog.react").__setRef("MWGeoblockMessageDialog.entrypoint")};g["default"]=a}),98);
__d("MWMustacheMediaGroupAttachments.react",["fbt","BaseMiddot.react","MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","react-compiler-runtime","stylex","useMAWBulkMediaDownloadManualRetry"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={incoming:{paddingStart:"x1ye3gou",$$css:!0},outgoing:{alignSelf:"xpvyfi4",paddingEnd:"xn6708d",$$css:!0},row:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.mediaGroupInfo,f=a.mediaRenderQpl;a=a.outgoing;f=c("useMAWBulkMediaDownloadManualRetry")(e.attachmentsToRetryDownload,f);var g;b[0]!==a?(g=(i||(i=c("stylex"))).props(l.row,a?l.outgoing:l.incoming),b[0]=a,b[1]=g):g=b[1];b[2]!==e.groupSize||b[3]!==e.mediaDownloadErrorsCount?(a=h._(/*BTDS*/"__JHASH__xlczHN0K-Kb__JHASH__",[h._param("errorQuantity",e.mediaDownloadErrorsCount),h._param("totalQuantity",e.groupSize)]),b[2]=e.groupSize,b[3]=e.mediaDownloadErrorsCount,b[4]=a):a=b[4];var j;b[5]!==f||b[6]!==e.attachmentsToRetryDownload.length?(j=e.attachmentsToRetryDownload.length>0&&k.jsxs(k.Fragment,{children:[k.jsx(c("BaseMiddot.react"),{}),k.jsx(c("MWXLink.react"),{onClick:f,weight_DEPRECATED:"medium",children:h._(/*BTDS*/"__JHASH__BGxC_0TtXwE__JHASH__")})]}),b[5]=f,b[6]=e.attachmentsToRetryDownload.length,b[7]=j):j=b[7];b[8]!==a||b[9]!==j?(f=k.jsxs(c("MWXText.react"),{color:"negative",type:"meta4",children:[a,j]}),b[8]=a,b[9]=j,b[10]=f):f=b[10];b[11]!==g||b[12]!==f?(e=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:k.jsx("div",babelHelpers["extends"]({},g,{children:f}))}),b[11]=g,b[12]=f,b[13]=e):e=b[13];return e}g["default"]=a}),226);
__d("MWMustacheTextAttachmentError.react",["MAWMediaDownloadStatusUIStateType","MAWVideoAudioPlaybackErrorHandlerUtils","MWPMessageListColumn.react","MWXText.react","react","react-compiler-runtime","stylex","useMAWMediaDownloadManualRetry"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{alignSelf:"xqcrz7y",paddingStart:"x1ye3gou",$$css:!0},outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(10),e=a.attachment,f=a.downloadStatusUIState,g=a.mediaRenderQpl;a=a.outgoing;g=c("useMAWMediaDownloadManualRetry")(e,g);var i;b[0]!==f?(i=d("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(f),b[0]=f,b[1]=i):i=b[1];f=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(e,i,g);e=f.mediaStatusText;i=f.retryButton;b[2]!==a?(g=(h||(h=c("stylex"))).props(k.row,a?k.outgoing:k.incoming),b[2]=a,b[3]=g):g=b[3];b[4]!==e||b[5]!==i?(f=j.jsxs(c("MWXText.react"),{color:"negative",type:"meta4",children:[e,i]}),b[4]=e,b[5]=i,b[6]=f):f=b[6];b[7]!==g||b[8]!==f?(a=j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:j.jsx("div",babelHelpers["extends"]({},g,{children:f}))}),b[7]=g,b[8]=f,b[9]=a):a=b[9];return a}g["default"]=a}),98);
__d("MWMustacheTextImpl.react",["MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||c("react"),k={outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.label,f=a.onClick;a=a.outgoing;var g;b[0]!==a?(g=(i||(i=c("stylex"))).props(k.row,a&&k.outgoing),b[0]=a,b[1]=g):g=b[1];b[2]!==e||b[3]!==f?(a=f!=null?j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:j.jsx(c("MWXLink.react"),{onClick:f,children:e})}):j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(e=j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:j.jsx("div",babelHelpers["extends"]({},g,{children:a}))}),b[5]=g,b[6]=a,b[7]=e):e=b[7];return e}g["default"]=a}),98);
__d("MWCMElectionFactLabelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9161713207253515"}),null);
__d("MWCMElectionFactLabelDialogQuery$Parameters",["MWCMElectionFactLabelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMElectionFactLabelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMElectionFactLabelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMElectionFactLabelDialog.entrypoint",["JSResourceForInteraction","MWCMElectionFactLabelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.message_id;return{queries:{queryReference:{parameters:c("MWCMElectionFactLabelDialogQuery$Parameters"),variables:{message_id:a}}}}},root:c("JSResourceForInteraction")("MWCMElectionFactLabelDialog.react").__setRef("MWCMElectionFactLabelDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7715059435285270"}),null);
__d("MWCMElectionInformTreatmentDialogQuery$Parameters",["MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMElectionInformTreatmentDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMElectionInformTreatmentDialog.entrypoint",["JSResourceForInteraction","MWCMElectionInformTreatmentDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.message_id;return{queries:{queryReference:{parameters:c("MWCMElectionInformTreatmentDialogQuery$Parameters"),variables:{message_id:a}}}}},root:c("JSResourceForInteraction")("MWCMElectionInformTreatmentDialog.react").__setRef("MWCMElectionInformTreatmentDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7797384147050491"}),null);
__d("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters",["MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMInformTreatmentGenAITransparencyDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMInformTreatmentGenAITransparencyDialog.entrypoint",["JSResourceForInteraction","MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWCMInformTreatmentGenAITransparencyDialog.react").__setRef("MWCMInformTreatmentGenAITransparencyDialog.entrypoint")};g["default"]=a}),98);
__d("MWMustacheTextInformTreatment.react",["fbt","$InternalEnum","MWCMElectionFactLabelDialog.entrypoint","MWCMElectionInformTreatmentDialog.entrypoint","MWCMInformTreatmentGenAITransparencyDialog.entrypoint","MWMustacheTextImpl.react","gkx","qex","react","react-compiler-runtime","useMWInformTreatmentFalcoEventLogger","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react"),k=b("$InternalEnum")({SEE_AI_INFO:"See AI info",SEE_ELECTION_INFO:"See election info"});function l(a){var b=d("react-compiler-runtime").c(11),e=a.message;a=a.outgoing;var f;b[0]!==e.messageId?(f={message_id:e.messageId},b[0]=e.messageId,b[1]=f):f=b[1];f=c("useMWXEntryPointDialog")(c("MWCMElectionInformTreatmentDialog.entrypoint"),f);var g=f[0];b[2]!==e?(f={message:e},b[2]=e,b[3]=f):f=b[3];var i=c("useMWInformTreatmentFalcoEventLogger")(f);e=c("gkx")("179");b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=e?h._(/*BTDS*/"__JHASH__SS3w0sqMjQ7__JHASH__"):h._(/*BTDS*/"__JHASH__8dc_hiLyYbc__JHASH__"),b[4]=f):f=b[4];e=f;b[5]!==i||b[6]!==g?(f=function(){i("view_info_click",{name:"misinformation",type:"media_label"}),g({})},b[5]=i,b[6]=g,b[7]=f):f=b[7];b[8]!==a||b[9]!==f?(e=j.jsx(c("MWMustacheTextImpl.react"),{label:e,onClick:f,outgoing:a}),b[8]=a,b[9]=f,b[10]=e):e=b[10];return e}function m(a){var b=d("react-compiler-runtime").c(10),e=a.label,f=a.message;a=a.outgoing;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={},b[0]=g):g=b[0];g=c("useMWXEntryPointDialog")(c("MWCMInformTreatmentGenAITransparencyDialog.entrypoint"),g);var h=g[0];b[1]!==f?(g={message:f},b[1]=f,b[2]=g):g=b[2];var i=c("useMWInformTreatmentFalcoEventLogger")(g);b[3]!==i||b[4]!==h?(f=function(){i("view_info_click",{name:"ai_generated_content",type:"media_label"}),h({})},b[3]=i,b[4]=h,b[5]=f):f=b[5];b[6]!==e||b[7]!==a||b[8]!==f?(g=j.jsx(c("MWMustacheTextImpl.react"),{label:e,onClick:f,outgoing:a}),b[6]=e,b[7]=a,b[8]=f,b[9]=g):g=b[9];return g}function n(a){var b=d("react-compiler-runtime").c(8),e=a.label,f=a.messageId;a=a.outgoing;var g;b[0]!==f?(g={message_id:f},b[0]=f,b[1]=g):g=b[1];f=c("useMWXEntryPointDialog")(c("MWCMElectionFactLabelDialog.entrypoint"),g);var h=f[0];b[2]!==h?(g=function(){return h({})},b[2]=h,b[3]=g):g=b[3];b[4]!==e||b[5]!==a||b[6]!==g?(f=j.jsx(c("MWMustacheTextImpl.react"),{label:e,onClick:g,outgoing:a}),b[4]=e,b[5]=a,b[6]=g,b[7]=f):f=b[7];return f}function a(a){var b,e=d("react-compiler-runtime").c(13),f=a.isPublicCMThread,g=a.message;a=a.outgoing;var h;e[0]!==g.metadataDataclass?(h=g.metadataDataclass!=null?JSON.parse(g.metadataDataclass):null,e[0]=g.metadataDataclass,e[1]=h):h=e[1];h=h;if(h==null)return null;b=(b=h.mustache_cta)==null?void 0:b.title;if(f&&((f=h.misinfo_metadata)==null?void 0:f.has_misinfo)){e[2]!==g||e[3]!==a?(h=j.jsx(l,{message:g,outgoing:a}),e[2]=g,e[3]=a,e[4]=h):h=e[4];return h}else if(c("qex")._("1581")===!0&&b===k.SEE_AI_INFO){e[5]!==g||e[6]!==b||e[7]!==a?(f=j.jsx(m,{label:b,message:g,outgoing:a}),e[5]=g,e[6]=b,e[7]=a,e[8]=f):f=e[8];return f}else if(b===k.SEE_ELECTION_INFO){e[9]!==g.messageId||e[10]!==b||e[11]!==a?(h=j.jsx(n,{label:b,messageId:g.messageId,outgoing:a}),e[9]=g.messageId,e[10]=b,e[11]=a,e[12]=h):h=e[12];return h}return null}g["default"]=a}),226);
__d("MWMustacheUnsupportedMediaAttachment.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWPMessageListColumn.react","MWXText.react","emptyFunction","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{alignSelf:"xqcrz7y",paddingStart:"x1ye3gou",$$css:!0},outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(10),e=a.attachment;a=a.outgoing;e=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(e,!1,c("emptyFunction"));var f=e.downloadButton;e=e.mediaStatusText;var g;b[0]!==a?(g=(h||(h=c("stylex"))).props(k.row,a?k.outgoing:k.incoming),b[0]=a,b[1]=g):g=b[1];b[2]!==f?(a=j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:f}),b[2]=f,b[3]=a):a=b[3];b[4]!==e||b[5]!==a?(f=j.jsxs(c("MWXText.react"),{color:"tertiary",type:"meta4",children:[e,a]}),b[4]=e,b[5]=a,b[6]=f):f=b[6];b[7]!==g||b[8]!==f?(e=j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:j.jsx("div",babelHelpers["extends"]({},g,{children:f}))}),b[7]=g,b[8]=f,b[9]=e):e=b[9];return e}g["default"]=a}),98);
__d("MWMustacheText",["fbt","I64","LSIntEnum","LSMessageTakedownState","MAWMediaDownloadStatusUIStateType","MWGeoblockMessageDialog.entrypoint","MWMustacheMediaGroupAttachments.react","MWMustacheTextAttachmentError.react","MWMustacheTextImpl.react","MWMustacheTextInformTreatment.react","MWMustacheUnsupportedMediaAttachment.react","MWPAttachmentDataContext","MWSupportTranslationsContext.react","MessagingAttachmentType","gkx","react","react-compiler-runtime","useGetMediaGroupInformation","useGroupsCometCMDisabledChatEntryPointDialog","useMAWMediaStatusUIState","useMWXEntryPointDialog","useShouldShowUnsupportedCodecFallback","useSupportTranslationsFetchDataLS"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function m(a){var b=d("react-compiler-runtime").c(13),e=a.attachment,f=a.isSecureMessage,g=a.mediaRenderQpl;a=a.outgoing;var i=c("useShouldShowUnsupportedCodecFallback")(e,g),m=(j||(j=d("I64"))).equal(e.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA));f=c("useMAWMediaStatusUIState")(f&&!m?e:null,g);m=f.downloadStatus;f=f.validationResult;var n=d("MAWMediaDownloadStatusUIStateType").isErrorState(m);f=(f==null?void 0:f.validatedMimeType)==="invalid-mp4";n=n||f;if(m!=null&&n){b[0]!==e||b[1]!==m||b[2]!==g||b[3]!==a?(f=l.jsx(c("MWMustacheTextAttachmentError.react"),{attachment:e,downloadStatusUIState:m,mediaRenderQpl:g,outgoing:a}),b[0]=e,b[1]=m,b[2]=g,b[3]=a,b[4]=f):f=b[4];return f}if(i){b[5]!==e||b[6]!==a?(n=l.jsx(c("MWMustacheUnsupportedMediaAttachment.react"),{attachment:e,outgoing:a}),b[5]=e,b[6]=a,b[7]=n):n=b[7];return n}m=e.mustacheText;if(m==null||m==="")return null;b[8]!==m?(g=h._(/*BTDS*/"__JHASH__fTQoFWqjgLD__JHASH__",[h._param("quoted text",m)]),b[8]=m,b[9]=g):g=b[9];b[10]!==a||b[11]!==g?(f=l.jsx(c("MWMustacheTextImpl.react"),{label:g,outgoing:a}),b[10]=a,b[11]=g,b[12]=f):f=b[12];return f}function n(a){var b=d("react-compiler-runtime").c(12),e=a.outgoing,f=a.threadID;b[0]!==f?(a={isGeoBlocked:!0,threadID:f},b[0]=f,b[1]=a):a=b[1];a=c("useGroupsCometCMDisabledChatEntryPointDialog")(a);var g=a[0];b[2]!==f?(a={threadID:f},b[2]=f,b[3]=a):a=b[3];a=c("useMWXEntryPointDialog")(c("MWGeoblockMessageDialog.entrypoint"),a);var i=a[0];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__P-dEPoA1cwy__JHASH__"),b[4]=a):a=b[4];var j;b[5]!==g||b[6]!==i||b[7]!==f?(j=function(){c("gkx")("5194")?i({threadID:f}):g({threadID:f})},b[5]=g,b[6]=i,b[7]=f,b[8]=j):j=b[8];b[9]!==e||b[10]!==j?(a=l.jsx(c("MWMustacheTextImpl.react"),{label:a,onClick:j,outgoing:e}),b[9]=e,b[10]=j,b[11]=a):a=b[11];return a}function o(a){var b=d("react-compiler-runtime").c(9),e=a.isLastMessage,f=a.messageID;a=a.outgoing;var g=d("MWSupportTranslationsContext.react").useMWSupportTranslationsContext(),i=g.setShowUntranslatedText,j=g.showToggleMustache,k=g.showUntranslatedText;g=c("useSupportTranslationsFetchDataLS")(f);if(g==null)return null;if(e||j){b[0]!==k?(f=k?h._(/*BTDS*/"__JHASH__utVE8Q7pcEU__JHASH__"):h._(/*BTDS*/"__JHASH__kBXvWwvKjDy__JHASH__"),b[0]=k,b[1]=f):f=b[1];b[2]!==i||b[3]!==k?(g=function(){i(!k)},b[2]=i,b[3]=k,b[4]=g):g=b[4];b[5]!==a||b[6]!==f||b[7]!==g?(e=l.jsx(c("MWMustacheTextImpl.react"),{label:f,onClick:g,outgoing:a}),b[5]=a,b[6]=f,b[7]=g,b[8]=e):e=b[8];return e}return null}function a(a){var b,e=d("react-compiler-runtime").c(22),f=a.isLastMessage,g=a.isPublicCMThread,h=a.isSecureMessage,i=a.mediaRenderQpl,p=a.message,q=a.outgoing;a=a.showSupportTranslationToggleMustache;b=(b=d("MWPAttachmentDataContext").useMWPGetAttachments(p))==null?void 0:b[0];var r=c("useGetMediaGroupInformation")(p,h,i),s=p.takedownState!=null&&(j||(j=d("I64"))).equal(p.takedownState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageTakedownState").GEO_BLOCKED));if(s){e[0]!==p.threadKey?(s=(j||(j=d("I64"))).to_string(p.threadKey),e[0]=p.threadKey,e[1]=s):s=e[1];var t;e[2]!==q||e[3]!==s?(t=l.jsx(n,{outgoing:q,threadID:s}),e[2]=q,e[3]=s,e[4]=t):t=e[4];return t}if(a&&!q){e[5]!==f||e[6]!==p.messageId||e[7]!==q?(s=l.jsx(o,{isLastMessage:f,messageID:p.messageId,outgoing:q}),e[5]=f,e[6]=p.messageId,e[7]=q,e[8]=s):s=e[8];return s}if(p.metadataDataclass!=null){e[9]!==g||e[10]!==p||e[11]!==q?(t=l.jsx(c("MWMustacheTextInformTreatment.react"),{isPublicCMThread:g,message:p,outgoing:q}),e[9]=g,e[10]=p,e[11]=q,e[12]=t):t=e[12];return t}else if(r!=null&&r.mediaDownloadErrorsCount>0){e[13]!==r||e[14]!==i||e[15]!==q?(a=l.jsx(c("MWMustacheMediaGroupAttachments.react"),{mediaGroupInfo:r,mediaRenderQpl:i,outgoing:q}),e[13]=r,e[14]=i,e[15]=q,e[16]=a):a=e[16];return a}else if(b!=null){e[17]!==b||e[18]!==h||e[19]!==i||e[20]!==q?(f=l.jsx(m,{attachment:b,isSecureMessage:h,mediaRenderQpl:i,outgoing:q}),e[17]=b,e[18]=h,e[19]=i,e[20]=q,e[21]=f):f=e[21];return f}return null}g["default"]=a}),226);
__d("MWPinnedMessageDropdownButton.react",["fbt","JSResourceForInteraction","MWXIconDots3Horizontal","MWXIconStrict.react","MWXLazyPopoverTrigger.react","MWXPressable.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={button:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"x10w6t97",width:"x1td3qas",$$css:!0},centered:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},container:{height:"x5yr21d",paddingStart:"xurb0ha",$$css:!0},hidden:{visibility:"xlshs6z",$$css:!0}},m=c("JSResourceForInteraction")("MWPinnedMessageItemHoverDropdownMenu.react").__setRef("MWPinnedMessageDropdownButton.react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.hidden,f=a.isSecureMessage,g=a.isSecureThread;a=a.message;var h;b[0]!==e?(h=(i||(i=c("stylex"))).props(l.container,l.centered,e&&l.hidden),b[0]=e,b[1]=h):h=b[1];b[2]!==f||b[3]!==g||b[4]!==a?(e=k.jsx(c("MWXLazyPopoverTrigger.react"),{popoverProps:{isSecureMessage:f,isSecureThread:g,message:a},popoverResource:m,popoverType:"menu",children:n}),b[2]=f,b[3]=g,b[4]=a,b[5]=e):e=b[5];b[6]!==h||b[7]!==e?(f=k.jsx("div",babelHelpers["extends"]({},h,{children:e})),b[6]=h,b[7]=e,b[8]=f):f=b[8];return f}function n(a,b){return k.jsx(c("MWXPressable.react"),{"aria-label":h._(/*BTDS*/"__JHASH__2-Q8CjJAjMD__JHASH__"),onPress:b,overlayRadius:"inherit",ref:a,xstyle:[l.button,l.centered],children:k.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconDots3Horizontal"),size:16})})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(7),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.attachments||b[1]!==a.messageId||b[2]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId)},b[0]=e.tables.attachments,b[1]=a.messageId,b[2]=a.threadKey,b[3]=g):g=b[3];var i;b[4]!==e||b[5]!==a?(i=[e,a],b[4]=e,b[5]=a,b[6]=i):i=b[6];b=d("ReQLSuspense").useFirst(g,i,f.id+":27");return(b==null?void 0:b.defaultCtaType)==="xma_web_url"&&(b==null?void 0:b.attachmentLoggingType)==="xma_open_native_rooms_invite"}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react",["MWMessageListDisplayContext.react","nux:344","react","react-compiler-runtime","useMWIsXMARoom","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=b("nux:344")==null?void 0:b("nux:344")("WEB_MSGR_PINNED_MESSAGES_NUX");function a(a){var b=d("react-compiler-runtime").c(1),e=a.isLastMessage,f=a.isOutgoing;a=a.message;var g=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();g=g.isPinnedMessageList;var h=a.textHasLinks;a=c("useMWIsXMARoom")(a);f=!f&&(h||a)&&e&&!g;if(!f)return null;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=j?i.jsx(j,{}):null,b[0]=h):h=b[0];return h}e=d("withCometPlaceholder").withCometPlaceholder(a,null,"MWPinnedMessageRowFooterNUXWrapperRequireNUX");g["default"]=e}),98);
__d("useMWShouldHideReply",["MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","isMWBumpMessage","isMWBumpMessageRedesignSupported","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(8),e=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(a.senderId,a.threadKey),f=c("MWBlockingProtectionContext.react").useHook();f=f.findMessageId;var g=d("MWGroupBlockingProtectionUtils").useShouldEnableBlockingProtection(a.threadKey),h;b[0]!==a.replyType?(h=c("isMWBumpMessage")(a.replyType)&&d("isMWBumpMessageRedesignSupported").isMWBumpMessageRedesignSupported(),b[0]=a.replyType,b[1]=h):h=b[1];h=h;var i;b[2]!==f||b[3]!==h||b[4]!==e||b[5]!==a.messageId||b[6]!==g?(i=h||g&&e&&!f(a.messageId),b[2]=f,b[3]=h,b[4]=e,b[5]=a.messageId,b[6]=g,b[7]=i):i=b[7];return i}g["default"]=a}),98);
__d("MWMessageRowBody.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MAWOptimisticReactionUtils","MWClickedMessageContext.react","MWExtraPinnedMessagePadding.react","MWMessageListDisplayContext.react","MWMessageListLoggingContext","MWMessagePromptPopoverTrigger.react","MWMessageReplyRow.react","MWMessageRowActions.react","MWMessageRowMessageComponent.react","MWMessageSearchPluginMustache.react","MWMustacheText","MWPAttachmentDataContext","MWPBaseMessageListRow.react","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPinnedMessageDropdownButton.react","MWPinnedMessageOverlay.react","MWPinnedMessageRowFooterNUXWrapperRequireNUX.react","MWSearchPluginUtils","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","cr:7237","deferredLoadComponent","gkx","isMWEditedMessage","justknobx","mwpIsMessageUnsupported","mwpMessageIsReply","qex","react","react-compiler-runtime","requireDeferredForDisplay","stylex","useGetMediaGroupInformation","useGetOriginalMsgFromBumpMsg","useIsMultiReactionEnabled","useMAWSeparateReadsSelector","useMWShouldHideReply","useSupportMessagingGroupThreadSubtype.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),aa=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWMessageReactionsContainerV2.react").__setRef("MWMessageRowBody.react")),ba=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWPEditedMessageHistoryList.react").__setRef("MWMessageRowBody.react")),ca=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWSupportTranslatedMessageTextWrapper.react").__setRef("MWMessageRowBody.react")),da={multiReactContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},multiReactContainerOutgoing:{alignSelf:"xpvyfi4",$$css:!0}};function l(a){var b=a.attachments,e=a.isSearchSingleBubblePluginAttachment;a=a.message;var f=d("MWMessageListLoggingContext").useFlowInstanceId();return k.jsx(c("MWMessageSearchPluginMustache.react"),{attachment:b[0],botResponseId:a.botResponseId,dialogResource:c("JSResourceForInteraction")("MWMessageSearchPluginSourcesDialog.react").__setRef("MWMessageRowBody.react"),flowInstanceId:f.current,isSearchSingleBubblePluginAttachment:e})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var e,f=d("react-compiler-runtime").c(163),g=a.containerThreadKey,i=a.focused,n=a.hasClickState,o=a.hasMessageEmphasisRing,p=a.hovered,q=a.incoming,ga=a.isDialogOpened,r=a.isFirstMessageInGroup,s=a.isGroupThread,t=a.isModal,u=a.isSecureMessage,v=a.mediaRenderQpl,w=a.message,x=a.navigateToRouteForMediaViewer,y=a.nextMessage,ha=a.onRenderError,z=a.prevMessage,A=a.renderAttachment,B=a.shouldUseReactionsV2,C=a.threadType;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var D=a.isPinnedMessageList,ia=a.isStandardMessageList;a=d("MWPMessageReactions.react").useReactions(w);var E=b("cr:7237")(w,u),F;f[0]!==a||f[1]!==E?(F=d("MAWOptimisticReactionUtils").mergeMawAndOptimisticLSDBReactions(E,a),f[0]=a,f[1]=E,f[2]=F):F=f[2];E=F;var G=d("MWPMessageReactions.react").useReactionsV2(w),H=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(w.threadKey);F=c("MWClickedMessageContext.react").useHook();F=F.clickedMessageId;var I;f[3]!==w?(I=c("isMWEditedMessage")(w),f[3]=w,f[4]=I):I=f[4];I=I;var J=c("useMWShouldHideReply")(w),K=y==null,L=!q,M=q&&s,N;f[5]!==C?(N=d("LSMessagingThreadTypeUtil").isArmadilloSecure(C),f[5]=C,f[6]=N):N=f[6];var ja=N;f[7]!==C?(N=d("LSMessagingThreadTypeUtil").isPublicCMThread(C),f[7]=C,f[8]=N):N=f[8];N=N;var O=c("useGetMediaGroupInformation")(w,u,v),P=d("useSupportMessagingGroupThreadSubtype.react").useSupportMessagingGroupThreadSubtype(w.threadKey),Q;f[9]!==P?(Q=P&&c("gkx")("7815")&&c("justknobx")._("3290"),f[9]=P,f[10]=Q):Q=f[10];P=Q;if(f[11]!==D||f[12]!==O||f[13]!==w||f[14]!==y){Q=D||d("MWPMessageParsingUtils").isEndOfGroup(w,y)||(O==null?void 0:O.groupsLastMessage)!=null&&d("MWPMessageParsingUtils").isEndOfGroup(O.groupsLastMessage,(Q=O.groupsNextMessage)!=null?Q:void 0);f[11]=D;f[12]=O;f[13]=w;f[14]=y;f[15]=Q}else Q=f[15];var R=Q;if(f[16]!==u){Q=u&&((O=c("qex")._("99"))!=null?O:!1);f[16]=u;f[17]=Q}else Q=f[17];var S=d("useMAWSeparateReadsSelector").useMAWSeparateReadsArraySelector("Reaction",E,a,Q,fa);O=c("useGetOriginalMsgFromBumpMsg")(w==null?void 0:w.replyType,w==null?void 0:w.replySourceId,w==null?void 0:w.threadKey);E=O!=null&&!(j||(j=d("I64"))).equal(O==null?void 0:O.senderId,w.senderId);Q=(a=O)!=null?a:w;f[18]!==Q?(a=c("mwpMessageIsReply")(Q),f[18]=Q,f[19]=a):a=f[19];var T=a;a=d("MWPAttachmentDataContext").useMWPGetAttachments((Q=O)!=null?Q:w);Q=a.length>0;var U;f[20]!==a[0]||f[21]!==Q?(U=Q&&d("MWSearchPluginUtils").isSearchPlugin(a[0]),f[20]=a[0],f[21]=Q,f[22]=U):U=f[22];U=U;var V;f[23]!==a[0]||f[24]!==Q?(V=Q&&d("MWSearchPluginUtils").isSearchSingleBubblePlugin(a[0]),f[23]=a[0],f[24]=Q,f[25]=V):V=f[25];Q=V;V=(V=O)!=null?V:w;var W;f[26]!==a||f[27]!==V?(W=c("mwpIsMessageUnsupported")(V,a),f[26]=a,f[27]=V,f[28]=W):W=f[28];V=W;f[29]!==V||f[30]!==H||f[31]!==G?(W=H&&G.some(ea)||V,f[29]=V,f[30]=H,f[31]=G,f[32]=W):W=f[32];var ka=W;V=(S.length>0||G.length>0)&&!H;f[33]!==r||f[34]!==M?(W=r&&!M?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:2}):null,f[33]=r,f[34]=M,f[35]=W):W=f[35];f[36]!==s||f[37]!==T||f[38]!==u||f[39]!==w||f[40]!==L||f[41]!==J||f[42]!==C?(M=T&&!J&&k.jsx(c("MWMessageReplyRow.react"),{isGroupThread:s,isSecureMessage:u,message:w,outgoing:L,threadType:C}),f[36]=s,f[37]=T,f[38]=u,f[39]=w,f[40]=L,f[41]=J,f[42]=C,f[43]=M):M=f[43];f[44]!==I||f[45]!==T||f[46]!==u||f[47]!==w.editCount||f[48]!==w.messageId||f[49]!==L||f[50]!==C?(J=I&&k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.EditedMessageHistoryList",children:k.jsx(ba,{editCount:w.editCount,isReply:T,isSecureMessage:u,msgId:w.messageId,outgoing:L,threadType:C})}),f[44]=I,f[45]=T,f[46]=u,f[47]=w.editCount,f[48]=w.messageId,f[49]=L,f[50]=C,f[51]=J):J=f[51];f[52]!==g||f[53]!==i||f[54]!==p||f[55]!==ga||f[56]!==t||f[57]!==D||f[58]!==u||f[59]!==ja||f[60]!==ia||f[61]!==w||f[62]!==L||f[63]!==ka||f[64]!==C?(I=function(a){return ia?k.jsx(d("MWMessageRowActions.react").MWMessageRowActions,{ariaHidden:t===!1,containerThreadKey:g,focused:i||ga||t,hidden:a,hovered:p,isSecureMessage:u,message:w,outgoing:L,shouldHideHoverMenuReact:ka,threadType:C}):D?k.jsx(c("MWPinnedMessageDropdownButton.react"),{hidden:!p&&!i,isSecureMessage:u,isSecureThread:ja,message:w}):null},f[52]=g,f[53]=i,f[54]=p,f[55]=ga,f[56]=t,f[57]=D,f[58]=u,f[59]=ja,f[60]=ia,f[61]=w,f[62]=L,f[63]=ka,f[64]=C,f[65]=I):I=f[65];var X;f[66]!==H||f[67]!==w||f[68]!==L||f[69]!==S||f[70]!==G?(X=function(){if(w.isUnsent)return null;var a=G!=null&&G.length>0;return!H||!a?null:k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(da.multiReactContainer,L?da.multiReactContainerOutgoing:!1),{children:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:w,outgoing:L,reactions:S,reactionsV2:G,children:function(a,b,d,e,f,g,h,i){return k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.ReactionsContainer",children:k.jsx(aa,{emojis:a,isMultiReactRowExpanded:h,message:e,onOpenDialog:g,outgoing:L,reactionsV2:G,toggleMultiReactionRowExpansion:i})})}})}))},f[66]=H,f[67]=w,f[68]=L,f[69]=S,f[70]=G,f[71]=X):X=f[71];var Y;f[72]!==s||f[73]!==R||f[74]!==t||f[75]!==w?(Y=function(){return k.jsx(c("MWV2MessageProfilePhoto.react"),{ariaHidden:s?!t:!0,display:R?"visible":"hidden",isGroupThread:s,message:w})},f[72]=s,f[73]=R,f[74]=t,f[75]=w,f[76]=Y):Y=f[76];var Z;f[77]!==T||f[78]!==L?(Z=function(a){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:L,isReply:T})},f[77]=T,f[78]=L,f[79]=Z):Z=f[79];e=(e=O)!=null?e:w;var $;f[80]!==a||f[81]!==g||f[82]!==E||f[83]!==n||f[84]!==o||f[85]!==r||f[86]!==R||f[87]!==D||f[88]!==T||f[89]!==U||f[90]!==u||f[91]!==v||f[92]!==w||f[93]!==x||f[94]!==y||f[95]!==O||f[96]!==L||f[97]!==z||f[98]!==S||f[99]!==G||f[100]!==A||f[101]!==B||f[102]!==C?($=D?k.jsx(d("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{attachments:a,containerThreadKey:g,hasClickState:n,hasMessageEmphasisRing:o,isFirstMessageInGroup:r,isLastMessageInGroup:R,isSearchPluginAttachment:U,isSecureMessage:u,mediaRenderQpl:v,message:w,nextMessage:y,offlineAttachmentId:a&&a.length>0?a[0].offlineAttachmentId:null,originalBumpedMsg:O,outgoing:L,prevMessage:z,reactions:S,reactionsV2:B?G:void 0,renderAttachment:A,threadType:C}):k.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:T,message:w,outgoing:L,children:k.jsx(d("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{attachments:a,containerThreadKey:g,hasBlockQuoteStyle:E,hasClickState:n,hasMessageEmphasisRing:o,isFirstMessageInGroup:r,isLastMessageInGroup:R,isSearchPluginAttachment:U,isSecureMessage:u,mediaRenderQpl:v,message:w,navigateToRouteForMediaViewer:x,nextMessage:y,offlineAttachmentId:a&&a.length>0?a[0].offlineAttachmentId:null,originalBumpedMsg:O,outgoing:L,prevMessage:z,reactions:S,reactionsV2:B?G:void 0,renderAttachment:A,threadType:C})}),f[80]=a,f[81]=g,f[82]=E,f[83]=n,f[84]=o,f[85]=r,f[86]=R,f[87]=D,f[88]=T,f[89]=U,f[90]=u,f[91]=v,f[92]=w,f[93]=x,f[94]=y,f[95]=O,f[96]=L,f[97]=z,f[98]=S,f[99]=G,f[100]=A,f[101]=B,f[102]=C,f[103]=$):$=f[103];f[104]!==a||f[105]!==e||f[106]!==$?(E=k.jsx(c("MWMessagePromptPopoverTrigger.react"),{attachments:a,message:e,children:$}),f[104]=a,f[105]=e,f[106]=$,f[107]=E):E=f[107];if(f[108]!==a||f[109]!==U||f[110]!==Q||f[111]!==w||f[112]!==O){x=(U||Q)&&k.jsx(l,{attachments:a,isSearchSingleBubblePluginAttachment:Q,message:(r=O)!=null?r:w});f[108]=a;f[109]=U;f[110]=Q;f[111]=w;f[112]=O;f[113]=x}else x=f[113];f[114]!==ha||f[115]!==Z||f[116]!==E||f[117]!==x?(z=k.jsxs(c("CometErrorBoundary.react"),{fallback:Z,onError:ha,children:[E,x]}),f[114]=ha,f[115]=Z,f[116]=E,f[117]=x,f[118]=z):z=f[118];f[119]!==o||f[120]!==V||f[121]!==w||f[122]!==O||f[123]!==L||f[124]!==I||f[125]!==X||f[126]!==Y||f[127]!==z?(A=k.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasMessageEmphasisRing:o,hasReactions:V,message:w,originalBumpedMsg:O,outgoing:L,renderGutterItem:m,renderMessageActions:I,renderMultiReactions:X,renderProfile:Y,children:z}),f[119]=o,f[120]=V,f[121]=w,f[122]=O,f[123]=L,f[124]=I,f[125]=X,f[126]=Y,f[127]=z,f[128]=A):A=f[128];f[129]!==q||f[130]!==w.messageId||f[131]!==P?(B=P&&q&&k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.MWSupportTranslatedMessageTextWrapper",children:k.jsx(ca,{msgId:w.messageId})}),f[129]=q,f[130]=w.messageId,f[131]=P,f[132]=B):B=f[132];f[133]!==K||f[134]!==w||f[135]!==L?(e=k.jsx(c("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react"),{isLastMessage:K,isOutgoing:L,message:w}),f[133]=K,f[134]=w,f[135]=L,f[136]=e):e=f[136];f[137]!==K||f[138]!==N||f[139]!==u||f[140]!==v||f[141]!==w||f[142]!==L||f[143]!==P?($=k.jsx(c("MWMustacheText"),{isLastMessage:K,isPublicCMThread:N,isSecureMessage:u,mediaRenderQpl:v,message:w,outgoing:L,showSupportTranslationToggleMustache:P}),f[137]=K,f[138]=N,f[139]=u,f[140]=v,f[141]=w,f[142]=L,f[143]=P,f[144]=$):$=f[144];f[145]!==y?(r=k.jsx(c("MWExtraPinnedMessagePadding.react"),{nextMessage:y}),f[145]=y,f[146]=r):r=f[146];f[147]!==F||f[148]!==n||f[149]!==K||f[150]!==R||f[151]!==w.messageId?(a=n&&F===w.messageId?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):R&&!K?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):null,f[147]=F,f[148]=n,f[149]=K,f[150]=R,f[151]=w.messageId,f[152]=a):a=f[152];f[153]!==W||f[154]!==M||f[155]!==J||f[156]!==A||f[157]!==B||f[158]!==e||f[159]!==$||f[160]!==r||f[161]!==a?(U=k.jsxs(k.Fragment,{children:[W,M,J,A,B,e,$,r,a]}),f[153]=W,f[154]=M,f[155]=J,f[156]=A,f[157]=B,f[158]=e,f[159]=$,f[160]=r,f[161]=a,f[162]=U):U=f[162];return U}function m(){return k.jsx("div",babelHelpers["extends"]({className:"x1xc55vz"},{role:"none"}))}m.displayName=m.name+" [from "+f.id+"]";function ea(a){return(j||(j=d("I64"))).to_int32(a.count)>0}function fa(a,b){return(j||(j=d("I64"))).compare(a.actorId,b.actorId)}g["default"]=a}),98);
__d("MWClickToReavealMustachTextInPinnedMessageList.react",["MWClickToRevealMustacheText.react","MWPMessageParsingUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={lastMessageInGroup:{marginTop:"xifccgj",$$css:!0},pinnedMessage:{paddingTop:"x1yrsyyn",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(3),e=a.isLastMessage,f=a.message;a=a.nextMessage;a=d("MWPMessageParsingUtils").isEndOfGroup(f,a);a=a&&!e?j.lastMessageInGroup:j.pinnedMessage;b[0]!==f.messageId||b[1]!==a?(e=i.jsx(c("MWClickToRevealMustacheText.react"),{messageId:f.messageId,xsyle:a}),b[0]=f.messageId,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWMessageRowFooter.react",["MWClickToReavealMustachTextInPinnedMessageList.react","MWMessageDeliveryStatus","MWMessageListDisplayContext.react","MWPBaseMessageListRow.react","MWV2MessageEndOfGroupContent.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(23),e=a.hasClickState,f=a.incoming,g=a.isBroadcastThread,h=a.isFromBlockedContact,j=a.isLastMessage,k=a.isSecureMessage,l=a.message,m=a.nextMessage,n=a.outgoing,o=a.status;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var p=a.isPinnedMessageList;a=a.isStandardMessageList;if(a){b[0]!==e||b[1]!==o?(a=e||d("MWMessageDeliveryStatus").isAlwaysShownStatus(o),b[0]=e,b[1]=o,b[2]=a):a=b[2];var q;b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==h||b[7]!==j||b[8]!==k||b[9]!==l||b[10]!==n||b[11]!==o?(q=function(){return i.jsx(d("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{alignLeft:e&&f,hasTextBasedMessageReceipts:!0,isFromBlockedContact:h,isLastMessage:j,isOutgoing:n,isSecureMessage:k,isTextOnly:g,message:l,status:o})},b[3]=e,b[4]=f,b[5]=g,b[6]=h,b[7]=j,b[8]=k,b[9]=l,b[10]=n,b[11]=o,b[12]=q):q=b[12];var r;b[13]!==l||b[14]!==m||b[15]!==a||b[16]!==q?(r=i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:l,nextMessage:m,showContent:a,children:q}),b[13]=l,b[14]=m,b[15]=a,b[16]=q,b[17]=r):r=b[17];return r}if(p){b[18]!==h||b[19]!==j||b[20]!==l||b[21]!==m?(a=h?i.jsx(c("MWClickToReavealMustachTextInPinnedMessageList.react"),{isLastMessage:j,message:l,nextMessage:m}):null,b[18]=h,b[19]=j,b[20]=l,b[21]=m,b[22]=a):a=b[22];return a}return null}g["default"]=a}),98);
__d("MDSForwardStackSvgIcon.react",["MDSSvgIcon.react","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4);c("vulture")("Ol-u8N4hkrLoWgYSWxUNKcJB66k=");var e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M10.5 14a.5.5 0 0 0 .5-.5v-2.536c0-1.608 1.769-2.532 3.02-1.578l9.21 7.026c1.026.783 1.027 2.37.002 3.154l-9.21 7.046c-1.25.957-3.022.034-3.022-1.576V22.5a.5.5 0 0 0-.5-.5H5a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h5.5Z"}),f=i.jsx("path",{d:"M20.38 24.265a.97.97 0 0 0-.38.771c0 1.61 1.771 2.533 3.022 1.576l9.21-7.046c1.025-.784 1.024-2.37-.002-3.154l-9.21-7.026c-1.251-.954-3.02-.03-3.02 1.578 0 .295.138.574.373.753l4.07 3.105c2.074 1.583 2.076 4.747.004 6.332l-4.066 3.111Z"}),b[0]=e,b[1]=f):(e=b[0],f=b[1]);b[2]!==a?(e=i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[e,f]})),b[2]=a,b[3]=e):e=b[3];return e}g["default"]=a}),98);
__d("MWHighlyForwardedIndicator.react",["fbt","LSMessagingThreadTypeUtil","MDSForwardStackSvgIcon.react","MWXText.react","coerceMessagingThreadTypeToLSThreadType","react","react-compiler-runtime","requireDeferred","useSinglePartialViewImpression","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("requireDeferred")("MwbHighlyForwardedIndicatorImpressionFalcoEvent").__setRef("MWHighlyForwardedIndicator.react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.forwardScore,f=a.mid,g=a.threadType;c("vulture")("rVgut3aWnBFdyupLmv61xOnTM0Y=");b[0]!==e||b[1]!==f||b[2]!==g?(a=function(){k.onReady(function(a){a.log(function(){return{limit:e,mid:g!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(g)?void 0:f,thread_type:g!=null?c("coerceMessagingThreadTypeToLSThreadType")(g):void 0}})})},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];a=a;var i;b[4]!==a?(i={onImpressionStart:a},b[4]=a,b[5]=i):i=b[5];a=c("useSinglePartialViewImpression")(i);var l;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("MDSForwardStackSvgIcon.react"),{color:"tertiary",size:16}),l={className:"x1h0ha7o"},b[6]=i,b[7]=l):(i=b[6],l=b[7]);var m;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"__JHASH__hxhFsSrRndH__JHASH__"),b[8]=m):m=b[8];b[9]!==a?(i=j.jsxs(j.Fragment,{children:[i,j.jsx("span",babelHelpers["extends"]({},l,{children:j.jsx(c("MWXText.react"),{color:"tertiary",ref:a,type:"meta4",children:m})}))]}),b[9]=a,b[10]=i):i=b[10];return i}g["default"]=a}),226);
__d("MWPForwardedContent",["fbt","I64","LSIntEnum","MWPMessageAuthor.react","MessagingAttachmentType","ReQL","ReQLSuspense","mwpMessageHasAttachment","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l;(j||d("react")).useMemo;function m(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function n(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return(k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function o(a,b,e){var g=d("react-compiler-runtime").c(28),j=(i||(i=c("useReStore")))(),o=a.messageId,p=a.threadKey,q;g[0]!==a?(q=c("mwpMessageHasAttachment")(a),g[0]=a,g[1]=q):q=g[1];var r=q;g[2]!==j||g[3]!==r||g[4]!==o||g[5]!==p?(a=function(){if(r)return d("ReQL").fromTableAscending(j.tables.attachments).getKeyRange(p,o);else return d("ReQL").empty()},q=[j,o,p,r],g[2]=j,g[3]=r,g[4]=o,g[5]=p,g[6]=a,g[7]=q):(a=g[6],q=g[7]);a=d("ReQLSuspense").useFirst(a,q,f.id+":63");if(b)if(a!=null)if(m(a)){g[8]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH___8ZpqsY3Jrg__JHASH__"),g[8]=q):q=g[8];b=q}else if(n(a)){g[9]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__INRUrq18hhv__JHASH__"),g[9]=q):q=g[9];b=q}else if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){g[10]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__Z71bv2q5yoA__JHASH__"),g[10]=q):q=g[10];b=q}else{g[11]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__8h2fNslikTS__JHASH__"),g[11]=q):q=g[11];b=q}else{g[12]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__8h2fNslikTS__JHASH__"),g[12]=q):q=g[12];b=q}else if(a!=null)if(e!=null)if(m(a)){g[13]!==e?(q=h._(/*BTDS*/"__JHASH__5GN3g82hBzH__JHASH__",[h._param("name",e)]),g[13]=e,g[14]=q):q=g[14];b=q}else if(n(a)){g[15]!==e?(q=h._(/*BTDS*/"__JHASH__NQwzfDxVOf0__JHASH__",[h._param("name",e)]),g[15]=e,g[16]=q):q=g[16];b=q}else if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){g[17]!==e?(q=h._(/*BTDS*/"__JHASH__QvgCMGMfMHB__JHASH__",[h._param("name",e)]),g[17]=e,g[18]=q):q=g[18];b=q}else{g[19]!==e?(q=h._(/*BTDS*/"__JHASH__1jGDZrisR_E__JHASH__",[h._param("name",e)]),g[19]=e,g[20]=q):q=g[20];b=q}else if(m(a)){g[21]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__QhCmPJ-QbeG__JHASH__"),g[21]=q):q=g[21];b=q}else if(n(a)){g[22]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__vFSMWshNg-J__JHASH__"),g[22]=q):q=g[22];b=q}else if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){g[23]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__U5_TMTE9DWx__JHASH__"),g[23]=q):q=g[23];b=q}else{g[24]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__CmZMizVeMX7__JHASH__"),g[24]=a):a=g[24];b=a}else if(e!=null){g[25]!==e?(q=h._(/*BTDS*/"__JHASH__1jGDZrisR_E__JHASH__",[h._param("name",e)]),g[25]=e,g[26]=q):q=g[26];b=q}else{g[27]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__CmZMizVeMX7__JHASH__"),g[27]=a):a=g[27];b=a}return b}function a(a,b){var c=d("MWPMessageAuthor.react").useAuthorName();c=c[0];return o(a,b,c)}g.useTitle=a}),226);
__d("MWXIconForwardAction",["MWXSvgIcon","SVGIcon","cr:12435","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12435")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWForwardedContent.react",["BaseIsDecorativeContext","I64","MWHighlyForwardedIndicator.react","MWPForwardedContent","MWXIconForwardAction","MWXIconStrict.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","gkx","justknobx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("justknobx")._("1649"),l=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-admin-text-color, var(--placeholder-text))");function a(a){var b=d("react-compiler-runtime").c(9),e=a.message,f=a.outgoing;a=a.threadType;f=d("MWPForwardedContent").useTitle(e,f);var g=e.forwardScore!=null?(i||(i=d("I64"))).to_int32(e.forwardScore):0;g=c("gkx")("24141")&&k!==0&&g>=k;if(b[0]!==e.forwardScore||b[1]!==e.messageId||b[2]!==g||b[3]!==a||b[4]!==f){var h;h=g?j.jsx(c("MWHighlyForwardedIndicator.react"),{forwardScore:(i||(i=d("I64"))).to_string((h=e.forwardScore)!=null?h:(i||(i=d("I64"))).zero),mid:e.messageId,threadType:a}):j.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:4,verticalAlign:"center",children:[j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("BaseIsDecorativeContext").Provider,{value:!0,children:j.jsx(c("MWXIconStrict.react"),{color:l,icon:c("MWXIconForwardAction"),size:12})})}),j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j.jsx("span",babelHelpers["extends"]({className:"x1aimgj9"},{children:f}))})})]});b[0]=e.forwardScore;b[1]=e.messageId;b[2]=g;b[3]=a;b[4]=f;b[5]=h}else h=b[5];e=h;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j"},b[6]=g):g=b[6];b[7]!==e?(a=j.jsx("div",babelHelpers["extends"]({},g,{children:e})),b[7]=e,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("MWPMessagePinnedText.react",["fbt","react","react-compiler-runtime","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.divider;a=a.message;a=c("useMWPIsMessagePinned")(a);var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"__JHASH__hknrqEeMk6h__JHASH__"),b[0]=f):f=b[0];f=f;b[1]!==e||b[2]!==a?(f=a&&j.jsxs(j.Fragment,{children:[e!=null&&j.jsx("span",babelHelpers["extends"]({className:"x1sdyfia"},{children:e})),j.jsx("span",{"aria-label":f,children:f})]}),b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}g["default"]=a}),226);
__d("MWXIconForward",["MWXSvgIcon","SVGIcon","cr:12436","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12436")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWReplySnippetContent",["fbt","Actor","I64","MWPMessageAuthor.react","react-compiler-runtime","useMWIsReplyToAuthor","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,b){var e=d("react-compiler-runtime").c(3),f=c("useMWPIsMessagePinned")(a),g=d("MWPMessageAuthor.react").useAuthorName();g=g[0];var j=d("Actor").useActor();j=j[0];j=j===(i||(i=d("I64"))).to_string(a.senderId);var k=c("useMWIsReplyToAuthor")(a);if(!f||j||k)return a.replySnippet;e[0]!==g||e[1]!==b?(f=b?h._(/*BTDS*/"__JHASH__lpeJtmI6peT__JHASH__").toString():h._(/*BTDS*/"__JHASH__bGQxu-uwmpe__JHASH__",[h._param("name",g)]).toString(),e[0]=g,e[1]=b,e[2]=f):f=e[2];return f}g["default"]=a}),226);
__d("MWReplySnippet.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWXIconForward","MWXIconForwardAction","MWXIconReply","MWXIconStrict.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","ReQL","ReQLSuspense","isMWBumpMessage","isMWBumpMessageRedesignSupported","isMWEditedMessage","react","react-compiler-runtime","useMWJumpToMessage","useMWReplySnippetContent","useReStore","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m={separator:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0}},n=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-admin-text-color, var(--placeholder-text))");function o(a){var b=d("react-compiler-runtime").c(3);a=a.replySourceType;if(a==null)return null;if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_PRODUCER_STORY_REPLY))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY))){var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("MWXIconStrict.react"),{color:n,icon:c("MWXIconReply"),size:12}),b[0]=e):e=b[0];return e}else if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE))){b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("MWXIconStrict.react"),{color:n,icon:c("MWXIconForwardAction"),size:12}),b[1]=e):e=b[1];return e}else if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_MENTION))){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("MWXIconStrict.react"),{color:n,icon:c("MWXIconForward"),size:12}),b[2]=e):e=b[2];return e}return null}function a(a){var b=d("react-compiler-runtime").c(30),e=a.enableEditHistory,g=a.message;a=a.outgoing;e=e===void 0?!0:e;var i=(h||(h=c("useReStore")))();a=c("useMWReplySnippetContent")(g,a);var j=c("useMWJumpToMessage")("Bump"),k;b[0]!==i.tables.threads||b[1]!==g.threadKey?(k=function(){return d("ReQL").fromTableAscending(i.tables.threads,["threadType"]).getKeyRange(g.threadKey).map(p)},b[0]=i.tables.threads,b[1]=g.threadKey,b[2]=k):k=b[2];var n;b[3]!==i||b[4]!==g.threadKey?(n=[i,g.threadKey],b[3]=i,b[4]=g.threadKey,b[5]=n):n=b[5];k=d("ReQLSuspense").useFirst(k,n,f.id+":115");n=k==null?!1:d("LSMessagingThreadTypeUtil").isArmadilloSecure(k);n=(k=d("useStringWithSubstitutions").useStringWithSubstitutions(n?a:null,g.threadKey))!=null?k:a;if(a==null||a.trim().length===0)return null;b[6]!==g?(k=c("isMWEditedMessage")(g),b[6]=g,b[7]=k):k=b[7];a=k;b[8]!==g.replyType?(k=c("isMWBumpMessage")(g.replyType),b[8]=g.replyType,b[9]=k):k=b[9];k=k;var q;b[10]!==k||b[11]!==g.replySourceId||b[12]!==g.replySourceTimestampMs?(q=k&&g.replySourceId!=null&&g.replySourceTimestampMs!=null&&d("isMWBumpMessageRedesignSupported").isMWBumpMessageRedesignSupported(),b[10]=k,b[11]=g.replySourceId,b[12]=g.replySourceTimestampMs,b[13]=q):q=b[13];k=q;b[14]!==g.replySourceTypeV2||b[15]!==k?(q=!k&&l.jsx(o,{replySourceType:g==null?void 0:g.replySourceTypeV2}),b[14]=g.replySourceTypeV2,b[15]=k,b[16]=q):q=b[16];var r;b[17]!==q?(r=l.jsx(c("MWXRowItem.react"),{children:q}),b[17]=q,b[18]=r):r=b[18];b[19]!==e||b[20]!==a||b[21]!==j||b[22]!==g.replySourceId||b[23]!==g.replySourceTimestampMs||b[24]!==n||b[25]!==k?(q=l.jsx(c("MWXRowItem.react"),{children:k?l.jsx(c("MWXPressable.react"),{onPress:function(){g.replySourceId!=null&&g.replySourceTimestampMs!=null&&j(g.replySourceId,g.replySourceTimestampMs)},overlayDisabled:!0,children:l.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:l.jsx("span",babelHelpers["extends"]({className:"x1aimgj9"},{children:n}))})}):l.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:l.jsxs("span",babelHelpers["extends"]({className:"x1aimgj9"},{children:[n,a&&l.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{enableEditHistory:e,separatorStyle:m.separator})]}))})}),b[19]=e,b[20]=a,b[21]=j,b[22]=g.replySourceId,b[23]=g.replySourceTimestampMs,b[24]=n,b[25]=k,b[26]=q):q=b[26];b[27]!==r||b[28]!==q?(e=l.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:10,paddingVertical:4,spacing:4,testid:void 0,verticalAlign:"center",children:[r,q]}),b[27]=r,b[28]=q,b[29]=e):e=b[29];return e}function p(a){return a.threadType}g["default"]=a}),98);
__d("MWMessageRowHeader.react",["BaseMiddot.react","MWForwardedContent.react","MWMessageListDisplayContext.react","MWPBaseMessageRowHeader.react","MWPMessagePinnedText.react","MWReplySnippet.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(22),e=a.isCMThread,f=a.isFirstMessageInGroup,g=a.isGroupThread,h=a.isLastMessageInGroup,l=a.message,m=a.outgoing,n=a.threadType;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var o=a.isPinnedMessageList,p=a.isStandardMessageList;a=k;var q;b[0]!==l||b[1]!==m||b[2]!==n?(q=function(){return i.jsx(c("MWForwardedContent.react"),{message:l,outgoing:m,threadType:n})},b[0]=l,b[1]=m,b[2]=n,b[3]=q):q=b[3];var r;b[4]!==p||b[5]!==l?(r=function(a,b){return p?i.jsx(c("MWPMessagePinnedText.react"),{divider:b&&i.jsx(c("BaseMiddot.react"),{}),message:l}):null},b[4]=p,b[5]=l,b[6]=r):r=b[6];var s;b[7]!==l||b[8]!==m?(s=function(){return i.jsx(c("MWReplySnippet.react"),{message:l,outgoing:m})},b[7]=l,b[8]=m,b[9]=s):s=b[9];a=o?a:void 0;var t;b[10]!==e||b[11]!==f||b[12]!==g||b[13]!==h||b[14]!==o||b[15]!==l||b[16]!==m||b[17]!==q||b[18]!==r||b[19]!==s||b[20]!==a?(t=i.jsx(c("MWPBaseMessageRowHeader.react"),{alwaysRenderSenderName:o,isAnyCMThread:e,isFirstMessageInGroup:f,isGroupThread:g,isLastMessageInGroup:h,message:l,outgoing:m,renderForwardSnippet:q,renderPinnedText:r,renderReplySnippet:s,renderTextWrapper:j,renderTimestamp:a}),b[10]=e,b[11]=f,b[12]=g,b[13]=h,b[14]=o,b[15]=l,b[16]=m,b[17]=q,b[18]=r,b[19]=s,b[20]=a,b[21]=t):t=b[21];return t}function j(a){return i.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})}j.displayName=j.name+" [from "+f.id+"]";function k(a){return i.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBRestoreGapUIWithEBCheck.react",["cr:9929"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9929")}),98);
__d("MWMessageRowMissingMessagesIndicator.react",["CometErrorBoundary.react","I64","JSResourceForInteraction","MWEBMobileOnboardingEligibility","MWEBRestoreGapUIWithEBCheck.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=d("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(c("JSResourceForInteraction")("MWEBOnboardingGapUI.react").__setRef("MWMessageRowMissingMessagesIndicator.react")),l=(i||(i=d("I64"))).of_int32(5e3);function a(a){var b=d("react-compiler-runtime").c(3),e=a.entryPoint,f=a.isSecureMessage,g=a.lastEbMessageTime,h=a.message,n=a.nextMessage;a=a.prevMessage;if(g==null){var o=f&&a!=null&&!(i||(i=d("I64"))).equal(a==null?void 0:a.threadKey,h.threadKey);f=f&&a==null;if(o||f){b[0]!==e?(a=k!=null&&j.jsx(c("MWV2MessageRowSimple.react"),{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(k,{fallback:null,props:{entryPoint:e}})})}),b[0]=e,b[1]=a):a=b[1];return a}}else if((i||(i=d("I64"))).gt((i||(i=d("I64"))).sub(g,h.timestampMs),l)&&(n==null||(i||(i=d("I64"))).lt(g,n.timestampMs))){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(o=c("MWEBRestoreGapUIWithEBCheck.react")!=null&&j.jsx(c("MWV2MessageRowSimple.react"),{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(c("CometErrorBoundary.react"),{fallback:m,children:j.jsx(c("MWEBRestoreGapUIWithEBCheck.react"),{})})})}),b[2]=o):o=b[2];return o}return null}function m(){return null}g["default"]=a}),98);
__d("MWChatMessageUnreadIndicator.react",["fbt","MDSRow.react","MDSRowItem.react","MWXText.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={color:{color:"x186z157",$$css:!0},line:{backgroundColor:"x1m026b5",flexGrow:"x1iyjqo2",height:"xjm9jq1",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"__JHASH__dAK4xN4bf5e__JHASH__"),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:j.jsx(j.Fragment,{})}),a[1]=e):e=a[1];var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta4",children:j.jsx(d("react-strict-dom").html.div,{style:k.color,children:b})})}),a[2]=f):f=a[2];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs(c("MDSRow.react"),{"aria-label":b,paddingVertical:12,spacingVertical:0,children:[e,f,j.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:j.jsx(j.Fragment,{})})]}),a[3]=b):b=a[3];return b}g["default"]=a}),226);
__d("MWMessageRowUnreadMessagesIndicator.react",["MWChatMessageUnreadIndicator.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.shouldRenderUnreadIndicator;var e;b[0]!==a?(e=a===!0?i.jsx(c("MWV2MessageRowSimple.react"),{children:i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:i.jsx(c("MWChatMessageUnreadIndicator.react"),{})})}):null,b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("useMWMessageRowAddInteractionTracingMetadata",["I64","InteractionTracingMetrics","LSBitFlag","LSIntEnum","cr:4391","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useEffect;function a(a,e){var f=d("react-compiler-runtime").c(5),g;f[0]!==a.displayedContentTypes?(g=(i||(i=d("I64"))).to_string(a.displayedContentTypes),f[0]=a.displayedContentTypes,f[1]=g):g=f[1];b("cr:4391")("displayed_content_types",g);b("cr:4391")("row_index_from_bottom",String(e));f[2]!==a.displayedContentTypes?(g=function(){var b=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1),a.displayedContentTypes);b&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(u);b=d("LSBitFlag").has(j.ofNumber(2),a.displayedContentTypes);b&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(t);var e=d("LSBitFlag").has(j.ofNumber(4),a.displayedContentTypes);e&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(s);var f=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(8),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(2048),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(536870912),a.displayedContentTypes);f&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(r);f=d("LSBitFlag").has(j.ofNumber(32),a.displayedContentTypes);f&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(q);f=d("LSBitFlag").has(j.ofNumber(64),a.displayedContentTypes);f&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(p);var g=d("LSBitFlag").has(j.ofNumber(512),a.displayedContentTypes);g&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(o);g=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(4096),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(134217728),a.displayedContentTypes);g&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(n);var h=d("LSBitFlag").has(j.ofNumber(16384),a.displayedContentTypes);h&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(m);(b||e||f||g||h)&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(l)},e=[a.displayedContentTypes],f[2]=a.displayedContentTypes,f[3]=g,f[4]=e):(g=f[3],e=f[4]);k(g,e)}function l(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_media",!0)}function m(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_gif",!0)}function n(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_sticker",!0)}function o(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_story_reply",!0)}function p(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_file_attachment",!0)}function q(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_admin",!0)}function r(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_xma",!0)}function s(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_audio_clip",!0)}function t(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_media_preview",!0)}function u(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_text",!0)}g["default"]=a}),98);
__d("useNextNonAdminMessage",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=10;function a(a,b){var e=d("react-compiler-runtime").c(6),g=(h||(h=c("useReStore")))(),k=(b==null?void 0:b.isAdminMessage)===!0,l,m;e[0]!==g||e[1]!==k||e[2]!==a.primarySortKey||e[3]!==a.threadKey?(l=function(){return k?d("ReQL").fromTableAscending(g.tables.messages.index("messageDisplayOrder"),["isAdminMessage","timestampMs","senderId"]).getKeyRange(a.threadKey).bounds({gt:d("ReQL").key(a.primarySortKey)}).take(i).filter(j):d("ReQL").empty()},m=[g,k,a.primarySortKey,a.threadKey],e[0]=g,e[1]=k,e[2]=a.primarySortKey,e[3]=a.threadKey,e[4]=l,e[5]=m):(l=e[4],m=e[5]);e=d("ReQLSuspense").useFirst(l,m,f.id+":49");return k?e:b}function j(a){return!a.isAdminMessage}g["default"]=a}),98);
__d("MWMessageRow.react",["BaseView.react","CometErrorBoundary.react","CometPageletWithDiv.react","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MNLSXMALayoutType","MWCMThreadTypes.react","MWGroupBlockingProtectionUtils","MWMessageEditContext.react","MWMessageListAttachmentContainer.react","MWMessageListDisplayContext.react","MWMessageRowAdminMessage.react","MWMessageRowBody.react","MWMessageRowFooter.react","MWMessageRowHeader.react","MWMessageRowMissingMessagesIndicator.react","MWMessageRowUnreadMessagesIndicator.react","MWPActor.react","MWPAttachmentDataContext","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageParsingUtils","MWPMessageRowCalculateStatus.react","MWPThreadCapabilitiesContext","MWShowMessagePromptPopoverContext.react","MWSupportTranslationsContext.react","MWThreadViewMediaRenderQpl","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","WAGetPlatformFromStanzaId","WAStanzaUtils","gkx","mwCMIsAnyCMThread","mwpMessageIsReply","react","react-compiler-runtime","useMWMessageRowAddInteractionTracingMetadata","useMWMessageRowTheme","useMWPEditMessageDeemphasizer","useNextNonAdminMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;var l=e.memo,m=e.startTransition,n=e.useCallback,o=e.useEffect,p=e.useId,q=e.useState,r={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingLeft:null,paddingRight:null,paddingTop:"x1nn3v0j",$$css:!0}},s=k.memo(c("MWPMessageRowCalculateStatus.react"));function t(a){var b=d("react-compiler-runtime").c(10),c,e,f;b[0]!==a?(c=a.message,e=a.nextMessage,f=babelHelpers.objectWithoutPropertiesLoose(a,["message","nextMessage"]),b[0]=a,b[1]=c,b[2]=e,b[3]=f):(c=b[1],e=b[2],f=b[3]);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=["senderId","isUnsent","threadKey","primarySortKey","timestampMs","messageId","isAdminMessage","sendStatusV2","groupId","groupIndex","groupSize","displayedContentTypes"],b[4]=a):a=b[4];c=d("Int64Hooks").usePickInt64(c,a);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=["senderId","timestampMs","isAdminMessage"],b[5]=a):a=b[5];e=d("Int64Hooks").usePickInt64(e,a);b[6]!==f||b[7]!==c||b[8]!==e?(a=k.jsx(s,babelHelpers["extends"]({message:c,nextMessage:e},f)),b[6]=f,b[7]=c,b[8]=e,b[9]=a):a=b[9];return a}function u(a){var b=a.containerThreadKey,e=a.domElementRef,f=a.entryPoint,g=a.hasMessageEmphasisRing,h=a.isMediaGroupLastMessage,l=a.isModal,s=a.isSecureMessage,u=a.lastEbMessageTime,w=a.message,x=a.navigateToRouteForMediaViewer,y=a.nextMessage,z=a.onRenderError,A=a.prevMessage,B=a.renderAttachment,C=a.shouldRenderUnreadIndicator,D=a.stopHoveringRef,E=a.threadType;a=a.useReactionsV2;var F=a===void 0?!1:a;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var G=a.isPinnedMessageList;a=a.isStandardMessageList;var H=d("MWPActor.react").useActor(),I=G||d("MWPMessageParsingUtils").isStartOfGroup(w,A),J=G||d("MWPMessageParsingUtils").isEndOfGroup(w,y),K=c("mwCMIsAnyCMThread")(E),L=d("MWCMThreadTypes.react").isBroadcastThread(E),M=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(E),N=d("LSMessagingThreadTypeUtil").isGroup(E),O=d("LSMessagingThreadTypeUtil").isArmadilloSecure(E),aa=c("mwpMessageIsReply")(w),P=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();P=P.seenCountV2Enabled;P=!w.isUnsent&&P;var ba=P&&!M&&!d("LSMessagingThreadTypeUtil").isCMSubthread(E)&&!d("MWCMThreadTypes.react").isStandardCMThread(E),ca=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(w.senderId,w.threadKey),Q=!G&&(i||(i=d("I64"))).equal(w.senderId,H);P=c("useNextNonAdminMessage")(w,y);var da=P==null||h===!0,ea=!Q;G=q(!1);var R=G[0],S=G[1];H=q(!1);var fa=H[0],T=H[1],U=n(function(a){return m(function(){return T(a)})},[T,m]),V=n(function(a){return m(function(){return S(a)})},[S,m]),W=p();G=q(!1);var X=G[0],ga=G[1],ha=c("useMWMessageRowTheme")(),Y;H=d("MWPAttachmentDataContext").useMWPGetAttachments(w);G=H.length>0&&H[0].xmaLayoutType!=null&&(i||(i=d("I64"))).equal(H[0].xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA));H=H.length>0&&H[0].xmaLayoutType!=null&&(i||(i=d("I64"))).equal(H[0].xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SHARED_STACK));var ia=c("useMWPEditMessageDeemphasizer")(),Z=d("MWThreadViewMediaRenderQpl").useMediaRenderQpl(w,E),$=Z.mediaRenderQpl;Z=Z.messageRowRef;o(function(){$==null?void 0:$.addPoint("render-message-row"),s&&($==null?void 0:$.addAnnotations({string:{e2ee_platform:d("WAGetPlatformFromStanzaId").getPlatformFromStanzaId(d("WAStanzaUtils").toStanzaId(w.offlineThreadingId))}}))},[s,$,w.offlineThreadingId]);w.isAdminMessage?Y=k.jsx(c("MWMessageRowAdminMessage.react"),{domElementRef:e,isDialogOpened:X,isFirstMessageInGroup:I,isFocused:R,isModal:l,message:w,messageDomID:W,nextMessage:y,outgoing:Q,prevMessage:A,setFocusedInTransition:V,setHoveredInTransition:U,setIsDialogOpened:ga,stopHoveringRef:D}):G||H?Y=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsx(c("BaseView.react"),{xstyle:ia,children:k.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:$,message:w,outgoing:Q,xstyle:r.adminMessageAttachment})})})}):Y=k.jsx(d("MWShowMessagePromptPopoverContext.react").MWShowMessagePromptPopoverContextProvider,{children:k.jsx(d("MWMessageEditContext.react").MWMessageEditContextProvider,{children:k.jsx(d("MWSupportTranslationsContext.react").MWSupportTranslationsContextProvider,{children:k.jsxs(k.Fragment,{children:[k.jsx(c("MWMessageRowUnreadMessagesIndicator.react"),{shouldRenderUnreadIndicator:C}),I&&a?k.jsx(c("MWV2MessageStartOfGroupContent.react"),{message:w,prevMessage:A}):null,k.jsx(t,{isBroadcastChannel:M,isBroadcastThread:L,isLargeGroup:!1,isSecureGroupThread:O&&N,isSecureThread:O,message:w,nextMessage:P,children:function(a){return k.jsx(v,{containerThreadKey:b,domElementRef:e,focused:R,hasClickState:ba,hasMessageEmphasisRing:g,hovered:fa,incoming:ea,isBroadcastThread:L,isCMThread:K,isDialogOpened:X,isFirstMessageInGroup:I,isFromBlockedContact:ca,isGroupThread:N,isLastMessage:da,isLastMessageInGroup:J,isMediaGroupLastMessage:h,isModal:l,isSecureMessage:s,mediaRenderQpl:$,message:w,messageDomID:W,navigateToRouteForMediaViewer:x,nextMessage:y,onRenderError:z,outgoing:Q,prevMessage:A,renderAttachment:B,setFocusedInTransition:V,setHoveredInTransition:U,setIsDialogOpened:ga,shouldUseReactionsV2:F,status:a,stopHoveringRef:D,theme:ha,threadType:E})}})]})})})});return k.jsx("div",{ref:Z,children:k.jsxs(c("CometErrorBoundary.react"),{fallback:function(){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:Q,isReply:aa})},children:[Y,O&&k.jsx(c("MWMessageRowMissingMessagesIndicator.react"),{entryPoint:f,isSecureMessage:s,lastEbMessageTime:u,message:w,nextMessage:y,prevMessage:A})]})})}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(56),e=a.containerThreadKey,f=a.domElementRef,g=a.focused,h=a.hasClickState,i=a.hasMessageEmphasisRing,j=a.hovered,l=a.incoming,m=a.isBroadcastThread,n=a.isCMThread,o=a.isDialogOpened,p=a.isFirstMessageInGroup,q=a.isFromBlockedContact,r=a.isGroupThread,s=a.isLastMessage,t=a.isLastMessageInGroup,u=a.isMediaGroupLastMessage,v=a.isModal,w=a.isSecureMessage,x=a.mediaRenderQpl,y=a.message,z=a.messageDomID,A=a.navigateToRouteForMediaViewer,B=a.nextMessage,C=a.onRenderError,D=a.outgoing,E=a.prevMessage,F=a.renderAttachment,G=a.setFocusedInTransition,H=a.setHoveredInTransition,I=a.setIsDialogOpened,J=a.shouldUseReactionsV2,K=a.status,L=a.stopHoveringRef,M=a.theme;a=a.threadType;var N;b[0]!==n||b[1]!==p||b[2]!==r||b[3]!==t||b[4]!==y||b[5]!==D||b[6]!==a?(N=k.jsx(c("MWMessageRowHeader.react"),{isCMThread:n,isFirstMessageInGroup:p,isGroupThread:r,isLastMessageInGroup:t,message:y,outgoing:D,threadType:a}),b[0]=n,b[1]=p,b[2]=r,b[3]=t,b[4]=y,b[5]=D,b[6]=a,b[7]=N):N=b[7];b[8]!==e||b[9]!==g||b[10]!==h||b[11]!==i||b[12]!==j||b[13]!==l||b[14]!==o||b[15]!==p||b[16]!==r||b[17]!==v||b[18]!==w||b[19]!==x||b[20]!==y||b[21]!==A||b[22]!==B||b[23]!==C||b[24]!==E||b[25]!==F||b[26]!==J||b[27]!==a?(n=k.jsx(c("MWMessageRowBody.react"),{containerThreadKey:e,focused:g,hasClickState:h,hasMessageEmphasisRing:i,hovered:j,incoming:l,isDialogOpened:o,isFirstMessageInGroup:p,isGroupThread:r,isModal:v,isSecureMessage:w,mediaRenderQpl:x,message:y,navigateToRouteForMediaViewer:A,nextMessage:B,onRenderError:C,prevMessage:E,renderAttachment:F,shouldUseReactionsV2:J,threadType:a}),b[8]=e,b[9]=g,b[10]=h,b[11]=i,b[12]=j,b[13]=l,b[14]=o,b[15]=p,b[16]=r,b[17]=v,b[18]=w,b[19]=x,b[20]=y,b[21]=A,b[22]=B,b[23]=C,b[24]=E,b[25]=F,b[26]=J,b[27]=a,b[28]=n):n=b[28];t=u===!0?void 0:B;b[29]!==h||b[30]!==l||b[31]!==m||b[32]!==q||b[33]!==s||b[34]!==w||b[35]!==y||b[36]!==D||b[37]!==K||b[38]!==t?(e=k.jsx(c("MWMessageRowFooter.react"),{hasClickState:h,incoming:l,isBroadcastThread:m,isFromBlockedContact:q,isLastMessage:s,isSecureMessage:w,message:y,nextMessage:t,outgoing:D,status:K}),b[29]=h,b[30]=l,b[31]=m,b[32]=q,b[33]=s,b[34]=w,b[35]=y,b[36]=D,b[37]=K,b[38]=t,b[39]=e):e=b[39];b[40]!==f||b[41]!==g||b[42]!==o||b[43]!==v||b[44]!==y||b[45]!==z||b[46]!==D||b[47]!==G||b[48]!==H||b[49]!==I||b[50]!==L||b[51]!==N||b[52]!==n||b[53]!==e||b[54]!==M?(i=k.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:f,isDialogOpened:o,isFocused:g,isModal:v,message:y,messageDomID:z,outgoing:D,setFocused:G,setHovered:H,setIsDialogOpened:I,stopHoveringRef:L,theme:M,children:[N,n,e]}),b[40]=f,b[41]=g,b[42]=o,b[43]=v,b[44]=y,b[45]=z,b[46]=D,b[47]=G,b[48]=H,b[49]=I,b[50]=L,b[51]=N,b[52]=n,b[53]=e,b[54]=M,b[55]=i):i=b[55];return i}var v=l(a),w=l(function(a){if(a.isSecureMessage)return k.jsx(u,babelHelpers["extends"]({},a));else return k.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:a.message,children:k.jsx(u,babelHelpers["extends"]({},a))})});function x(a){var b=d("react-compiler-runtime").c(5),e,f;b[0]!==a?(f=a.rowIndexFromBottom,e=babelHelpers.objectWithoutPropertiesLoose(a,["rowIndexFromBottom"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);c("useMWMessageRowAddInteractionTracingMetadata")(e.message,f);b[3]!==e?(a=k.jsx(w,babelHelpers["extends"]({},e)),b[3]=e,b[4]=a):a=b[4];return a}function b(a){var b=d("react-compiler-runtime").c(8),e,f;b[0]!==a?(f=a.rowIndexFromBottom,e=babelHelpers.objectWithoutPropertiesLoose(a,["rowIndexFromBottom"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);if(c("gkx")("7810")){b[3]!==e||b[4]!==f?(a=k.jsx(d("CometPageletWithDiv.react").Div,{name:"MWMessageRow",children:k.jsx(x,babelHelpers["extends"]({},e,{rowIndexFromBottom:f}))}),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}else{b[6]!==e?(f=k.jsx(w,babelHelpers["extends"]({},e)),b[6]=e,b[7]=f):f=b[7];return f}}g.MWMessageRow=b}),98);
__d("MAWMessageListRow.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWMessageAssociatedDataContext","MAWMsg","MAWSecureAttachmentRenderer.react","MWMessageRow.react","MWPAttachmentDataContext","MWPVisibleMessageContext.react","MWV2MessageActionsVisibility.react","isMWNewSearchUXEnabled","qex","react","react-compiler-runtime","shouldUseImageGrouping","useGetMediaGroupInformation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=d("react-compiler-runtime").c(53),e=a.domElementRef,f=a.entryPoint,g=a.lastEbMessageTime,h=a.messageAssociatedData,l=a.modal,m=a.row,n=a.rowIndexFromBottom,o=a.thread;a=d("MWV2MessageActionsVisibility.react").useStopHoveringRef();var p;b[0]!==o.threadType?(p=d("LSMessagingThreadTypeUtil").isArmadilloSecure(o.threadType),b[0]=o.threadType,b[1]=p):p=b[1];p=p;var q=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();q=q.visibleMessage;var r=m.message,s;b[2]!==p||b[3]!==r||b[4]!==o.threadKey?(s=p?(i||(i=d("I64"))).equal(o.threadKey,r.threadKey):!1,b[2]=p,b[3]=r,b[4]=o.threadKey,b[5]=s):s=b[5];p=s;s=!1;if(q!=null){var t=q.messageId;bb0:switch(q.source){case"Reply":case"Pinned":case"Bump":s=t===r.messageId;break bb0;case"Search":b[6]!==r.messageId||b[7]!==t?(q=t===r.messageId&&c("isMWNewSearchUXEnabled")(),b[6]=r.messageId,b[7]=t,b[8]=q):q=b[8];s=q;break bb0;default:s=!1}}t=d("MAWSecureAttachmentRenderer.react").useRenderAttachment(s);var u;b[9]!==o.threadType?(q=function(){return o.threadType},u=[o.threadType],b[9]=o.threadType,b[10]=q,b[11]=u):(q=b[10],u=b[11]);q=d("Int64Hooks").useMemoInt64(q,u);u=c("useGetMediaGroupInformation")(r,p);if(u!=null&&u.groupId!=null&&u.isFirstMediaMessageInGroup===!1)return null;u=u==null?void 0:u.isMediaGroupLastMessage;l=l===r.messageId;var v;b[12]!==e||b[13]!==f||b[14]!==s||b[15]!==p||b[16]!==g||b[17]!==r||b[18]!==t||b[19]!==m.nextMessage||b[20]!==m.prevMessage||b[21]!==n||b[22]!==a||b[23]!==u||b[24]!==l||b[25]!==o.threadKey||b[26]!==q?(v={containerThreadKey:o.threadKey,domElementRef:e,entryPoint:f,hasMessageEmphasisRing:s,isMediaGroupLastMessage:u,isModal:l,isSecureMessage:p,lastEbMessageTime:g,message:r,nextMessage:m.nextMessage,prevMessage:m.prevMessage,renderAttachment:t,rowIndexFromBottom:n,stopHoveringRef:a,threadType:q},b[12]=e,b[13]=f,b[14]=s,b[15]=p,b[16]=g,b[17]=r,b[18]=t,b[19]=m.nextMessage,b[20]=m.prevMessage,b[21]=n,b[22]=a,b[23]=u,b[24]=l,b[25]=o.threadKey,b[26]=q,b[27]=v):v=b[27];e=v;if(!((f=c("qex")._("1599"))!=null?f:!1)){b[28]!==e?(s=j.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},e)),b[28]=e,b[29]=s):s=b[29];b[30]!==p||b[31]!==r||b[32]!==s?(g=j.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProvider,{isSecureMessage:p,message:r,children:s}),b[30]=p,b[31]=r,b[32]=s,b[33]=g):g=b[33];return g}if(h!=null){t=h.reactions;m=h.attachmentData;b[34]!==e?(n=j.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},e)),b[34]=e,b[35]=n):n=b[35];b[36]!==t||b[37]!==n?(a=j.jsx(d("MAWMessageAssociatedDataContext").MAWMessageAssociatedDataContextProvider,{reactions:t,children:n}),b[36]=t,b[37]=n,b[38]=a):a=b[38];u=a;if(k(r)){b[39]!==m||b[40]!==u?(l=j.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderMAW,{attachmentData:m,children:u}),b[39]=m,b[40]=u,b[41]=l):l=b[41];return l}else{b[42]!==u||b[43]!==r?(q=j.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:r,children:u}),b[42]=u,b[43]=r,b[44]=q):q=b[44];return q}}else{b[45]!==e?(v=j.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},e)),b[45]=e,b[46]=v):v=b[46];b[47]!==r||b[48]!==v?(f=j.jsx(d("MAWMessageAssociatedDataContext").MAWMessageAssociatedDataContextFetchReactionsLSProvider,{message:r,children:v}),b[47]=r,b[48]=v,b[49]=f):f=b[49];b[50]!==r||b[51]!==f?(p=j.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:r,children:f}),b[50]=r,b[51]=f,b[52]=p):p=b[52];return p}}function k(a){var b;if(d("MAWMsg").isMediaMsg(a)&&!((b=c("qex")._("60"))!=null?b:!1))return!1;if(d("MAWMsg").isXMAMsg(a)&&!((b=c("qex")._("1595"))!=null?b:!1))return!1;if(d("MAWMsg").isReceiverFetchXMAMsg(a))return!1;if(!d("MAWMsg").isMediaMsg(a)&&!d("MAWMsg").isXMAMsg(a))return!1;b=c("shouldUseImageGrouping")(a,!0);return b?!1:!0}g["default"]=a}),98);
__d("MW3PBotCommandsPill.react",["fbt","JSResourceForInteraction","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MW3PBotCommandsDialog.react").__setRef("MW3PBotCommandsPill.react"),m={commandsPill:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",paddingStart:"x1sln4lm",paddingEnd:"x1iji9kk",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(17),e=a.threadKey,g=(i||(i=c("useReStore")))();b[0]!==g.tables.custom_thread_commands||b[1]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.custom_thread_commands.index("rank")).getKeyRange(e).filter(n)},b[0]=g.tables.custom_thread_commands,b[1]=e,b[2]=a):a=b[2];var j;b[3]!==g||b[4]!==e?(j=[g,e],b[3]=g,b[4]=e,b[5]=j):j=b[5];var o=d("ReQLSuspense").useArray(a,j,f.id+":46");a=c("useMWXLazyDialog")(l);var p=a[0];if(o.length===0)return null;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x78zum5 xl56j7k xyamay9 x1l90r2v"},b[6]=j):j=b[6];b[7]!==o||b[8]!==p?(a=function(){return p({commands:o})},b[7]=o,b[8]=p,b[9]=a):a=b[9];var q;b[10]!==o.length?(q=h._(/*BTDS*/"__JHASH__ey53XOJ4uK9__JHASH__",[h._plural(o.length,"number")]),b[10]=o.length,b[11]=q):q=b[11];var r;b[12]!==q?(r=k.jsx(c("MWXText.react"),{align:"center",type:"headline4",children:q}),b[12]=q,b[13]=r):r=b[13];b[14]!==a||b[15]!==r?(q=k.jsx("div",babelHelpers["extends"]({},j,{children:k.jsx(c("MWXPressable.react"),{onPress:a,overlayRadius:"inherit",xstyle:m.commandsPill,children:r})})),b[14]=a,b[15]=r,b[16]=q):q=b[16];return q}function n(a){return!a.isOpenPersistentMenu}g["default"]=a}),226);
__d("MWContextBannerChannelActivationPrompt.react",["fbt","ix","BroadcastChannelQPL","MWXImage.react","MWXTextPairing.react","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));j.useCallback;function a(){var a=d("react-compiler-runtime").c(6),b=l;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={onImpressionStart:b},a[0]=b):b=a[0];b=c("useSinglePartialViewImpression")(b);var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x78zum5 xdt5ytf xl56j7k xkrivgy x4ii5y1 x1gryazu x1pdq3kb xw5ewwj x2b8uid"},a[1]=e):e=a[1];var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(c("MWXImage.react"),{src:i("196163"),xstyle:m.image}),a[2]=f):f=a[2];var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("MWXTextPairing.react"),{body:h._(/*BTDS*/"__JHASH__2R6ky2hU7sc__JHASH__"),headline:h._(/*BTDS*/"__JHASH__mjI7Tnaq_t2__JHASH__"),level:4,testid:void 0,textAlign:"center"}),a[3]=g):g=a[3];a[4]!==b?(e=k.jsxs("div",babelHelpers["extends"]({},e,{ref:b,children:[f,g]})),a[4]=b,a[5]=e):e=a[5];return e}function l(){var a;(a=d("BroadcastChannelQPL")).logCreateChannelNavigationToThreadEnd();a.logCCTVJoinNavigationToThreadEnd();a.logCreateChannelToThreadViewQPLSuccess();a.logCCTVJoinSuccess()}var m={image:{marginBottom:"x1hq5gj4",$$css:!0}};g["default"]=a}),226);
__d("MWContextBannerEndToEndEncryptedBanner.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometRow.react","CometRowItem.react","FDSIcon.react","FDSTextWithIcon.react","MWXLink.react","MWXText.react","XMessengerHelpCenterContentControllerRouteBuilder","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={banner:{backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0}};function a(){var a=d("react-compiler-runtime").c(3);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var b;b=(b=c("XMessengerHelpCenterContentControllerRouteBuilder").buildUri({cms_id:"786613221989782"}))==null?void 0:b.toString();a[0]=b}else b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("CometColumnItem.react"),{expanding:!0,children:k.jsx(c("MWXText.react"),{align:"center",type:"bodyLink4",children:k.jsx(c("FDSTextWithIcon.react"),{iconBefore:k.jsx(c("FDSIcon.react"),{icon:d("fbicon")._(i("1596805"),10),size:10}),children:h._(/*BTDS*/"__JHASH__Kow3rs5K3HC__JHASH__")})})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("CometRow.react"),{align:"center",paddingHorizontal:0,paddingTop:12,children:k.jsx(c("CometRowItem.react"),{children:k.jsxs(c("CometColumn.react"),{spacing:8,verticalAlign:"center",xstyle:l.banner,children:[e,k.jsx(c("CometColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:h._(/*BTDS*/"__JHASH__yxX1nJvmnv5__JHASH__",[h._implicitParam("=m1",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:h._(/*BTDS*/"__JHASH__bPYVQTNBjFa__JHASH__",[h._implicitParam("=m1",k.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:h._(/*BTDS*/"__JHASH__vo_wtcDrjQ6__JHASH__")}))])}))])})})]})})}),a[2]=e):e=a[2];return e}g["default"]=a}),226);
__d("MWContextBannerNullstateDescription.react",["I64","LSIntEnum","LSNullstateDescriptionType","MWXText.react","RecoverableViolation.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.kind;a=a.text;if((i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).zero)||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").SUBTEXT))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_DEFAULT))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_SUBTEXT))){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"xsag5q8"},b[0]=e):e=b[0];b[1]!==a?(e=k.jsx("div",babelHelpers["extends"]({},e,{children:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a})})),b[1]=a,b[2]=e):e=b[2];return e}else{b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"}),b[3]=a):a=b[3];return a}}g["default"]=a}),98);
__d("MWPWebWorkerDisconnectedBanner.react",["ix","CometImageFromIXValue.react","FDSContextualMessage.react","MAWIssueNewUserVisibleErrors","MWXButtonGroup.react","asyncToGeneratorRuntime","fbs","promiseDone","react","react-compiler-runtime","requireDeferred","useMAWGetUserVisibleErrors"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useState,l=c("requireDeferred")("MAWEncryptionErrorHandler").__setRef("MWPWebWorkerDisconnectedBanner.react");function a(){var a=d("react-compiler-runtime").c(26),e=c("useMAWGetUserVisibleErrors")(),f=e[0],g=e[1];e=k(!1);var i=e[0],n=e[1];e=k(!1);var o=e[0],p=e[1];a[0]!==(f==null?void 0:f.errorExtraData)||a[1]!==g?(e=function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){n(!0);if((f==null?void 0:f.errorExtraData)==="MAWEARKeychainDecryptionError"){var a=(yield l.load());yield a.handleEARKeychainError()}return g()})(),m,function(){n(!1)})},a[0]=f==null?void 0:f.errorExtraData,a[1]=g,a[2]=e):e=a[2];e=e;var q;a[3]!==g?(q=function(){c("promiseDone")(g(),function(){p(!0)})},a[3]=g,a[4]=q):q=a[4];q=q;var r;a[5]!==(f==null?void 0:f.errorBodyText)?(r=d("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(f==null?void 0:f.errorBodyText),a[5]=f==null?void 0:f.errorBodyText,a[6]=r):r=a[6];r=r;var s;a[7]!==(f==null?void 0:f.errorTitleText)?(s=d("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(f==null?void 0:f.errorTitleText),a[7]=f==null?void 0:f.errorTitleText,a[8]=s):s=a[8];s=s;if(f&&r!=null&&s!=null&&c("FDSContextualMessage.react")&&!o){a[9]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"xjf5wm9 x17qophe xdj266r x11i5rnm xat24cr x1mh8g0r x10l6tqk x13vifvy xh8yej3"},a[9]=o):o=a[9];var t;a[10]===Symbol["for"]("react.memo_cache_sentinel")?(t=c("fbs")._(/*BTDS*/"__JHASH__PnVpnKg9Gg___JHASH__"),a[10]=t):t=a[10];a[11]!==i||a[12]!==e?(t=j.jsx(c("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{disabled:i,label:t,loading:i,onPress:e,testid:"mw-encrypted-backups-in-thread-web-worker-failure-reset"}}),a[11]=i,a[12]=e,a[13]=t):t=a[13];a[14]!==s?(i=j.jsx(j.Fragment,{children:s}),a[14]=s,a[15]=i):i=a[15];a[16]===Symbol["for"]("react.memo_cache_sentinel")?(e=h("1351648"),a[16]=e):e=a[16];a[17]!==s?(e=j.jsx(c("CometImageFromIXValue.react"),{alt:s,source:e}),a[17]=s,a[18]=e):e=a[18];a[19]!==r||a[20]!==s||a[21]!==q||a[22]!==t||a[23]!==i||a[24]!==e?(o=j.jsx("div",babelHelpers["extends"]({},o,{children:j.jsx(c("FDSContextualMessage.react"),{addOnPrimary:t,body:r,headline:i,headlineAriaLabel:s,icon:e,level:4,onClose:q})})),a[19]=r,a[20]=s,a[21]=q,a[22]=t,a[23]=i,a[24]=e,a[25]=o):o=a[25];return o}}function m(){window.location.reload(!0)}g["default"]=a}),226);
__d("MWMessageElementRefList",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=new Map(),b=new Map(),c={contents:void 0};return{get:function(b,d){var e=a.get(b);if(e==null){c.contents=[b,d];return}return d(e)},set:function(d){var e=b.get(d);if(e!=null)return e;e=function(b){if(b==null){a["delete"](d);return}a.set(d,b);if(c.contents!=null&&c.contents[0]===d){var e=c.contents;e[0];e=e[1];e(b);c.contents=void 0;return}};b.set(d,e);return e}}}f["default"]=a}),66);
__d("useMWCurrentVisibleMessage",["I64","Int64Hooks","LSFactory","LSMessagePointQueryStoredProcedure","MWMessageElementRefList","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef,n=b.useState;function a(a,b){var e=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=e.visibleMessage,j=m(c("MWMessageElementRefList")()),o=a==null?void 0:a.threadKey,p=a==null?void 0:a.threadType,q=m(),r=(h||(h=c("useReStore")))(),s=d("ReQLSuspense").useFirst(function(){if(o==null)return d("ReQL").empty();if(g==null)return d("ReQL").fromTableDescending(r.tables.messages_ranges_v2__generated).getKeyRange(o);var a=g.timestamp;return d("ReQL").fromTableDescending(r.tables.messages_ranges_v2__generated).getKeyRange(o).bounds({lte:[a]}).filter(function(b){var c=b.maxTimestampMs;b=b.minTimestampMs;return(i||(i=d("I64"))).ge(a,b)&&(i||(i=d("I64"))).le(a,c)})},[o,g,r],f.id+":59");e=n(function(){return s});var t=e[0],u=e[1];l(function(){q.current=void 0,g==null&&(b==null?void 0:b.current)!=null&&b.current.scrollToBottom()},[b,g]);var v=k(function(a){var d=b==null?void 0:b.current;if(d!=null){c("setTimeout")(function(){return d.scrollElementIntoViewIfNeeded(a)},0);return}},[b]),w=k(function(a){if(a!==q.current)return j.current.get(a,function(b){v(b),q.current=a})},[v]);l(function(){s!=null?u(s):g==null&&u(function(){})},[g,s,u]);l(function(){g!=null&&t!=null&&g.messageId!=null&&w(g.messageId)},[r,g,t,w]);d("Int64Hooks").useEffectInt64(function(){if(a!=null&&s==null&&g!=null&&g.messageId!=null){var b,e=g.messageId;b=(i||(i=d("I64"))).to_int32((b=p)!=null?b:(i||(i=d("I64"))).neg_one);if(b!==-1&&(b===15||b===16))return;c("promiseDone")(r.runInTransaction(function(b){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(b),{messageId:e,threadKey:a.threadKey,threadType:a.threadType})},"readwrite",void 0,void 0,f.id+":146"))}},[r,g,s,o,p,a]);return{messageElementRefs:j,messageRange:t,visibleMessage:(e=g)!=null?e:void 0}}g["default"]=a}),98);
__d("useMWLSIsViewerThreadAdminUsingThreadKey",["MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(8),e=d("MWPActor.react").useActor(),g=(h||(h=c("useReStore")))(),i;b[0]!==e||b[1]!==g.tables.participants||b[2]!==a?(i=function(){return d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(a,e)},b[0]=e,b[1]=g.tables.participants,b[2]=a,b[3]=i):i=b[3];var j;b[4]!==e||b[5]!==g||b[6]!==a?(j=[g,e,a],b[4]=e,b[5]=g,b[6]=a,b[7]=j):j=b[7];b=d("ReQLSuspense").useFirst(i,j,f.id+":24");return(i=b==null?void 0:b.isAdmin)!=null?i:!1}g["default"]=a}),98);
__d("useMWV2ConversationScrollerRefs",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.useRef;function a(){var a=d("react-compiler-runtime").c(2),b=i(null),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={type:"Bottom"},a[0]=c):c=a[0];c=i(c);a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b={scrollerRef:b,scrollPositionRef:c},a[1]=b):b=a[1];c=b;return c}g["default"]=a}),98);
__d("MWThreadUtilHooks",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThread","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useMWCurrentVisibleMessage","useMWLSIsViewerThreadAdminUsingThreadKey","useMWV2ConversationScrollerRefs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=d("react-compiler-runtime").c(12),e=c("useMWV2ConversationScrollerRefs")();e=c("useMWCurrentVisibleMessage")(a,e.scrollerRef);e=e.messageRange;e=(e=e==null?void 0:e.isLoadingBefore)!=null?e:!1;var g=a.threadKey,i=(h||(h=c("useReStore")))();b[0]!==i.tables.messages||b[1]!==g?(a=function(){return d("ReQL").fromTableDescending(i.tables.messages).getKeyRange(g).filter(j)},b[0]=i.tables.messages,b[1]=g,b[2]=a):a=b[2];var k;b[3]!==i||b[4]!==g?(k=[i,g],b[3]=i,b[4]=g,b[5]=k):k=b[5];a=d("ReQLSuspense").useFirst(a,k,f.id+":37");b[6]!==i.tables.attachments||b[7]!==g?(k=function(){return d("ReQL").fromTableDescending(i.tables.attachments).getKeyRange(g)},b[6]=i.tables.attachments,b[7]=g,b[8]=k):k=b[8];var l;b[9]!==i||b[10]!==g?(l=[i,g],b[9]=i,b[10]=g,b[11]=l):l=b[11];b=d("ReQLSuspense").useFirst(k,l,f.id+":46");k=a!=null||b!=null;return!(k||e)}function j(a){return!a.isAdminMessage}function k(a){var b=d("react-compiler-runtime").c(2),c=i(a);if(!c)return!1;b[0]!==a.threadType?(c=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType),b[0]=a.threadType,b[1]=c):c=b[1];return c}function a(a){var b=d("react-compiler-runtime").c(2),c=i(a);a=d("MWLSThread").useThread(a.threadKey,l);if(!c)return!1;b[0]!==a?(c=d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a),b[0]=a,b[1]=c):c=b[1];return c}function l(a){return a.threadSubtype}function b(a){var b=d("react-compiler-runtime").c(3),e=k(a);a=c("useMWLSIsViewerThreadAdminUsingThreadKey")(a.threadKey);var f;b[0]!==a||b[1]!==e?(f=(d("MWPActor.react").isAPPlus()||d("MWPActor.react").isPromode())&&e&&a,b[0]=a,b[1]=e,b[2]=f):f=b[2];return f}g.useMWIsThreadWithZeroMessage=i;g.useMWIsFBBroadcastChannelWithZeroMessage=k;g.useMWIsIGBroadcastChannelWithZeroMessage=a;g.useMWIsAdminAndFBBroadcastChannelWithZeroMessage=b}),98);
__d("usePageType",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(6),e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.contacts||b[1]!==a?(g=function(){var b;return d("ReQL").fromTableAscending(e.tables.contacts,["pageType"]).getKeyRange((b=a)!=null?b:(h||(h=d("I64"))).zero)},b[0]=e.tables.contacts,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];b=d("ReQLSuspense").useFirst(g,j,f.id+":23");return(b==null?void 0:b.pageType)!=null?b.pageType:void 0}g["default"]=a}),98);
__d("MWContextBanner.react",["fbt","BaseView.react","CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSPageType","LSThreadBitOffset","LSThreadTitle.react","LSVerificationBadge.react","MAWThreadCutover","MW3PBotCommandsPill.react","MWCMThreadTypes.react","MWContextBannerChannelActivationPrompt.react","MWContextBannerEndToEndEncryptedBanner.react","MWContextBannerNullstateDescription.react","MWEditMessageOverlay.react","MWPWebWorkerDisconnectedBanner.react","MWThreadPicture.react","MWThreadUtilHooks","MWXText.react","ReQL","ReQLSuspense","cr:5777","isFeatureLimitEnabled","react","react-compiler-runtime","stylex","useIsReadOnlyFeatureLimitedWithThreadType","useMWPEditMessageDeemphasizer","usePageType","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||d("react"),o={container:{backgroundColor:"x1eb86dx",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x1cnzs8",$$css:!0}};function p(a){var e=d("react-compiler-runtime").c(3),f=a.isBusinessSupport,g=a.isReadOnlyFeatureLimited;a=a.thread;var h=d("MWThreadUtilHooks").useMWIsAdminAndFBBroadcastChannelWithZeroMessage(a);if(g||f)return null;if(d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&(l||(l=d("I64"))).gt(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").SERVER_PARTIAL))&&b("cr:5777")!=null){if(h){e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=n.jsx(c("MWContextBannerChannelActivationPrompt.react"),{}),e[0]=g):g=e[0];return g}e[1]!==a?(f=n.jsx(b("cr:5777"),{thread:a}),e[1]=a,e[2]=f):f=e[2];return f}return null}function a(a){var b=d("react-compiler-runtime").c(68),e=a.includeBaseViewWrapper,g=a.threadKey;a=a.threadType;e=e===void 0?!0:e;var k=c("useIsReadOnlyFeatureLimitedWithThreadType")(a),r=d("MAWThreadCutover").useIsCutoverSecureThread(g),s=d("MAWThreadCutover").useODCutoverEligibleOpenOneToOneThread(g)!=null,t=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a);a=d("MWCMThreadTypes.react").isJoinedCMThread(a);var u=c("useMWPEditMessageDeemphasizer")(),v=(i||(i=c("useReStore")))(),w;b[0]!==v.tables.threads||b[1]!==g?(w=function(){return d("ReQL").fromTableAscending(v.tables.threads,["authorityLevel","isCustomThreadPicture","needsAdminApprovalForNewParticipant","nullstateDescriptionText1","nullstateDescriptionText2","nullstateDescriptionText3","nullstateDescriptionType1","nullstateDescriptionType2","nullstateDescriptionType3","parentThreadKey","threadDescription","threadInviteLink","threadInvitesEnabledV2","threadKey","threadName","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadType","capabilities","capabilities2","capabilities3","capabilities4","capabilities5"]).getKeyRange(g)},b[0]=v.tables.threads,b[1]=g,b[2]=w):w=b[2];var x;b[3]!==v||b[4]!==g?(x=[v,g],b[3]=v,b[4]=g,b[5]=x):x=b[5];w=d("ReQLSuspense").useFirst(w,x,f.id+":124");x=c("usePageType")(w==null?void 0:w.threadKey);if(w==null)return null;var y=d("LSThreadBitOffset").has(47,w);if(y)return null;y=w.nullstateDescriptionText1;var z=w.nullstateDescriptionText2,A=w.nullstateDescriptionText3,B=w.nullstateDescriptionType1,C=w.nullstateDescriptionType2,D=w.nullstateDescriptionType3,E;b[6]!==w.parentThreadKey?(E=(l||(l=d("I64"))).equal(w.parentThreadKey,(m||(m=d("LSIntEnum"))).ofNumber(-18)),b[6]=w.parentThreadKey,b[7]=E):E=b[7];E=E;var F;b[8]!==w.threadType?(F=d("LSMessagingThreadTypeUtil").isArmadilloSecure(w.threadType),b[8]=w.threadType,b[9]=F):F=b[9];F=F;var G;b[10]!==k||b[11]!==F?(G=k&&(!F||c("isFeatureLimitEnabled")()),b[10]=k,b[11]=F,b[12]=G):G=b[12];k=G;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(G={className:"xxymvpz"},b[13]=G):G=b[13];b[14]!==w.threadKey?(G=n.jsx("span",babelHelpers["extends"]({},G,{children:n.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWContextBanner",children:n.jsx(c("LSVerificationBadge.react"),{size:"large",threadKey:w.threadKey})})})),b[14]=w.threadKey,b[15]=G):G=b[15];G=G;var H;b[16]!==w?(H=n.jsx(c("LSThreadTitle.react"),{thread:w,wrapOutput:q}),b[16]=w,b[17]=H):H=b[17];H=H;var I;b[18]!==u?(I=(j||(j=c("stylex"))).props(o.container,u),b[18]=u,b[19]=I):I=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x78zum5 xl56j7k xod5an3"},b[20]=u):u=b[20];b[21]!==w.threadKey?(u=n.jsx("div",babelHelpers["extends"]({},u,{children:n.jsx(c("MWThreadPicture.react"),{badgeSize:14,photoSize:60,threadKey:w.threadKey})})),b[21]=w.threadKey,b[22]=u):u=b[22];var J;b[23]===Symbol["for"]("react.memo_cache_sentinel")?(J={className:"xod5an3"},b[23]=J):J=b[23];t=!t&&!a&&G;b[24]!==t||b[25]!==H?(a=n.jsx("div",babelHelpers["extends"]({},J,{children:n.jsxs(c("MWXText.react"),{align:"center",isSemanticHeading:!0,numberOfLines:1,type:"headlineEmphasized3",children:[H,t]})})),b[24]=t,b[25]=H,b[26]=a):a=b[26];b[27]!==x?(G=x!=null&&(l||(l=d("I64"))).equal(x,(m||(m=d("LSIntEnum"))).ofNumber(c("LSPageType").AI))?n.jsx("div",babelHelpers["extends"]({className:"xod5an3"},{children:n.jsx(c("MWXText.react"),{align:"center",color:"primary",type:"body4",children:h._(/*BTDS*/"__JHASH__5MDaoXA0f1Z__JHASH__")})})):null,b[27]=x,b[28]=G):G=b[28];b[29]!==y||b[30]!==B?(J=y!=null&&B!=null?n.jsx(c("MWContextBannerNullstateDescription.react"),{kind:B,text:y}):null,b[29]=y,b[30]=B,b[31]=J):J=b[31];b[32]!==z||b[33]!==C?(t=z!=null&&C!=null?n.jsx(c("MWContextBannerNullstateDescription.react"),{kind:C,text:z}):null,b[32]=z,b[33]=C,b[34]=t):t=b[34];b[35]!==A||b[36]!==D?(H=A!=null&&D!=null?n.jsx(c("MWContextBannerNullstateDescription.react"),{kind:D,text:A}):null,b[35]=A,b[36]=D,b[37]=H):H=b[37];b[38]!==g?(x=c("MW3PBotCommandsPill.react")!=null&&n.jsx(c("MW3PBotCommandsPill.react"),{threadKey:g}),b[38]=g,b[39]=x):x=b[39];b[40]!==E||b[41]!==k||b[42]!==w?(y=n.jsx(p,{isBusinessSupport:E,isReadOnlyFeatureLimited:k,thread:w}),b[40]=E,b[41]=k,b[42]=w,b[43]=y):y=b[43];b[44]!==r||b[45]!==s||b[46]!==F?(B=F&&!r&&!s?n.jsx(c("MWContextBannerEndToEndEncryptedBanner.react"),{}):null,b[44]=r,b[45]=s,b[46]=F,b[47]=B):B=b[47];b[48]!==F?(z=F&&c("MWPWebWorkerDisconnectedBanner.react")?n.jsx(c("MWPWebWorkerDisconnectedBanner.react"),{}):null,b[48]=F,b[49]=z):z=b[49];b[50]!==I||b[51]!==u||b[52]!==a||b[53]!==G||b[54]!==J||b[55]!==t||b[56]!==H||b[57]!==x||b[58]!==y||b[59]!==B||b[60]!==z?(C=n.jsxs("div",babelHelpers["extends"]({},I,{"data-testid":void 0,children:[u,a,G,J,t,H,x,y,B,z]})),b[50]=I,b[51]=u,b[52]=a,b[53]=G,b[54]=J,b[55]=t,b[56]=H,b[57]=x,b[58]=y,b[59]=B,b[60]=z,b[61]=C):C=b[61];b[62]===Symbol["for"]("react.memo_cache_sentinel")?(A=n.jsx(c("MWEditMessageOverlay.react"),{}),b[62]=A):A=b[62];b[63]!==C?(D=n.jsxs(n.Fragment,{children:[C,A]}),b[63]=C,b[64]=D):D=b[64];E=D;b[65]!==E||b[66]!==e?(k=e?n.jsx(c("BaseView.react"),{children:E}):E,b[65]=E,b[66]=e,b[67]=k):k=b[67];return k}function q(a,b){return b}g["default"]=a}),226);
__d("MWContextBannerWithKeyboardFocus.react",["fbt","BaseView.react","MWContextBanner.react","MWPMessageListFocusableTableRow.react","MWV2MessageListIsRowModalContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.startTransition;b.useCallback;var l=b.useState,m="mwcontextbanner";function a(a){var b=d("react-compiler-runtime").c(10),e=a.threadKey;a=a.threadType;var f=l(!1),g=f[0],i=f[1];f=l(!1);var n=f[0];f=f[1];var o;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){return k(function(){return i(a)})},b[0]=o):o=b[0];o=o;var p=d("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal();p=p.modal;p=p===m;var q;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__GTmXk6DONkG__JHASH__"),b[1]=q):q=b[1];var r;b[2]!==e||b[3]!==a?(r=j.jsx(c("MWContextBanner.react"),{includeBaseViewWrapper:!1,threadKey:e,threadType:a}),b[2]=e,b[3]=a,b[4]=r):r=b[4];b[5]!==n||b[6]!==g||b[7]!==p||b[8]!==r?(e=j.jsx(c("BaseView.react"),{role:"row",children:j.jsx(c("MWPMessageListFocusableTableRow.react"),{accessibilityDialogTitleText:q,checkIfContentsAreTabbable:!0,focusCellOnRender:!1,isDialogOpened:n,isFocused:g,isModal:p,nameForModality:m,setFocused:o,setIsDialogOpened:f,showButtonInsideRow:!0,children:r})}),b[5]=n,b[6]=g,b[7]=p,b[8]=r,b[9]=e):e=b[9];return e}g["default"]=a}),226);
__d("MWInboxThreadMessagesSpinner.react",["CometVisualCompletionAttributes","MWXSpinner.react","react","react-compiler-runtime","useDebouncedState","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(15),e=a.delayMs;a=a.vcIgnore;var f=c("useIsMountedRef")(),g=!e,h;b[0]!==e||b[1]!==g?(h={debounceMS:e,doNotDebounce:g},b[0]=e,b[1]=g,b[2]=h):h=b[2];e=c("useDebouncedState")(j,h);g=e[0];var k=e[1];b[3]!==f||b[4]!==k?(h={onHidden:function(){f.current&&k(!1)},onVisible:function(){f.current&&k(!0)}},b[3]=f,b[4]=k,b[5]=h):h=b[5];e=h;h=e;e=c("useVisibilityObserver")(h);b[6]===Symbol["for"]("react.memo_cache_sentinel")?(h="x6s0dn4 x78zum5 x1t1x2f9 x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a x1eb86dx",b[6]=h):h=b[6];var l;b[7]!==a?(l=a===!0?c("CometVisualCompletionAttributes").IGNORE:{},b[7]=a,b[8]=l):l=b[8];b[9]!==g?(a=i.jsx("div",{role:"cell",children:g?i.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}):i.jsx("div",{className:"x1eb86dx xxk0z11 xh8yej3"})}),b[9]=g,b[10]=a):a=b[10];b[11]!==l||b[12]!==a||b[13]!==e?(g=i.jsx("div",babelHelpers["extends"]({className:h,ref:e,role:"row"},l,{children:a})),b[11]=l,b[12]=a,b[13]=e,b[14]=g):g=b[14];return g}function j(){return!0}g["default"]=a}),98);
__d("MWXIconMenuItemArrowDown",["MWXSvgIcon","SVGIcon","cr:12670","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:12670")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWJumpToMostRecentMessageButton.react",["fbt","MWPBumpEntityKey","MWXIconMenuItemArrowDown","MWXIconStrict.react","MWXPressable.react","MWXThreadThemeColor","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={circleButton:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"xurzqwv",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e=a.onPress;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__mZcaI1xn9AA__JHASH__"),b[0]=a):a=b[0];var f;b[1]!==e?(f=function(){e(),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_jump_to_bottom","app_id")},b[1]=e,b[2]=f):f=b[2];var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("MWXIconStrict.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-primary-theme-color)"),icon:c("MWXIconMenuItemArrowDown"),size:20}),b[3]=g):g=b[3];b[4]!==f?(a=j.jsx(c("MWXPressable.react"),{"aria-label":a,onPress:f,xstyle:k.circleButton,children:g}),b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),226);
__d("useIsNearBottomOfScrollArea",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useState,k=10;function a(a,b){var c=d("react-compiler-runtime").c(6),e=b===void 0?k:b;b=j(!0);var f=b[0],g=b[1];c[0]!==e||c[1]!==a.current?(b=function(){var b=a.current;if(b==null)return;var c=function(){return g(Math.abs(b.scrollHeight-b.scrollTop-b.clientHeight)<e)},d=window.requestAnimationFrame(c);b.addEventListener("scroll",c);return function(){b.removeEventListener("scroll",c),window.cancelAnimationFrame(d)}},c[0]=e,c[1]=a.current,c[2]=b):b=c[2];var h;c[3]!==e||c[4]!==a?(h=[e,a],c[3]=e,c[4]=a,c[5]=h):h=c[5];i(b,h);return f}g["default"]=a}),98);
__d("MWPMessageListJumpToMostRecentMessageButton.react",["MWPJumpToMostRecentMessageButtonAnimationWrapper.react","react","react-compiler-runtime","useIsNearBottomOfScrollArea"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.alwaysShow,f=a.jumpToMostRecentMessage,g=a.renderButton;a=a.scrollAreaRef;a=c("useIsNearBottomOfScrollArea")(a,108);a=a===!1||e;b[0]!==f||b[1]!==g||b[2]!==a?(e=g?i.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:a,children:g(f)}):null,b[0]=f,b[1]=g,b[2]=a,b[3]=e):e=b[3];return e}g["default"]=a}),98);
__d("MessageForIntegrityCheck",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.isAdminMessage?null:{displayedContentTypes:a.displayedContentTypes,messageId:a.messageId,offlineThreadingId:a.offlineThreadingId,primarySortKey:a.primarySortKey,timestampMs:a.timestampMs}}f.prepMessageForIntegrityCheck=a}),66);
__d("MAWObservableUtils",["Random","ReStoreKeyComparer","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{id:c("Random").uint32()}}function b(a,b){if(!(Array.isArray(a)||Array.isArray(b)))return(h||(h=d("ReStoreKeyComparer"))).compareKey([a],[b]);else if(Array.isArray(a)&&Array.isArray(b))return(h||(h=d("ReStoreKeyComparer"))).compareKey(a,b);throw c("err")("[Separate Read Chunked Observable] Cannot compare array and non-array")}function e(a,b,d,e){var f=[];for(var g=0;g<a.length;g+=b){var h=g+b;while(h>g&&h<a.length-1&&d(e(a[h-1]),e(a[h]))===0)h--;if(h===g)throw c("err")("Entire pagination window sorts identically: this should never happen.");f.push(a.slice(g,h));g-=g+b-h}return f}g.getUniqueRef=a;g.wrappedCompareKey=b;g.chunkArray=e}),98);
__d("MWPConcatenateMessageListsDataSource",["ReplayLastSubject","relay-runtime","switchMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.count,e=a.first,f=a.getSecond;this.$1=c("switchMap")(e,function(a){var c=a.data.length;if(c>=b||a.hasMore||a.isLoadingMore)return new(d("ReplayLastSubject").ReplayLastSubject)(babelHelpers["extends"]({},a,{hasMore:!0}));c=d("relay-runtime").Observable.from(f(b-c));return c.map(function(b){return{data:[].concat(a.data,b.data),hasMore:a.hasMore||b.hasMore,isLoadingMore:a.isLoadingMore||b.isLoadingMore}})})}var b=a.prototype;b.subscribe=function(a){return this.$1.subscribe(a)};return a}();g["default"]=a}),98);
__d("MWPDataDrivenDependenciesForMLv2",["I64","JSResourceForInteraction","LSIntEnum","MessagingAttachmentType","Promise","asyncToGeneratorRuntime","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("JSResourceForInteraction")("MWV2ChatVideo.react").__setRef("MWPDataDrivenDependenciesForMLv2"),l=[function(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?k:null}];function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(a=a.associatedData)==null?void 0:a.attachmentData.attachments.flatMap(function(a){return l.map(function(b){return b(a)}).filter(Boolean)});if(a==null)return;yield (h||(h=b("Promise"))).all(a.map(function(a){return a.load()}))});return n.apply(this,arguments)}function a(a){return d("relay-runtime").Observable.create(function(c){var d=!1,e=a.subscribe({complete:c.complete,error:c.error,next:function(a){var e=a.map(function(a){a[0];a=a[1];return m(a)});void (h||(h=b("Promise"))).all(e)["finally"](function(){d||c.next(a)})}});return function(){d=!0,e.unsubscribe()}})}g["default"]=a}),98);
__d("memoizeObservable",["deepEquals","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a,b){b===void 0&&(b=c("deepEquals"));return d("relay-runtime").Observable.create(function(c){var d=h,e=a.subscribe({complete:function(){c.complete()},error:function(a){c.error(a)},next:function(a){b(d,a)||(d=a,c.next(a))}});return function(){e.unsubscribe()}})}g["default"]=a}),98);
__d("MWPMessageListSingleDirectionDataSource",["I64","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","LSMessagingThreadTypeUtil","MAWJids","MAWMediaGalleryM2Utils","MAWMessagesDirection","MLV2DataSourceLogger","MWPDataDrivenDependenciesForMLv2","MessagesRangesV2ExternalIds","Promise","ReQL","ReQLObservable","ReplayLastSubject","WAJids","combineLatestWith","cr:2610","cr:906","deepEquals","gkx","justknobx","memoizeObservable","promiseDone","qex","relay-runtime","setTimeout","switchMap"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(a=b("cr:906"))==null?void 0:a.MAWMessagesLiveQuery,l=(e=b("cr:2610"))==null?void 0:e.MAWMessagesLiveQuery;function m(a){return a.length>0?a[a.length-1]:void 0}var n=2,o=!c("gkx")("7019"),p=c("gkx")("7990");function q(a,b){return d("relay-runtime").Observable.create(function(c){var d=a.subscribe({}),e=b.subscribe(c);return function(){d.unsubscribe(),e.unsubscribe()}})}f=function(){function a(a,b,e,f,g,h,k,l,m,n,o){var p=this;this.$7=new(d("ReplayLastSubject").ReplayLastSubject)(!1);this.$15=null;this.$16=null;this.$1=a;this.$2=b;this.$4=e;this.$3=f;this.$5=g;this.$6=h;this.$10=k;this.$11=l!=null&&(i||(i=d("I64"))).equal(l,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC));this.$12=m;this.$13=n;this.$14=o;this.$8=this.$17();this.$15=null;c("gkx")("9855")&&(this.$16=a.tables.threads.subscribe(function(a,b){b.operation==="delete"&&p.$6.truncateMessageRange(a[0])}))}var e=a.prototype;e.$18=function(){return(i||(i=d("I64"))).equal(this.$4.timestampMs,(i||(i=d("I64"))).max_int)&&this.$3==="asc"};e.subscribe=function(a){var b,c=this;this.$18()||(this.$9=d("MLV2DataSourceLogger").startMLV2LoggerForThread(this.$4.threadKey,this.$3,this.$5,this.$10));(b=this.$9)==null?void 0:b.markQPLPoint("subscribed");var e=this.$8.subscribe(a);return{closed:e.closed,unsubscribe:function(){var a;e.unsubscribe();(a=c.$9)==null?void 0:a.markQPLCancel("unsubscribed");c.$9=void 0}}};e.$19=function(a,b){var d,e=this;o&&this.$20(!0);(d=this.$9)==null?void 0:d.markQPLPoint("fetch_more_msgs_start");c("promiseDone")(this.$6.extendRange(a,b,this.$3,this.$14,this.$12)["finally"](function(){var a;(a=e.$9)==null?void 0:a.markQPLPoint("fetch_more_msgs_end","begin attempting to extend a message range in a given direction");o&&e.$20(!1)}))};e.$20=function(a){var d=this;c("justknobx")._("3066")&&!a?c("promiseDone")(new(h||(h=b("Promise")))(function(a){return c("setTimeout")(a,0)}).then(function(){return d.$7.next(a)})):this.$7.next(a)};e.$21=function(a,b,e){a.isLoadingAfter;a.isLoadingBefore;var f=babelHelpers.objectWithoutPropertiesLoose(a,["isLoadingAfter","isLoadingBefore"]);if(this.$15!=null){var g=this.$15,h=g.boundary;g=g.observable;if(c("deepEquals")(f,h)){(h=this.$9)==null?void 0:h.markQPLPoint("use_cached_messages_observable");return g}}h=this.$4;g=h.messageId;h=h.timestampMs;g=(g==null||g==="")&&(i||(i=d("I64"))).equal(h,(i||(i=d("I64"))).max_int);h=g&&(i||(i=d("I64"))).equal(f.minTimestampMs,(i||(i=d("I64"))).max_int);g=!f.hasMoreBefore||h;if(h&&c("qex")._("756")&&c("gkx")("5896")){var j;j=this.$3==="asc"?(j=a.isLoadingAfter)!=null?j:!1:(j=a.isLoadingBefore)!=null?j:!1;j||this.$19(a,b)}j=d("MAWMessagesDirection").switchOnMWPMessagesDirection(this.$3,{asc:{gte:d("ReQL").key(this.$4.timestampMs,d("MessagesRangesV2ExternalIds").MIN_EXTERNAL_ID),lte:d("ReQL").key(f.hasMoreAfter?f.maxTimestampMs:(i||(i=d("I64"))).max_int,(j=b==null?void 0:b.maxExternalId)!=null?j:d("MessagesRangesV2ExternalIds").MAX_EXTERNAL_ID)},desc:{gte:d("ReQL").key(g?(i||(i=d("I64"))).min_int:f.minTimestampMs,(a=b==null?void 0:b.minExternalId)!=null?a:d("MessagesRangesV2ExternalIds").MIN_EXTERNAL_ID),lte:d("ReQL").key(this.$4.timestampMs,d("MessagesRangesV2ExternalIds").MAX_EXTERNAL_ID)}});g=h?n:this.$5;b=s(this.$13,this.$2,this.$4,this.$10,this.$3,j,g,this.$14,e,h);a=(b==null?void 0:b.type)==="main"?b.query:null;e=(b==null?void 0:b.type)==="dual_read"?b.query:null;b=(h=r(this.$1,this.$3,this.$4,j,g))!=null?h:d("relay-runtime").Observable.from([]);j=e!=null?q(e,b):b;if(a==null||this.$11&&p){(g=this.$9)==null?void 0:g.markQPLPoint("use_lsdb_optimistic_observable");return j}e=(h=c("qex")._("1112"))!=null?h:!1;b=this.$5<=this.$14;if(e&&b){g=this.$22(a,j);this.$15={boundary:f,observable:g};(h=this.$9)==null?void 0:h.markQPLPoint("use_lsdb_initial_load_observable");return g}this.$15={boundary:f,observable:a};(e=this.$9)==null?void 0:e.markQPLPoint("use_maw_observable");return a};e.$22=function(a,b){return d("relay-runtime").Observable.create(function(c){var d=new Set([a,b]),e=!1,f=null;f=b.subscribe({complete:function(){d["delete"](b),d.size===0&&c.complete()},error:c.error,next:function(a){e||c.next(a)}});var g=a.subscribe({complete:function(){d["delete"](a),d.size===0&&c.complete()},error:c.error,next:function(a){var b;e=!0;(b=f)==null?void 0:b.unsubscribe();f=null;c.next(a)}});return function(){var a;g.unsubscribe();(a=f)==null?void 0:a.unsubscribe()}})};e.$23=function(a,b,c,d){var e,f;b===void 0&&(b=[]);a=a;e=(e=m(b))==null?void 0:e[1].message;f=this.$3==="asc"?[c==null?void 0:c.maxMessageId,(f=c==null?void 0:c.hasMoreAfter)!=null?f:!1,(f=c==null?void 0:c.isLoadingAfter)!=null?f:!1]:[c==null?void 0:c.minMessageId,(f=c==null?void 0:c.hasMoreBefore)!=null?f:!1,(f=c==null?void 0:c.isLoadingBefore)!=null?f:!1];var g=f[0],h=f[1];f=f[2];e=b.length===this.$5&&(e!=null&&e.messageId!==g||!h);c!=null&&b.length<this.$5&&h&&!e&&!a&&!f&&(a=!0,this.$19(c,d));return{data:b,hasMore:e||h,isLoadingMore:a||!e&&f}};e.$17=function(){var a=this;return this.$18()?d("relay-runtime").Observable.from(new(d("ReplayLastSubject").ReplayLastSubject)({data:[],hasMore:!1,isLoadingMore:!1})):c("memoizeObservable")(c("combineLatestWith")(this.$7,c("switchMap")(this.$6.getOrCreateMessageRangeCoveringCursor(this.$4,this.$9,this.$12),function(b){var e,f=b.range,g=b.rangeExternalIds,h=b.type;b.prefetchedData;var j=babelHelpers.objectWithoutPropertiesLoose(b,["prefetchedData"]);(e=a.$9)==null?void 0:e.markQPLPoint("emitting_range");(e=a.$9)==null?void 0:e.addQPLAnnotations({bool:{hasPrefetchedMessages:h==="range_with_prefetched_messages"&&((e=(e=b.prefetchedData)==null?void 0:(h=e.messages)==null?void 0:h.length)!=null?e:0)>0},string:{range:JSON.stringify(babelHelpers["extends"]({},j,{maxTimestampMs:f.maxTimestampMs==null?null:(i||(i=d("I64"))).to_string(f.maxTimestampMs),minTimestampMs:f.minTimestampMs==null?null:(i||(i=d("I64"))).to_string(f.minTimestampMs)}))}});h=b.type==="range_with_prefetched_messages"?{coverEntireRange:b.prefetchedData.coverEntireRange,data:b.prefetchedData.messages}:null;e=a.$21(f,g,h);c("qex")._("3310")&&(e=c("MWPDataDrivenDependenciesForMLv2")(e));return e.map(function(a){return{messagesAndAssociatedData:a,messagesRange:f,messagesRangeExternalIds:g}})["do"]({error:function(b){var c;(c=a.$9)==null?void 0:c.markQPLPoint("emitting_messages_failed");(c=a.$9)==null?void 0:c.addQPLAnnotations({string:{emitting_message_error_message:b.message,emitting_message_error_name:b.name}})},next:function(b){var c;b=b.messagesAndAssociatedData;(c=a.$9)==null?void 0:c.markQPLPoint("emitting_messages");(c=a.$9)==null?void 0:c.addQPLAnnotations({"int":{num_fetched:b.length}})}})})).map(function(b){var c=b[0];b=b[1];b=(b=b)!=null?b:{};var d=b.messagesAndAssociatedData,e=b.messagesRange;b=b.messagesRangeExternalIds;return a.$23(c,d,e,b)}))["do"]({error:function(b){var c;(c=a.$9)==null?void 0:c.markQPLFailure(b);a.$9=void 0},next:function(b){var c=b.data;b=b.isLoadingMore;if(!b){(b=a.$9)==null?void 0:b.addQPLAnnotations({"int":{final_query_count:a.$5}});(b=a.$9)==null?void 0:b.markQPLSuccess(c.length);a.$9=void 0}else{(b=a.$9)==null?void 0:b.markQPLPoint("waiting_for_fetch")}}})};return a}();function r(a,b,e,f,g){b=b==="asc"?d("ReQL").fromTableAscending:d("ReQL").fromTableDescending;var h;c("qex")._("18")?h=b(a.tables.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(e.threadKey).bounds({gte:f.gte,lte:f.lte}):h=b(a.tables.messages).getKeyRange(e.threadKey).bounds({gte:[f.gte[0]],lte:[f.lte[0]]});var j=h.filter(function(a){a=a.messageRenderingType;return!(i||(i=d("I64"))).equal(a,i.of_int32(c("LSMessageRenderingType").HIDDEN))}).filter(function(a){a=a.transportKey;return c("justknobx")._("3424")&&d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled()?a!=="EncryptedBackupsMedia":!0}).take(g).map(function(a){return{message:a}});return d("ReQLObservable").create(a,function(){return j})}function s(a,b,c,e,f,g,h,j,m,n){var o=c.secureThreadJid==null?null:(i||(i=d("I64"))).to_string(c.secureThreadJid);if(b==null||o==null||k==null&&l==null)return null;e=d("LSMessagingThreadTypeUtil").isGroup(e);e=e?d("WAJids").toGroupJid(o):d("MAWJids").toUserJid(o);if(l!=null){o=l({bounds:g,cacheKey:a,count:h,direction:f,disableLogging:!0,isInitialPlaceholderRange:n,jid:e,mawDb:b,pageSize:j,prefetchedMessages:m,threadKey:c.threadKey});return{query:o,type:"dual_read"}}else if(k!=null)return{query:k({bounds:g,cacheKey:a,count:h,direction:f,isInitialPlaceholderRange:n,jid:e,mawDb:b,pageSize:j,prefetchedMessages:m,threadKey:c.threadKey}),type:"main"}}g["default"]=f}),98);
__d("MWPMessageRangeDataSource",["I64","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagePointQueryStoredProcedure","MLV2DataSourceLogger","Promise","ReQL","ReQLObservable","asyncToGeneratorRuntime","err","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("justknobx")._("3621");function l(a,b){return b==="asc"&&a.isLoadingAfter||b==="desc"&&a.isLoadingBefore}a=function(a){var e=this;this.$2=function(a){return o(e.$1.tables.messages_ranges_v2__generated,a)};this.getOrCreateMessageRangeCoveringCursor=function(a,b,f){b==null?void 0:b.annotateMessageRangesDataSource("MWPMessageRangeDataSource");b==null?void 0:b.markQPLPoint("msys_message_range_fetch_start");return d("ReQLObservable").create(e.$1,function(){return e.$2(a)}).map(function(f){b==null?void 0:b.markQPLPoint("msys_message_range_fetch_end");f=(f=f[0])==null?void 0:f[1];if(f==null)if(a.messageId==null){var g;return{range:{hasMoreAfter:!(j||(j=d("I64"))).equal(a.timestampMs,j.max_int),hasMoreBefore:!0,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:(g=a.messageId)!=null?g:"",maxTimestampMs:a.timestampMs,minMessageId:(g=a.messageId)!=null?g:"",minTimestampMs:a.timestampMs,threadKey:a.threadKey},rangeExternalIds:{maxExternalId:a.externalId,minExternalId:a.externalId},type:"range_only"}}else{c("promiseDone")(t(e.$1,a));return{range:{hasMoreAfter:!0,hasMoreBefore:!0,isLoadingAfter:!0,isLoadingBefore:!0,maxMessageId:(g=a.messageId)!=null?g:"",maxTimestampMs:a.timestampMs,minMessageId:(g=a.messageId)!=null?g:"",minTimestampMs:a.timestampMs,threadKey:a.threadKey},rangeExternalIds:{maxExternalId:a.externalId,minExternalId:a.externalId},type:"range_only"}}return{range:f,rangeExternalIds:{maxExternalId:null,minExternalId:null},type:"range_only"}})};this.extendRange=function(a,g,i,k,l){var n=d("MLV2DataSourceLogger").getMLV2LoggerForThread(a.threadKey,i);n==null?void 0:n.annotateMessageRangesDataSource("MWPMessageRangeDataSource");n==null?void 0:n.markQPLPoint("msys_extend_range_start");var o=a.threadKey;if(!r(a,i)){n==null?void 0:n.markQPLPoint("mwp_msg_range_not_extensible","Trying to extend a range that is not extensible");return(h||(h=b("Promise"))).resolve()}return e.$1.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e;n==null?void 0:n.markQPLPoint("fetch_message_ranges_from_table_start","Find a range in the database matching the range we were handed.");e=(e=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(b.messages_ranges_v2__generated).getKeyRange(o).bounds({lte:d("ReQL").key(a.minTimestampMs)}).filter(function(b){return(j||(j=d("I64"))).ge(b.maxTimestampMs,a.maxTimestampMs)}))))!=null?e:a;if(!r(e,i)){n==null?void 0:n.markQPLPoint("mwp_msg_range_not_extensible","Trying to extend a range that is not extensible");return}if(!p(e,a,i)){n==null?void 0:n.markQPLPoint("mwp_msg_range_bound_mismatch","The range we are trying to extend has already been extended");return}n==null?void 0:n.markQPLPoint("mwp_fetch_message_ranges_start","Begin fetching message ranges");return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(b),q(e,i))});return function(a){return e.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":174").then(function(){return m(e.$1,o,i,n)})};this.truncateMessageRange=function(a){};this.$1=a};function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(c)));if(g!=null&&!l(g,e)){f==null?void 0:f.markQPLPoint("mwp_fetch_message_ranges_end","Finish fetching message ranges");return}var i=new AbortController(),j=i.signal;g=new(h||(h=b("Promise")))(function(a){var b=window.setTimeout(function(){if(j.aborted)return;i.abort();f==null?void 0:f.markQPLPoint("mwp_fetch_message_ranges_timeout","Finish fetching message ranges");a()},k);j.addEventListener("abort",function(){window.clearTimeout(b)})});var m=new h(function(b){return d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(c).subscribe(function(a,c){if(j.aborted)return;(c.operation==="put"||c.operation==="add")&&(l(c.value,e)||(f==null?void 0:f.markQPLPoint("mwp_fetch_message_ranges_end","Finish fetching message ranges"),i.abort(),b()))})});return h.race([m,g])});return n.apply(this,arguments)}function o(a,b){return d("ReQL").fromTableDescending(a).getKeyRange(b.threadKey).bounds({lte:d("ReQL").key(b.timestampMs)}).filter(function(a){return s(b,a)}).take(1)}function p(a,b,c){if(c==="asc")return(j||(j=d("I64"))).equal(a.minTimestampMs,b.minTimestampMs);else return(j||(j=d("I64"))).equal(a.maxTimestampMs,b.maxTimestampMs)}function q(a,b){var e=a.maxTimestampMs,f=a.minTimestampMs;a=a.threadKey;return b==="asc"?{direction:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:e,threadKey:a}:{direction:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:f,threadKey:a}}function r(a,b){return b==="asc"&&a.hasMoreAfter&&!a.isLoadingAfter||b==="desc"&&a.hasMoreBefore&&!a.isLoadingBefore}function s(a,b){a=a.timestampMs;return((j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).max_int)||(j||(j=d("I64"))).ge(b.maxTimestampMs,a))&&(j||(j=d("I64"))).le(b.minTimestampMs,a)}function t(a,b,c){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e===void 0&&(e=20);var g=b.messageId,h=b.threadKey;if(g==null)throw c("err")("Cannot issue a point query without a message ID.");yield a.runInTransaction(function(a){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:g,numContextMessages:(j||(j=d("I64"))).of_float(e),threadKey:h})},"readwrite",void 0,void 0,f.id+":391")});return u.apply(this,arguments)}g.MSYSMessageRangeDataSource=a}),98);
__d("MWPMessageListDataSource",["I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWDumbRangeDataSource","MAWEBCombinedRangeDataSource","MWPConcatenateMessageListsDataSource","MWPMessageListSingleDirectionDataSource","MWPMessageRangeDataSource","ReQL","ReQLObservable","combineLatestWith","cr:13106","cr:7424","gkx","nullthrows","relay-runtime/network/RelayObservable","switchMap"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("gkx")("8297");a=function(){var a=e.prototype;a.subscribe=function(a){return this.$1.subscribe(a)};function e(a,e,f,g,i){var o=f.after,p=f.before,q=f.cursor,r=f.pageSize,s=f.secondaryThreadKey,t=f.secondaryThreadType,u=f.threadAuthorityLevel,v=f.threadType,w=function(b,f){f=new(c("MWPMessageListSingleDirectionDataSource"))(a,e,f==="desc"&&!(h||(h=d("I64"))).equal(q.timestampMs,(h||(h=d("I64"))).max_int)?babelHelpers["extends"]({},q,{timestampMs:(h||(h=d("I64"))).sub(q.timestampMs,(h||(h=d("I64"))).one)}):q,f,b,l(a,v,u),v,u,g,i,r);return f},x=function(b,f){f=new(c("MWPMessageListSingleDirectionDataSource"))(a,e,{externalId:q.externalId,messageId:q.messageId,threadKey:c("nullthrows")(s),timestampMs:f==="desc"&&!(h||(h=d("I64"))).equal(q.timestampMs,(h||(h=d("I64"))).max_int)?(h||(h=d("I64"))).sub(q.timestampMs,(h||(h=d("I64"))).one):q.timestampMs},f,b,l(a,c("nullthrows")(t),u),v,u,g,i,r);return f},y;s==null||t==null?(f=w(p,"desc"),y=w(o,"asc")):(f=new(c("MWPConcatenateMessageListsDataSource"))({count:p,first:w(p,"desc"),getSecond:function(a){return x(a,"desc")}}),y=new(c("MWPConcatenateMessageListsDataSource"))({count:o,first:x(o,"asc"),getSecond:function(a){return w(a,"asc")}}));p=c("relay-runtime/network/RelayObservable").create(function(a){return a.next([])});o=d("LSMessagingThreadTypeUtil").isArmadilloSecure(v)&&j?(o=b("cr:13106")==null?void 0:b("cr:13106")(a,q.threadKey))!=null?o:p:p;var z=new Map();p=c("combineLatestWith")(f,y,o).map(function(a){var b=a[0],c=a[1];a=a[2];a.forEach(function(a){return z.set(a[1].message.messageId,a)});a=new Set(z.keys());var d=b.data.toReversed().concat(c.data).sort(n(q.threadKey));m(a,d);var e=[];for(var f=z,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];!a.has(j)?z["delete"](j):e.push(i)}return{authoritativeMessages:d,hasNext:c.hasMore,hasPrevious:b.hasMore,isLoadingNext:c.isLoadingMore,isLoadingPrevious:b.isLoadingMore,optimisticMessages:e}});this.$1=c("switchMap")(p,function(b){var c=b.authoritativeMessages,d=b.hasNext,e=b.hasPrevious,f=b.isLoadingNext,g=b.isLoadingPrevious;b=b.optimisticMessages;return k(a,b).map(function(a){a=[].concat(c,a);a.sort(n(q.threadKey));return{data:a,hasNext:d,hasPrevious:e,isLoadingNext:f,isLoadingPrevious:g}})})}return e}();function k(a,b){if(b.length===0)return c("relay-runtime/network/RelayObservable").create(function(a){return a.next([])});var e=b.map(function(b){b[0];b=b[1];return d("ReQL").fromTableAscending(a.tables.messages.index("optimistic")).getKeyRange(b.message.offlineThreadingId).map(function(a){return{message:a}})}).map(function(b){return d("ReQLObservable").create(a,function(){return b})});return c("combineLatestWith").apply(void 0,e).map(function(a){var c=[];a.forEach(function(a,d){if(a.length===0)return;a=a[0];a[0];a=a[1];c.push([b[d][0],a])});return c})}function l(a,e,f){if((h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return c("MAWDumbRangeDataSource")();return d("LSMessagingThreadTypeUtil").isArmadilloSecure(e)?b("cr:7424")!=null?b("cr:7424")(a):c("MAWEBCombinedRangeDataSource")(a):new(d("MWPMessageRangeDataSource").MSYSMessageRangeDataSource)(a)}function m(a,b){if(a.size===0)return;var e=b.length-1;while(e>=0){var f=b[e];f[0];f=f[1];f=f.message;a.has(f.offlineThreadingId)&&((h||(h=d("I64"))).lt(f.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?b.splice(e,1):a["delete"](f.offlineThreadingId));e--}}var n=function(a){return function(b,c){b=b[1];c=c[1];b=b.message;c=c.message;var e=(h||(h=d("I64"))).compare(b.threadKey,c.threadKey);if(e!==0)return(h||(h=d("I64"))).equal(b.threadKey,a)?1:-1;e=h.compare(b.primarySortKey,c.primarySortKey);if(e!==0)return e;e=h.compare((e=b.secondarySortKey)!=null?e:(h||(h=d("I64"))).zero,(e=c.secondarySortKey)!=null?e:(h||(h=d("I64"))).zero);return e!==0?e:h.compare(b.timestampMs,c.timestampMs)}};g["default"]=a}),98);
__d("useObservable",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(7),c=j(),e=c[0],f=c[1];c=j();var g=c[0],h=c[1];c=j(!1);var k=c[0],l=c[1],m;b[0]!==a?(c=function(){var b=a.subscribe({complete:function(){return l(!0)},error:h,next:f});return function(){return b.unsubscribe()}},m=[a],b[0]=a,b[1]=c,b[2]=m):(c=b[1],m=b[2]);i(c,m);b[3]!==g||b[4]!==k||b[5]!==e?(c=[e,g,k],b[3]=g,b[4]=k,b[5]=e,b[6]=c):c=b[6];return c}g["default"]=a}),98);
__d("useMWPMessageListData",["I64","Int64Hooks","MAWObservableUtils","MAWStateContext.react","MWInboxMessageSearchJumpToResultQPL","MWPMessageListDataSource","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","cr:6730","justknobx","qex","react","useObservable","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useRef,o=e.useState;function p(a,b){return JSON.stringify(a)===JSON.stringify(b)}var q=c("justknobx")._("3383");function a(a,e,g){var j,r=a.authorityLevel,s=a.threadKey,t=a.threadType,u=(h||(h=c("useReStore")))(),v=n(d("MAWObservableUtils").getUniqueRef()),w=b("cr:6730")(),x=l(d("MAWStateContext.react").MAWDispatchContext);a=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();a=a.visibleMessage;var y=a==null?void 0:a.messageId,z=a==null?void 0:a.messageOtid,A=(a=a==null?void 0:a.timestamp)!=null?a:(i||(i=d("I64"))).max_int,B=e==null?void 0:e.threadKey,C=e==null?void 0:e.threadType;a=o(g);var D=a[0],E=a[1];e=o(g);var F=e[0],G=e[1];a=o(y);var H=a[0],I=a[1];e=o(z);var J=e[0],K=e[1];a=o(A);var L=a[0],M=a[1];e=o(q);a=e[0];var N=e[1];e=o(!1);var O=e[0],P=e[1],Q=n(new Map()),R=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(u.tables.mi_act_mapping_table,["jid"]).getKeyRange(s).map(function(a){return a.jid})},[u,s],f.id+":97");e=d("Int64Hooks").useMemoInt64(function(){return new(c("MWPMessageListDataSource"))(u,w,{after:F,before:D,cursor:{externalId:J,messageId:H,secureThreadJid:R,threadKey:s,timestampMs:L},pageSize:g,secondaryThreadKey:B,secondaryThreadType:C,threadAuthorityLevel:r,threadType:t},x,v.current)},[F,D,u,w,R,x,H,J,B,C,s,t,L,r,g]);e=c("useObservable")(e);var S=e[0];e=e[1];m(function(){N(!1),P(!1)},[S]);if(e!=null)throw e;e=(e=S==null?void 0:S.data.map(function(a){a[0];a=a[1];var b=a.message,d=Q.current.get(b.messageId);if(d!=null&&p(a,d))return d;c("qex")._("189")&&Q.current.set(b.messageId,a);return a}))!=null?e:[];var T=e.some(function(a){return a.message.messageId===y});d("Int64Hooks").useEffectInt64(function(){T||(M(A),I(y),K(z),d("MWInboxMessageSearchJumpToResultQPL").addPointIfJumpedToMessage("updated_offset_in_message_list",{messageId:y,offlineThreadingId:z}),E(g),G(g),q&&N(!0))},[T,y,z,A,g]);var U=(j=S==null?void 0:S.hasNext)!=null?j:!1,V=((j=S==null?void 0:S.isLoadingNext)!=null?j:!1)||O;j=k(function(){!V&&U&&(G(F+g),P(!0))},[U,V,F,g]);var W=(O=S==null?void 0:S.hasPrevious)!=null?O:!0,X=((O=S==null?void 0:S.isLoadingPrevious)!=null?O:!1)||a;S=k(function(){!X&&W&&(E(D+g),N(!0))},[W,X,D,g]);return{hasNext:U,hasPrevious:W,isLoadingNext:V,isLoadingPrevious:X,loadNext:j,loadPrevious:S,messagesAndAssociatedData:e}}g["default"]=a}),98);
__d("useMWPMessageListOnScrollToBottom",["Promise","react","react-compiler-runtime","useIsNearBottomOfScrollArea","useMWPSafelyMarkThreadAsRead"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.useEffect;function k(a,e,f,g,i){var k=d("react-compiler-runtime").c(10),l;k[0]!==f||k[1]!==g?(l=function(){return(h||(h=b("Promise"))).resolve(g&&!f)},k[0]=f,k[1]=g,k[2]=l):l=k[2];l=l;var m=c("useMWPSafelyMarkThreadAsRead")(i,l,a,e);k[3]!==a?(i=a(),k[3]=a,k[4]=i):i=k[4];var n=i;k[5]!==g||k[6]!==n||k[7]!==m?(l=function(){g&&!n&&m()},e=[g,n,m],k[5]=g,k[6]=n,k[7]=m,k[8]=l,k[9]=e):(l=k[8],e=k[9]);j(l,e)}function a(a,b,e,f,g,h){var i=d("react-compiler-runtime").c(4),l=c("useIsNearBottomOfScrollArea")(g),m;i[0]!==l||i[1]!==f?(g=function(){f!=null&&f(l)},m=[l,f],i[0]=l,i[1]=f,i[2]=g,i[3]=m):(g=i[2],m=i[3]);j(g,m);k(a,b,e,l,h)}g["default"]=a}),98);
__d("getOrCreateMapValue",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}f["default"]=a}),66);
__d("useMWPMessageListScrollVisibleMessageIntoView",["MWPVisibleMessageContext.react","getOrCreateMapValue","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.createRef,j=b.startTransition;b.useCallback;var k=b.useEffect,l=b.useRef;function a(){var a=d("react-compiler-runtime").c(12),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=new Map(),a[0]=b):b=a[0];var e=l(b);b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();var f=b.setVisibleMessage,g=b.visibleMessage;a[1]!==f||a[2]!==g?(b=function(a){var b=c("getOrCreateMapValue")(e.current,a,i);g!=null&&a===g.messageId&&(g==null?void 0:g.ref)!==b&&f(babelHelpers["extends"]({},g,{ref:b}));return b},a[1]=f,a[2]=g,a[3]=b):b=a[3];b=b;var h,m;a[4]!==f||a[5]!==g?(h=function(){var a=g==null?void 0:g.messageId;if(a==null||g==null)return;var b=e.current.get(a);b!==(g==null?void 0:g.ref)&&j(function(){f(babelHelpers["extends"]({},g,{ref:b}))})},m=[g,f],a[4]=f,a[5]=g,a[6]=h,a[7]=m):(h=a[6],m=a[7]);k(h,m);if(a[8]!==(g==null?void 0:(h=g.ref)==null?void 0:h.current)){m=function(){var a,b=g==null?void 0:(a=g.ref)==null?void 0:a.current;if(b==null)return;var c=window.requestAnimationFrame(function(){b.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"})});return function(){return window.cancelAnimationFrame(c)}};a[8]=g==null?void 0:(h=g.ref)==null?void 0:h.current;a[9]=m}else m=a[9];a[10]!==g?(h=[g],a[10]=g,a[11]=h):h=a[11];k(m,h);return b}g["default"]=a}),98);
__d("useMWPRelayMessageListJumpToMostRecentMessage",["MWPVisibleMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useCallback;function a(a){var b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),c=b.setVisibleMessage;return i(function(){var b=a.current;b!=null&&(c(void 0),b.scrollTop=b.scrollHeight)},[a,c])}g["default"]=a}),98);
__d("useObserveMessagePageLoad",["I64","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c=h||d("react");var j=c.useEffect,k=c.useRef;function l(a,b){return b?[a.slice(0,a.length-1),a[a.length-1]]:[[].concat(a),null]}function m(a,b,c){if(b==null)return l(a,c);else{var d=a.findIndex(function(a){return a.messageId===b});if(d===-1)return l(a,c);else return[a.slice(0,d),a.at(d)]}}var n=function(a,b){return a.some(function(a){return b.findIndex(function(b){return b.offlineThreadingId===a.offlineThreadingId})>-1})};function o(a,b,c,e,f,g){var h=d("react-compiler-runtime").c(9),i;h[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=[],h[0]=i):i=h[0];var l=k(i),o=k(null),s=k(0),t;h[1]!==f||h[2]!==a||h[3]!==c||h[4]!==b||h[5]!==g||h[6]!==e?(i=function(){var d;g?(l.current.length>0&&!n(l.current,a)&&(l.current=[],o.current=null,s.current=f?999:0),l.current=[].concat(l.current,a).reduce(r,[]).sort(q),d=l.current):d=a;if(e)return;if(d.length===0){o.current=null;return}d=m(d,o.current,f);var h=d[0];d=d[1];if(h.length<b)return;h=h.reverse();d=d;while(h.length>=b){var i=h.splice(0,b);c(d==null?null:d,i.map(p),b,s.current);s.current=s.current+1;d=i[i.length-1]}o.current=(i=d)==null?void 0:i.messageId},t=[c,b,a,e,f,g],h[1]=f,h[2]=a,h[3]=c,h[4]=b,h[5]=g,h[6]=e,h[7]=i,h[8]=t):(i=h[7],t=h[8]);j(i,t)}function p(a){return a}function q(a,b){var c=(i||(i=d("I64"))).compare(a.primarySortKey,b.primarySortKey);return c!==0?c:a.offlineThreadingId.localeCompare(b.offlineThreadingId)}function r(a,b){var c=a.find(function(a){return a.offlineThreadingId===b.offlineThreadingId});if(c==null)a.push(b);else if(c.offlineThreadingId===c.messageId&&b.messageId!==b.offlineThreadingId){c=a.indexOf(c);a[c]=b}return a}function a(a,b,c,d,e){return o(a,b,c,d,e,!1)}function b(a,b,c,d,e){return o(a,b,c,d,e,!0)}g.useObserveMessagePageLoad=a;g.useObserveMessagePageLoadWithAggregation=b}),98);
__d("MWPRelayBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MWChatInteraction","MWPMessageAuthor.react","MWPMessageListJumpToMostRecentMessageButton.react","MWPVisibleMessageContext.react","MWXMessageScrollList.react","MessageForIntegrityCheck","emptyFunction","gkx","justknobx","react","react-compiler-runtime","stylex","useMWPMessageListData","useMWPMessageListOnScrollToBottom","useMWPMessageListScrollVisibleMessageIntoView","useMWPRelayMessageListJumpToMostRecentMessage","useObserveMessagePageLoad"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useEffect,n=e.useImperativeHandle,o=e.useRef,p={backgroundColor:{backgroundColor:"x1eb86dx",$$css:!0},elevated:{zIndex:"x1vjfegm",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0}};function q(a,b){var c=d("react-compiler-runtime").c(4),e,f;c[0]!==a||c[1]!==b?(e=function(){if(b==null)return;var c=d("MWChatInteraction").get((k||(k=d("I64"))).to_string(a));c!=null&&d("MWChatInteraction").set((k||(k=d("I64"))).to_string(b),c)},f=[a,b],c[0]=a,c[1]=b,c[2]=e,c[3]=f):(e=c[2],f=c[3]);m(e,f)}var r=l.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(34),f=a.checkIsThreadManuallySetAsUnread,g=a.entryPoint,i=a.onPageLoaded,j=a.onScrollToBottom,m=a.onUserScroll,r=a.pageSize,t=a.renderFooter,u=a.renderHeader,v=a.renderJumpToMostRecentMessageButton,w=a.renderLoadingAnimation,x=a.renderRow,y=a.secondaryThread,z=a.shouldPausePageLoadTracking,A=a.thread;a=f===void 0?c("emptyFunction").thatReturnsFalse:f;f=i===void 0?c("emptyFunction"):i;i=z===void 0?!1:z;var B=o();z=c("useMWPMessageListData")(A,y,r);var C=z.hasNext,D=z.hasPrevious,E=z.isLoadingNext,F=z.isLoadingPrevious,G=z.loadNext,H=z.loadPrevious;z=z.messagesAndAssociatedData;var I=c("useMWPMessageListScrollVisibleMessageIntoView")();q(A.threadKey,y==null?void 0:y.threadKey);if(e[0]!==z||e[1]!==A.threadKey){e[3]!==A.threadKey?(y=function(a){a=a.message;return(k||(k=d("I64"))).equal(a.threadKey,A.threadKey)?d("MessageForIntegrityCheck").prepMessageForIntegrityCheck(a):null},e[3]=A.threadKey,e[4]=y):y=e[4];y=z.map(y).filter(Boolean);e[0]=z;e[1]=A.threadKey;e[2]=y}else y=e[2];d("useObserveMessagePageLoad").useObserveMessagePageLoadWithAggregation(y,r,f,i,C);c("useMWPMessageListOnScrollToBottom")(a,g,C,j,B,A);var J=c("useMWPRelayMessageListJumpToMostRecentMessage")(B);e[5]!==J?(y=function(){return{getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:function(){J(!0)},restoreScrollPosition:c("emptyFunction")}},r=[J],e[5]=J,e[6]=y,e[7]=r):(y=e[6],r=e[7]);n(b,y,r);var K=o(null);i=(f=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext().visibleMessage)==null?void 0:f.ref;e[8]!==I||e[9]!==x?(a=function(a,b,e,f){var g=a.message;return l.createElement("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props((k||(k=d("I64"))).to_float(g.displayedContentTypes)===8&&p.elevated),{key:g.offlineThreadingId,ref:I(g.messageId)}),l.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_view",disableHiding:!0,scrollport:function(){return B.current},unmountXStyle:p.backgroundColor,children:l.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:g.senderId,threadKey:g.threadKey,children:x({domElementRef:K,message:a.message,messageAssociatedData:a==null?void 0:a.associatedData,nextMessage:e==null?void 0:e.message,prevMessage:b==null?void 0:b.message,rowIndexFromBottom:f})})}))},e[8]=I,e[9]=x,e[10]=a):a=e[10];e[11]!==w?(g=function(a){a=a>c("justknobx")._("2674");return l.jsxs(l.Fragment,{children:[w==null?void 0:w(a),l.jsx(c("CometHeroHoldTrigger.react"),{description:"MessageListLoadingMoreItems",hold:!a})]})},e[11]=w,e[12]=g):g=e[12];e[13]!==C||e[14]!==D||e[15]!==E||e[16]!==F||e[17]!==G||e[18]!==H||e[19]!==z||e[20]!==m||e[21]!==t||e[22]!==u||e[23]!==i||e[24]!==a||e[25]!==g?(j=l.jsx(c("BaseHeadingContextWrapper.react"),{children:l.jsx(c("MWXMessageScrollList.react"),{anchoredElement:i,getKeyForItem:s,hasNext:C,hasPrevious:D,isLoadingNext:E,isLoadingPrevious:F,items:z,loadNext:G,loadPrevious:H,onUserScroll:m,ref:B,renderFooter:t,renderHeader:u,renderItem:a,renderLoadingAnimation:g,role:"none"})}),e[13]=C,e[14]=D,e[15]=E,e[16]=F,e[17]=G,e[18]=H,e[19]=z,e[20]=m,e[21]=t,e[22]=u,e[23]=i,e[24]=a,e[25]=g,e[26]=j):j=e[26];e[27]!==C||e[28]!==J||e[29]!==v?(b=l.jsx(c("MWPMessageListJumpToMostRecentMessageButton.react"),{alwaysShow:C,jumpToMostRecentMessage:J,renderButton:v,scrollAreaRef:B}),e[27]=C,e[28]=J,e[29]=v,e[30]=b):b=e[30];e[31]!==j||e[32]!==b?(y=l.jsxs(c("Box.react"),{xstyle:p.list,children:[j,b]}),e[31]=j,e[32]=b,e[33]=y):y=e[33];return y}function s(a){return a.message.messageId}f=l.forwardRef(b);function b(a,b){var e=d("react-compiler-runtime").c(15),f;e[0]!==a?(f=babelHelpers["extends"]({},a),e[0]=a,e[1]=f):f=e[1];a=f;var g=a.renderHeader,h=a.renderLoadingAnimation;a=a.thread;if((k||(k=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&!c("gkx")("7990")){var i;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=l.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticThread",hold:!0}),e[2]=i):i=e[2];var m;e[3]!==g?(m=g==null?void 0:g(),e[3]=g,e[4]=m):m=e[4];e[5]!==m?(g=l.jsxs(l.Fragment,{children:[i,m]}),e[5]=m,e[6]=g):g=e[6];return g}i=(k||(k=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("LSMessagingThreadTypeUtil").isCMSubthread(a.threadType);if(i){e[7]===Symbol["for"]("react.memo_cache_sentinel")?(m=l.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticSubThread",hold:!0}),e[7]=m):m=e[7];e[8]!==h?(g=h==null?void 0:h(!1),e[8]=h,e[9]=g):g=e[9];e[10]!==g?(a=l.jsxs(l.Fragment,{children:[m,g]}),e[10]=g,e[11]=a):a=e[11];return a}e[12]!==f||e[13]!==b?(i=l.jsx(r,babelHelpers["extends"]({},f,{ref:b})),e[12]=f,e[13]=b,e[14]=i):i=e[14];return i}e=f;g["default"]=e}),98);
__d("useCheckMessageIntegrityForSecureThread",["fbt","I64","Int64Hooks","JSResourceForInteraction","MAWMessageIntegrityCheckDeferred","MAWMessageIntegrityCheckFlytrapQueue","MetaConfig","Random","cometPushToast","cr:10710","gkx","react","react-compiler-runtime","useMWEntrypoint","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(i||d("react")).useCallback;var k=(e=b("cr:10710")==null?void 0:b("cr:10710").getIntegrityCheckSampleRate())!=null?e:c("MetaConfig")._("59");function a(a,b,e){var f=d("react-compiler-runtime").c(10),g=c("useMWEntrypoint")(),i;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("JSResourceForInteraction")("MWInboxBugReportDialog.react").__setRef("useCheckMessageIntegrityForSecureThread"),f[0]=i):i=f[0];i=c("useMWXLazyDialog")(i);var l=i[0];f[1]!==l?(i=function(a,b){if(!c("gkx")("4852"))return;d("cometPushToast").cometPushToast({action:{label:h._(/*BTDS*/"__JHASH__ZN4i-76hXIi__JHASH__"),onPress:function(c){return l({initialDescription:"Assign to @mengk. \nDetected missing messages on thread: "+(j||(j=d("I64"))).to_string(a)+" at time: "+((c=b)!=null?c:"most recent")+"\nIs there actual message missing? <PLEASE UPDATE: YES/NO>",initialProduct:"chat"})}},message:h._(/*BTDS*/"__JHASH__5ZwW1dU-TAQ__JHASH__"),truncateText:!1})},f[1]=l,f[2]=i):i=f[2];var m=i,n;f[3]!==a||f[4]!==g||f[5]!==m||f[6]!==b||f[7]!==e?(i=function(c,f,h,i){d("MAWMessageIntegrityCheckFlytrapQueue").enqueueFlytrapMessageIntegrityCheck({lastItemFromPreviousPage:c,pageSize:h,threadKey:b,uiMessages:f});if(!d("Random").coinflip(k))return;d("MAWMessageIntegrityCheckDeferred").runMessageIntegrityCheckDeferred(a,b,e,g,h,c,f,i,function(){return m(b,(c==null?void 0:c.primarySortKey)==null?null:(j||(j=d("I64"))).to_float(c==null?void 0:c.primarySortKey))})},n=[a,b,e,g,m],f[3]=a,f[4]=g,f[5]=m,f[6]=b,f[7]=e,f[8]=i,f[9]=n):(i=f[8],n=f[9]);return d("Int64Hooks").useCallbackInt64(i,n)}g["default"]=a}),226);
__d("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(14),e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.occamadillo_most_recent_message_per_thread||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.occamadillo_most_recent_message_per_thread).getKeyRange(a)},b[0]=e.tables.occamadillo_most_recent_message_per_thread,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];g=d("ReQLSuspense").useFirst(g,j,f.id+":27");b[6]!==e.tables.threads||b[7]!==a?(j=function(){return d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a)},b[6]=e.tables.threads,b[7]=a,b[8]=j):j=b[8];var k;b[9]!==e||b[10]!==a?(k=[e,a],b[9]=e,b[10]=a,b[11]=k):k=b[11];j=d("ReQLSuspense").useArray(j,k,f.id+":35");if((g==null?void 0:g.timestampMs)==null){b[12]!==j[0].lastActivityTimestampMs?(k=(h||(h=d("I64"))).div(j[0].lastActivityTimestampMs,h.of_float(1e3)),b[12]=j[0].lastActivityTimestampMs,b[13]=k):k=b[13];return k}return g==null?void 0:g.timestampMs}g["default"]=a}),98);
__d("MAWMessageList.react",["BaseTheme.react","CometErrorBoundary.react","CometPageletWithDiv.react","CometRelay","CometScreenReaderText.react","EBMessageMetadataQuery","FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MAWMessageListRow.react","MAWMiActOnActThreadReady","MAWThreadMappingUtils","MWBaseTheme","MWBlockingProtectionContext.react","MWChatInteraction","MWContextBannerWithKeyboardFocus.react","MWEBEntrypointsKillswitch.enum","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWLSThreadDisplayContext","MWPActor.react","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPRelayBaseMessageList.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","WAJids","asyncToGeneratorRuntime","cr:15982","cr:3907","justknobx","mwpMessageIsReply","qex","react","react-compiler-runtime","useAsyncReStore","useCheckMessageIntegrityForSecureThread","useMWEBBackupState","useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB","useMWMessageRowTheme","useMWPAriaLabelForMessageListGrid","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.useEffect,o=m.useId;m.useMemo;var p=m.useState;function q(a){return l.jsx(c("MWJumpToMostRecentMessageButton.react"),{onPress:a})}q.displayName=q.name+" [from "+f.id+"]";function r(a,b){var e=c("qex")._("1419")===!0;if(e)return d("MAWThreadMappingUtils").getIntJidOnceInThreadMappingTable(a,b,"MAWMessageList").then(function(a){return(k||(k=d("I64"))).to_string(a)});else return d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"MAWMessageList").then(function(a){a=a.chatJid;return d("WAJids").threadIdForChatJid(a)})}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a);a=(yield d("EBMessageMetadataQuery").messageMetadataQuery({direction:"after",fetchPolicy:"store-or-network",numberOfMessages:1,referenceTimestamp:null,threadId:yield r(a,b)}));return a.value?a.value.messages:[]});return t.apply(this,arguments)}function a(a){var b=d("react-compiler-runtime").c(11),e=a.theme,f=a.threadKey;a=a.threadType;e=e===void 0?d("MWBaseTheme").empty:e;var g=d("MWPTypingIndicators.react").useTypingParticipants(f),h=d("MWPTypingIndicators.react").useAccessibilityText(g);if(g.length>0){b[0]!==h?(g=l.jsx("div",{"aria-live":"polite",children:l.jsx(c("CometScreenReaderText.react"),{text:h})}),b[0]=h,b[1]=g):g=b[1];b[2]!==f||b[3]!==a?(h=l.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:f,threadType:a}),b[2]=f,b[3]=a,b[4]=h):h=b[4];b[5]!==g||b[6]!==h?(f=l.jsx(c("MWV2MessageRowSimple.react"),{children:l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[g,h]})}),b[5]=g,b[6]=h,b[7]=f):f=b[7];b[8]!==f||b[9]!==e?(a=l.jsx(c("BaseTheme.react"),{config:e,children:f}),b[8]=f,b[9]=e,b[10]=a):a=b[10];return a}else return null}var u=d("withCometPlaceholder").withCometPlaceholder(a,null,"MAWTypingIndicators");m=l.forwardRef(e);function e(a,e){var f=d("react-compiler-runtime").c(61),g=a.cutoverOpenThread,i=a.entryPoint,m=a.onScrollToBottom,r=a.thread;a=(h||(h=c("useReStore")))();var t=c("useAsyncReStore")(),x=d("MWPActor.react").useActor(),y=c("useMWPAriaLabelForMessageListGrid")(r),z=c("useMWMessageRowTheme")(),A=p(""),B=A[0];A=A[1];var C=o(),D=d("CometRelay").useRelayEnvironment(),E;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(E=[],f[0]=E):E=f[0];E=p(E);var F=E[0],G=E[1];f[1]!==t||f[2]!==r.authorityLevel||f[3]!==r.threadKey?(E=function(){if((k||(k=d("I64"))).equal(r.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return;s(t,r.threadKey).then(function(a){return G(a)})["catch"](w)},f[1]=t,f[2]=r.authorityLevel,f[3]=r.threadKey,f[4]=E):E=f[4];var H;f[5]!==t||f[6]!==D||f[7]!==r.authorityLevel||f[8]!==r.threadKey?(H=[t,D,r.authorityLevel,r.threadKey],f[5]=t,f[6]=D,f[7]=r.authorityLevel,f[8]=r.threadKey,f[9]=H):H=f[9];n(E,H);f[10]===Symbol["for"]("react.memo_cache_sentinel")?(D={entrypoint:c("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI},f[10]=D):D=f[10];E=c("useMWEBBackupState")(D);H=c("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB")(r.threadKey);bb0:{if(E===2){D=null;break bb0}else if(F.length>0&&F[0].sortOrderMs!=null){f[11]!==F[0].sortOrderMs?(E=(k||(k=d("I64"))).of_string(F[0].sortOrderMs),f[11]=F[0].sortOrderMs,f[12]=E):E=f[12];D=E;break bb0}D=(F=H)!=null?F:(k||(k=d("I64"))).zero}var I=D,J=c("useCheckMessageIntegrityForSecureThread")(a,r.threadKey,r.threadType);E=b("cr:15982")(!1,r,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);f[13]!==r.threadType?(H=d("LSMessagingThreadTypeUtil").isArmadilloSecure(r.threadType),f[13]=r.threadType,f[14]=H):H=f[14];var K=H;F=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();D=F==="ChatTab";f[15]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("justknobx")._("2575"),f[15]=a):a=f[15];H=a;f[16]===Symbol["for"]("react.memo_cache_sentinel")?(F=c("justknobx")._("2038"),f[16]=F):F=f[16];a=F;F=D?a:H;f[17]!==J||f[18]!==K||f[19]!==r.threadKey?(D=function(a,b,c,e){K&&J(a,b,c,e);a=d("MWChatInteraction").getInteractionTraceForThreadKey((k||(k=d("I64"))).to_string(r.threadKey));if(a==null)return;a.addMarkerPoint("page_loaded","AppTiming",void 0,{page_index:e,page_size:c,total_number_of_messages:b.length})},f[17]=J,f[18]=K,f[19]=r.threadKey,f[20]=D):D=f[20];f[21]!==z||f[22]!==r.threadKey||f[23]!==r.threadType?(a=function(){return l.jsx(u,{theme:z,threadKey:r.threadKey,threadType:r.threadType})},f[21]=z,f[22]=r.threadKey,f[23]=r.threadType,f[24]=a):a=f[24];f[25]!==r.threadKey||f[26]!==r.threadType?(H=function(){return l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),l.jsx(c("MWContextBannerWithKeyboardFocus.react"),{threadKey:r.threadKey,threadType:r.threadType})]})},f[25]=r.threadKey,f[26]=r.threadType,f[27]=H):H=f[27];var L;f[28]!==x||f[29]!==i||f[30]!==I||f[31]!==B||f[32]!==r?(L=function(a){var b=a.domElementRef,e=a.message,f=a.messageAssociatedData,g=a.nextMessage,h=a.prevMessage;a=a.rowIndexFromBottom;var j=c("mwpMessageIsReply")(e),m=(k||(k=d("I64"))).equal(e.senderId,x);return l.jsx(c("CometErrorBoundary.react"),{fallback:function(){return l.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:m,isReply:j})},children:l.jsx(c("MAWMessageListRow.react"),{domElementRef:b,entryPoint:i,lastEbMessageTime:I,messageAssociatedData:f,modal:B,row:{message:e,nextMessage:g,prevMessage:h},rowIndexFromBottom:a,thread:r})})},f[28]=x,f[29]=i,f[30]=I,f[31]=B,f[32]=r,f[33]=L):L=f[33];var M;f[34]!==g||f[35]!==i||f[36]!==m||f[37]!==E||f[38]!==F||f[39]!==e||f[40]!==a||f[41]!==H||f[42]!==L||f[43]!==D||f[44]!==r?(M=l.jsx(c("MWPRelayBaseMessageList.react"),{entryPoint:i,onPageLoaded:D,onScrollToBottom:m,pageSize:F,ref:e,renderFooter:a,renderHeader:H,renderJumpToMostRecentMessageButton:q,renderLoadingAnimation:v,renderRow:L,secondaryThread:g,shouldPausePageLoadTracking:E,thread:r}),f[34]=g,f[35]=i,f[36]=m,f[37]=E,f[38]=F,f[39]=e,f[40]=a,f[41]=H,f[42]=L,f[43]=D,f[44]=r,f[45]=M):M=f[45];g=M;f[46]===Symbol["for"]("react.memo_cache_sentinel")?(m={className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d"},f[46]=m):m=f[46];f[47]===Symbol["for"]("react.memo_cache_sentinel")?(E="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",f[47]=E):E=f[47];f[48]!==g||f[49]!==C?(F=b("cr:3907")==null?g:l.jsx(b("cr:3907"),{id:C,children:g}),f[48]=g,f[49]=C,f[50]=F):F=f[50];f[51]!==y||f[52]!==B||f[53]!==F?(e=l.jsx(c("MWBlockingProtectionContext.react").Provider,{children:l.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:y,modal:B,setModal:A,children:F})}),f[51]=y,f[52]=B,f[53]=F,f[54]=e):e=f[54];f[55]!==e||f[56]!==r?(a=l.jsx(d("CometPageletWithDiv.react").Placeholder,{className:E,fallback:null,name:"MWV2MessageList",children:l.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:r,children:e})}),f[55]=e,f[56]=r,f[57]=a):a=f[57];f[58]!==C||f[59]!==a?(H=l.jsx("div",babelHelpers["extends"]({},m,{"data-testid":void 0,id:C,children:a})),f[58]=C,f[59]=a,f[60]=H):H=f[60];return H}function v(a){return l.jsx(c("MWInboxThreadMessagesSpinner.react"),{vcIgnore:a})}v.displayName=v.name+" [from "+f.id+"]";function w(a){return c("FBLogger")("messenger_e2ee_web").catching(a).warn("Unable to get last EB message timestamp")}a=m;g["default"]=a}),98);
__d("MWPOneToOneThreadBlockedContext.react",["I64","Int64Hooks","LSContactBlockedByViewerStatus","LSIntEnum","MWV2OneToOneThreadBlockedContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e=a.children,f=a.participants,g=a.thread,h;b[0]!==f||b[1]!==g.threadType?(a=function(){if(!((i||(i=d("I64"))).equal(g.threadType,(j||(j=d("LSIntEnum"))).ofNumber(1))||(i||(i=d("I64"))).equal(g.threadType,(j||(j=d("LSIntEnum"))).ofNumber(15))))return!1;var a={contents:!1};f.forEach(function(b,e,f){if(!(i||(i=d("I64"))).equal(b[1].blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))){a.contents=!0;return}});return a.contents},h=[g.threadType,f],b[0]=f,b[1]=g.threadType,b[2]=a,b[3]=h):(a=b[2],h=b[3]);a=d("Int64Hooks").useMemoInt64(a,h);b[4]!==a||b[5]!==e?(h=k.jsx(d("MWV2OneToOneThreadBlockedContext.react").MWV2OneToOneThreadBlockedContext,{blocked:a,children:e}),b[4]=a,b[5]=e,b[6]=h):h=b[6];return h}g["default"]=a}),98);
__d("MWV2SeenHead.react",["GenderConst","I64","LSIntEnum","MWMessageDeliveryStatus","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b,e=a[0];a=a[1];return{gender:c("GenderConst").NOT_A_PERSON,id:(h||(h=d("I64"))).to_string(a.id),imageSrc:c("getLSMediaContactProfilePictureUrl")(a),name:(b=e.nickname)!=null?b:a.name,timestamp:h.to_float(e.readActionTimestampMs)}}function a(a,b){var c={contents:(h||(h=d("I64"))).zero};a.forEach(function(a,e,f){e=a[0];if(!(h||(h=d("I64"))).equal(e.contactId,b)&&(h||(h=d("I64"))).gt(e.deliveredWatermarkTimestampMs,c.contents)){c.contents=e.deliveredWatermarkTimestampMs;return}});return c.contents}function b(a){return new Set([(h||(h=d("I64"))).to_string(a)])}function e(a,b,c,e,f,g){var k=[];b.forEach(function(b,e,f){if(c.has(e)||a.isAdminMessage)return;if(!(h||(h=d("I64"))).equal(a.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2)))return;f=b[0];var l=(h||(h=d("I64"))).equal(a.senderId,f.contactId);f=h.le(a.timestampMs,f.readWatermarkTimestampMs);if(l||f){k.push(j(b));if(!g){c.add(e);return}else return}});var l=k.length===0&&c.size===1;if(k.length<=0)if((h||(h=d("I64"))).equal(a.senderId,f))return d("MWMessageDeliveryStatus").getDeliveryStatusForMessageSentByYou(a,e,l);else return{type:"NoneStatus"};if(!g)if(k.length>1)return{heads:k,type:"MultipleSeenHeads"};else return{head:k[0],type:"SingleSeenHead"};f=k.length===b.size-1;return{delivered:f,heads:k,type:"DeliveredAndRead"}}g.calculateMaxDeliveredTimestamp=a;g.makeExistingSeenHeads=b;g.deliveryStatusForMessage=e}),98);
__d("MWPBaseMessageList_DEPRECATED",["BaseHeadingContextWrapper.react","CometHideableComponentExperiment.react","LSMessagingThreadTypeUtil","MWPActor.react","MWPMessageAuthor.react","MWPOneToOneThreadBlockedContext.react","MWV2SeenHead.react","gkx","justknobx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={backgroundColor:{backgroundColor:"x1eb86dx",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(10),e=a.children,f=a.messages,g=a.participants,h=a.renderRow;a=a.thread;var k=d("MWPActor.react").useActor(),l;if(b[0]!==k||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==h||b[5]!==a){l=Symbol["for"]("react.early_return_sentinel");bb0:{var m=d("MWV2SeenHead.react").calculateMaxDeliveredTimestamp(g,k),n=d("MWV2SeenHead.react").makeExistingSeenHeads(k),o=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),p=[];for(var q=f.length-1|0;q>=0;--q){var r=q===0?void 0:f[q-1|0],s=q>=(f.length-1|0)?void 0:f[q+1|0],t=f[q],u=d("MWV2SeenHead.react").deliveryStatusForMessage(t,g,n,m,k,o);p.push(i.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_view",disableHiding:!0,unmountXStyle:j.backgroundColor,children:i.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:t.senderId,threadKey:t.threadKey,children:h({message:t,nextMessage:s,prevMessage:r,rowIndexFromBottom:c("gkx")("7810")?f.length-1-q:0,status:u})})},c("justknobx")._("2310")?t.offlineThreadingId:t.messageId))}if(p.length===0){l=null;break bb0}else{b[7]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x1ja2u2z"},b[7]=s):s=b[7];r=i.jsx(c("MWPOneToOneThreadBlockedContext.react"),{participants:g,thread:a,children:e(p.reverse())});b[8]!==r?(u=i.jsx(c("BaseHeadingContextWrapper.react"),{children:i.jsx("div",babelHelpers["extends"]({},s,{children:r}))}),b[8]=r,b[9]=u):u=b[9];l=u;break bb0}}b[0]=k;b[1]=e;b[2]=f;b[3]=g;b[4]=h;b[5]=a;b[6]=l}else l=b[6];if(l!==Symbol["for"]("react.early_return_sentinel"))return l}g["default"]=a}),98);
__d("MAWMessageList_DEPRECATED.react",["BaseTheme.react","CometPageletWithDiv.react","CometScreenReaderText.react","I64","Int64Hooks","MAWMessageListRow.react","MWBaseTheme","MWBlockingProtectionContext.react","MWPBaseMessageList_DEPRECATED","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2MessageRowSimple.react","ReQL","ReQLSuspense","cr:3907","react","react-compiler-runtime","useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB","useMWMessageRowTheme","useMWPAriaLabelForMessageListGrid","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i,m=l.useEffect,n=l.useId,o=l.useState;function p(a,b){var c=d("react-compiler-runtime").c(9),e;c[0]!==b.tables.contacts||c[1]!==b.tables.participants||c[2]!==a.threadKey?(e=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).map(q)},c[0]=b.tables.contacts,c[1]=b.tables.participants,c[2]=a.threadKey,c[3]=e):e=c[3];var g;c[4]!==b||c[5]!==a.threadKey?(g=[b,a.threadKey],c[4]=b,c[5]=a.threadKey,c[6]=g):g=c[6];e=d("ReQLSuspense").useArray(e,g,f.id+":76");c[7]!==e?(g=new Map(e),c[7]=e,c[8]=g):g=c[8];return g}function q(a){var b=a[0];a=a[1];return[(j||(j=d("I64"))).to_string(a.id),[b,a]]}function r(a,b){var c=d("react-compiler-runtime").c(4),e,f;c[0]!==a||c[1]!==b?(e=function(){var c;if((a==null?void 0:(c=a.scrollPositionRef.current)==null?void 0:c.type)==="Bottom"&&b.length>0){c=a.scrollerRef.current;c==null?void 0:c.scrollToBottom()}},f=[b,a],c[0]=a,c[1]=b,c[2]=e,c[3]=f):(e=c[2],f=c[3]);m(e,f)}function a(a){var b=d("react-compiler-runtime").c(11),e=a.scrollerRefs,f=a.theme,g=a.threadKey;a=a.threadType;f=f===void 0?d("MWBaseTheme").empty:f;var h=d("MWPTypingIndicators.react").useTypingParticipants(g),i=d("MWPTypingIndicators.react").useAccessibilityText(h);r(e,h);if(h.length>0){b[0]!==i?(e=k.jsx("div",{"aria-live":"polite",children:k.jsx(c("CometScreenReaderText.react"),{text:i})}),b[0]=i,b[1]=e):e=b[1];b[2]!==g||b[3]!==a?(h=k.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:g,threadType:a}),b[2]=g,b[3]=a,b[4]=h):h=b[4];b[5]!==e||b[6]!==h?(i=k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[e,h]})}),b[5]=e,b[6]=h,b[7]=i):i=b[7];b[8]!==i||b[9]!==f?(g=k.jsx(c("BaseTheme.react"),{config:f,children:i}),b[8]=i,b[9]=f,b[10]=g):g=b[10];return g}else return null}var s=d("withCometPlaceholder").withCometPlaceholder(a,null,"MAWTypingIndicators");function e(a){var e=d("react-compiler-runtime").c(22),f=a.messageElementRefs,g=a.messages,i=a.scrollerRefs,j=a.thread;a=(h||(h=c("useReStore")))();a=p(j,a);var l=c("useMWPAriaLabelForMessageListGrid")(j),m=c("useMWMessageRowTheme")(),q=o(""),r=q[0],t=q[1],u=n(),v;e[0]!==j.threadType?(q=function(){return j.threadType},v=[j.threadType],e[0]=j.threadType,e[1]=q,e[2]=v):(q=e[1],v=e[2]);var w=d("Int64Hooks").useMemoInt64(q,v),x=c("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB")(j.threadKey);e[3]!==x||e[4]!==f||e[5]!==r||e[6]!==j?(q=function(a){var b=a.message,d=a.messageAssociatedData,e=a.nextMessage,g=a.prevMessage;a=a.rowIndexFromBottom;return k.jsx(c("MAWMessageListRow.react"),{domElementRef:f.set(b.messageId),lastEbMessageTime:x,messageAssociatedData:d,modal:r,row:{message:b,nextMessage:e,prevMessage:g},rowIndexFromBottom:a,thread:j})},e[3]=x,e[4]=f,e[5]=r,e[6]=j,e[7]=q):q=e[7];e[8]!==l||e[9]!==u||e[10]!==r||e[11]!==i||e[12]!==m||e[13]!==j||e[14]!==w?(v=function(a){a=k.jsxs(k.Fragment,{children:[a,k.jsx(s,{scrollerRefs:i,theme:m,threadKey:j.threadKey,threadType:w})]});return k.jsx("div",{"data-testid":void 0,id:u,children:k.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWV2MessageList",children:k.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:j,children:k.jsx(c("MWBlockingProtectionContext.react").Provider,{children:k.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:l,modal:r,setModal:t,children:b("cr:3907")==null?a:k.jsx(b("cr:3907"),{id:u,children:a})})})})})})},e[8]=l,e[9]=u,e[10]=r,e[11]=i,e[12]=m,e[13]=j,e[14]=w,e[15]=v):v=e[15];var y;e[16]!==g||e[17]!==a||e[18]!==q||e[19]!==v||e[20]!==j?(y=k.jsx(c("MWPBaseMessageList_DEPRECATED"),{messages:g,participants:a,renderRow:q,thread:j,children:v}),e[16]=g,e[17]=a,e[18]=q,e[19]=v,e[20]=j,e[21]=y):y=e[21];return y}g["default"]=e}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,g){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return;c("promiseDone")(e.runInTransaction(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f;f=(f=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a[0];a=a[1];return!(h||(h=d("I64"))).equal(a.id,g)}))))!=null?f:[void 0,void 0];f[0];f=f[1];if(f==null)return;var i=babelHelpers["extends"]({},f,{contactViewerRelationship:(h||(h=d("I64"))).of_string("2")});yield b.contacts.upsert([f.id],i);d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&(yield c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(b),{contactId:f.id}))});return function(a){return f.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":39"))}g.call=a}),98);
__d("MAWParseLinkPreviewXMAData",["E2EELinkPreviewXMADataStatus","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a==null?void 0:a.status,e=a==null?void 0:a.data;if(a==null||b==null||e==null)return null;a=(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("E2EELinkPreviewXMADataStatus").DISABLED));b=JSON.parse(e);return Object.keys(b).length===0||b.url==null||a?null:b}g.parseLinkPreviewXMAData=a}),98);
__d("MAWPrepareAttachmentsFromMediaManager",["MAWExternalId","MAWSendFileMsgTypes","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f){d("sendToSentQPLLogger").addSendToSentAnnotations(f,{"int":{media_staging_count:a.length}});var g=b.hasFile,h=b.hasImage;b=b.hasVideo;var i=null;if(b||h||g){b=a[a.length-1];i=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId)}else i=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId());c(i);h=a.reduce(function(a,b){var c=e.get(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId));c!=null?a.push([c,d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId)]):d("sendToSentQPLLogger").markSendToSentPoint(f,"prepare_attachments_from_media_manager_missing_attachment");return a},[]);return{attachmentOfflineId:i,attachments:h}}g.prepareAttachmentsFromMediaManagerImpl=a}),98);
__d("MAWSecureComposerText",["Lexical","LexicalText","MAWJids","MessengerLexicalActorNode","MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.read(function(){var a=d("Lexical").$getRoot().getFirstChild();return a instanceof d("Lexical").ElementNode?a.getChildren().reduce(function(a,b){var c=d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(b)&&b.getRangeType()==="t";if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(b)&&!c){c=b.getEntity();return a+("@"+d("MAWJids").toUserJid(c.id))}return a+b.getTextContent()},""):d("LexicalText").$rootTextContent()})}g.getTextFromEditorState=a}),98);
__d("MAWSecureComposerUtils",["I64","LSMessagingThreadTypeUtil","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWUIJob","MessageRequestsLog","Promise","WAJobOrchestratorTypes","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f,g){if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)){f!=null&&d("MessageRequestsLog").logActionConfirmed(e,8,(i||(i=d("I64"))).to_string(f));c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(a.tables,e.threadKey,"MAWSecureComposerUtils",function(a,c){d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("deleteThread",{chatJid:c,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));return(h||(h=b("Promise"))).resolve()}));return}}g.onDeleteThread=a}),98);
__d("useSecureThreadDetailGetDevices",["I64","LSAuthorityLevel","LSIntEnum","ReQL","ReQLSuspense","WABridgedAPI","WAJids","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useEffect,l=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(11),g;e[0]!==b.tables.contacts||e[1]!==b.tables.participants||e[2]!==a.threadKey?(g=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants,["contactId"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).map(m).filter(Boolean)},e[0]=b.tables.contacts,e[1]=b.tables.participants,e[2]=a.threadKey,e[3]=g):g=e[3];var h;e[4]!==b||e[5]!==a.threadKey?(h=[b,a.threadKey],e[4]=b,e[5]=a.threadKey,e[6]=h):h=e[6];var i=d("ReQLSuspense").useArray(g,h,f.id+":30");e[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=new Set(),e[7]=g):g=e[7];var j=l(g);e[8]!==i?(h=function(){var a=j.current.size!==i.length||!i.every(function(a){return j.current.has(a)});if(!a&&i.length>2)return;a=new Set(i);j.current=a;c("promiseDone")(c("WABridgedAPI").getDevices({ignoreDhash:!1,reason:"details-participants-changed",users:a}))},g=[i],e[8]=i,e[9]=h,e[10]=g):(h=e[9],g=e[10]);k(h,g)}function m(a){var b=a[0];a=a[1];b=b.contactId;return(i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?d("WAJids").toMsgrUserJid((i||(i=d("I64"))).to_string(b)):null}g["default"]=a}),98);
__d("MAWSecureThreadDetail.react",["CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","E2EEMessagingLinkContext.react","I64","LSAuthorityLevel","LSIntEnum","MAWMessageList.react","cr:1683","cr:9776","react","react-compiler-runtime","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useState;function a(a,b){}var n=(f=b("cr:1683"))!=null?f:a;function e(a){var e=d("react-compiler-runtime").c(17),f=a.cutoverOpenThread,g=a.entryPoint,k=a.messageListRef;a=a.thread;var o=(h||(h=c("useReStore")))();c("useSecureThreadDetailGetDevices")(a,o);var p=m(!0),q=p[0],r=p[1];e[0]!==f?(p=f!=null&&(i||(i=d("I64"))).equal(f.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),e[0]=f,e[1]=p):p=e[1];p=p;n(o,a.threadKey);e[2]!==q||e[3]!==p?(o=b("cr:9776")!=null&&p&&l.jsx(b("cr:9776"),{isShown:!q}),e[2]=q,e[3]=p,e[4]=o):o=e[4];e[5]!==o?(q=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:o}),e[5]=o,e[6]=q):q=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),e[7]=p):p=e[7];e[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){return r(a)},e[8]=o):o=e[8];e[9]!==f||e[10]!==g||e[11]!==k||e[12]!==a?(p=l.jsxs(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{isSecure:!0,children:[p,l.jsx(c("MAWMessageList.react"),{cutoverOpenThread:f,entryPoint:g,onScrollToBottom:o,ref:k,thread:a})]}),e[9]=f,e[10]=g,e[11]=k,e[12]=a,e[13]=p):p=e[13];e[14]!==q||e[15]!==p?(o=l.jsxs(l.Fragment,{children:[q,p]}),e[14]=q,e[15]=p,e[16]=o):o=e[16];return o}g["default"]=e}),98);
__d("fbjs/lib/ExecutionEnvironment",["ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";var g;e.exports=g||b("ExecutionEnvironment")}),null);
__d("isEventSupported",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h;c("fbjs/lib/ExecutionEnvironment").canUseDOM&&(h=document.implementation&&document.implementation.hasFeature("","")!==!0);function a(a,b){if(!c("fbjs/lib/ExecutionEnvironment").canUseDOM||b===!0&&!("addEventListener"in document))return!1;b="on"+a;var d=b in document;if(!d){var e=document.createElement("div");e.setAttribute(b,"return;");d=typeof e.getAttribute(b)==="function"}!d&&h&&a==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0"));return d}g["default"]=a}),98);
__d("MWChatConversationScroller.react",["BaseScrollableAreaContext","CometThrottle","ExecutionEnvironment","MWXScrollableAreaStyles","emptyFunction","isEventSupported","react","stylex","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useContext,n=b.useEffect,o=b.useImperativeHandle,p=b.useLayoutEffect,q=b.useMemo,r=b.useRef;function s(a,b){a=a!=null?a:20;if(b==null)return!1;else return b.scrollTop+b.clientHeight>=b.scrollHeight-a}function t(a,b){a=a!=null?a:20;if(b==null)return!1;else return b.scrollTop<=a}var u={contained:{contain:"x16qrkmw",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x1odjw0f",overscrollBehavior:"xish69e",$$css:!0}},v=(h||(h=c("ExecutionEnvironment"))).canUseDOM?document.body.style.overscrollBehavior==null&&((e=document.body)==null?void 0:e.style.scrollBoundaryBehavior)==null:!1;d=k.forwardRef(a);function a(a,b){var d=a.boundingClientRectRef,e=a.children,f=a.dispatch,g=a.hasMoreAfter,h=a.onScroll,j=h===void 0?c("emptyFunction"):h,w=a.scrollPositionRef,x=r(f),y=r(null),z=l(function(a){y.current=a;if(d!=null){d.current=a!=null?a.getBoundingClientRect():void 0;return}},[d]);n(function(){x.current=f});var A=function(a,b){b=y.current;if(b!=null){b.scrollTop=a;return}},B=function(a){a===void 0&&(a=!1);var b=y.current;if(b!=null)return A(b.scrollHeight,a)},C=function(a,b){var c=y.current;if(c!=null)return A(c.scrollHeight-(a+c.clientHeight),b)},D=r(!1);D.current=g;var E=function(){var a=w.current,b=y.current;b=b!=null?b.scrollHeight-(b.scrollTop+b.clientHeight):void 0;var c=s(void 0,y.current),d=t(void 0,y.current);w.current=c?D.current?{type:"Island"}:{type:"Bottom"}:b!=null?d?{type:"Top",value:b}:{type:"Between",value:b}:{type:"Bottom"};c=w.current;d=0;var e=0;switch(a.type){case"Bottom":d=1;break;case"Top":case"Between":e=2;break;case"Island":break}if(e===2)switch(c.type){case"Top":d=1;break;case"Between":break;case"Bottom":case"Island":x.current("ScrollToBottom");break}if(d===1){e=0;switch(a.type){case"Top":break;case"Bottom":case"Between":e=2;break}e===2&&c.type==="Top"&&x.current("ScrollToTop")}return j(b)},F=function(a){if(v){var b=a.deltaY>0,c=a.deltaY<0;(b&&s(0,y.current)||c&&t(0,y.current))&&a.preventDefault()}return E()},G=function(a){var b=c("isEventSupported")("mousewheel")?"mousewheel":c("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",d=function(b,c){a.addEventListener(b,c,{passive:!0});return function(){return a.removeEventListener(b,c,{passive:!0})}},e=function(){return a.addEventListener(b,F,{passive:!v})},f=function(){return a.removeEventListener(b,F,{passive:!v})},g=d("mouseenter",e),h=d("mouseleave",f);e=c("CometThrottle")(E,50,{trailing:!0});var i=d("scroll",e),j=d("mouseup",E),k=d("mousedown",E);return function(){f();i();g();h();k();return j()}};n(function(){var a=y.current;if(a==null)return;var b=G(a);return function(){return b()}},[]);p(function(){var a=y.current;a!=null&&a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20&&x.current("ContentDoesNotFillContainer")});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=w.current;switch(a.type){case"Bottom":B();break;case"Top":C(a.value,!1);break;case"Between":case"Island":break}});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=w.current;switch(a.type){case"Bottom":B();break;case"Top":case"Between":C(a.value,!1);break;case"Island":break}},[]);var H=m(c("BaseScrollableAreaContext")),I=q(function(){return{getDOMNode:function(){return y.current}}},[]);h=q(function(){return H.concat([I])},[I,H]);o(b,function(){return{getScroller:function(){return z},isContainerFilled:function(){var a=y.current;if(a==null)return!0;else return!(a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20)},scrollElementIntoViewIfNeeded:function(a){var b=y.current;if(b==null)return;var c=a.getBoundingClientRect();b=b.getBoundingClientRect();c=c.top;b=b.top;if(c<=b){a.scrollIntoView();return}},scrollToBottom:function(){w.current={type:"Bottom"};return B()},scrollToElement:function(a,b){var c=y.current;if(c==null)return;a.scrollIntoView();a=a.getBoundingClientRect();var d=c.getBoundingClientRect();a=a.top;d=d.top;if(a<=d){c.scrollBy(0,-b|0);return E()}},scrollToPosition:C}},[]);return k.jsx(c("BaseScrollableAreaContext").Provider,{children:k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(u.root,u.contained,c("MWXScrollableAreaStyles").themed),{"data-release-focus-from":"CLICK",ref:z,tabIndex:-1,children:e})),value:h})}a.displayName=a.name+" [from "+f.id+"]";b=d;g["default"]=b}),98);
__d("MWV2MessageScroller.react",["LSIntEnum","LSMailboxMessagesRangeQueryDirection","MWChatConversationScroller.react","emptyFunction","react","useMWMarkThreadAsReadWhenNewMessagesArrive"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback;function a(a){var b=a.children,e=a.fetchMore,f=a.hasMoreAfter,g=a.hasMoreBefore,h=a.markThreadAsRead,l=a.onScroll;l=l===void 0?c("emptyFunction"):l;var m=a.scrollerRefs;a=a.thread;h=h;var n=k(function(){var a;return((a=m.scrollPositionRef.current)==null?void 0:a.type)==="Bottom"},[m]),o=k(function(){return!1}),p=c("useMWMarkThreadAsReadWhenNewMessagesArrive")(a,h,n,o);return j.jsx(c("MWChatConversationScroller.react"),{dispatch:function(a){switch(a){case"ContentDoesNotFillContainer":if(g)return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE));else return;case"ScrollToBottom":if(f)return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER));else return p();case"ScrollToTop":return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE))}},hasMoreAfter:f,onScroll:l,ref:m.scrollerRef,scrollPositionRef:m.scrollPositionRef,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useFetchCutoverMessages",["I64","InteractionTracingMetrics","LSIntEnum","LSMailboxMessagesRangeQueryDirection","MAWFetchMoreMessages","MAWStateContext.react","MWPFetchMessagesPageV2","ReQL","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useCallback,m=b.useContext;function a(a,b,e,f,g){var k=(h||(h=c("useReStore")))(),n=m(d("MAWStateContext.react").MAWDispatchContext),o=d("MAWFetchMoreMessages").useSecureDataStorage();return l(function(h){h=(i||(i=d("I64"))).equal(h,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER))?"after":"before";if(e==null)return;c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_start","AppTiming")});c("promiseDone")(c("MWPFetchMessagesPageV2")(k,g,h,d("ReQL").key(e.threadKey,e.minTimestampMs,e.minMessageId),a.threadType,f==null?null:d("ReQL").key(f.threadKey,f.minTimestampMs,f.minMessageId),b==null?void 0:b.threadType,o,n).then(function(){c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_end","AppTiming")})}))},[b==null?void 0:b.threadType,k,n,f,g,o,a.threadType,e])}g["default"]=a}),98);
__d("useMWChatLoadMoreItemsIncrementally",["I64","LSIntEnum","LSMailboxMessagesRangeQueryDirection","react","react-compiler-runtime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");b.useCallback;b.useMemo;var k=b.useRef,l=b.useState,m={contents:void 0};function n(){if(m.contents==null){var a;m.contents=((a=window.document.documentElement)==null?void 0:a.style.overflowAnchor)!=null}return(a=m.contents)!=null?a:!1}function a(a,b,e,f,g,h){var m=d("react-compiler-runtime").c(23);a=a!=null?a:!1;var o=b!=null?b:!0;m[0]!==e?(b=e!=null?e:{type:"Bottom"},m[0]=e,m[1]=b):b=m[1];e=b;b=a||!n();var p=f.length,q;if(m[2]!==e.type||m[3]!==e.value){bb0:switch(e.type){case"Top":case"Between":q=e.value>=200;break bb0;case"Bottom":case"Island":q=!1}m[2]=e.type;m[3]=e.value;m[4]=q}else q=m[4];m[5]!==o||m[6]!==q||m[7]!==p?(a=function(){if(q)return p;return o?window.screen.availHeight<1200?20:40:10},m[5]=o,m[6]=q,m[7]=p,m[8]=a):a=m[8];e=l(a);a=e[0];var r=e[1];m[9]!==f||m[10]!==a?(e=f.slice(-a),m[9]=f,m[10]=a,m[11]=e):e=m[11];e=e;e=e;var s=k(a),t;m[12]!==g||m[13]!==p?(t=function(a){if(!(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE)))throw c("unrecoverableViolation")("Message fetch direction must be 'before'","maw_db");if(s.current+15<=p){s.current=s.current+15;return r(function(){return s.current})}else{g((j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE));if(s.current<p+15){s.current=p+15;return r(function(){return s.current})}}},m[12]=g,m[13]=p,m[14]=t):t=m[14];t=t;if(b){m[15]!==f||m[16]!==g||m[17]!==h?(b=[f,g,h],m[15]=f,m[16]=g,m[17]=h,m[18]=b):b=m[18];return b}f=h||a<p;m[19]!==t||m[20]!==e||m[21]!==f?(b=[e,t,f],m[19]=t,m[20]=e,m[21]=f,m[22]=b):b=m[22];return b}g["default"]=a}),98);
__d("MAWSecureThreadDetail_DEPRECATED.react",["CometHeroHoldTrigger.react","CometPageletWithDiv.react","CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","E2EEMessagingLinkContext.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MAWMessageList_DEPRECATED.react","MWContextBanner.react","MWInboxThreadMessagesSpinner.react","MWPMessageListColumn.react","MWV2MessageScroller.react","MessageForIntegrityCheck","ReQL","ReQLSuspense","cr:15982","cr:9776","emptyFunction","gkx","logMessengerWebFalcoEvent","react","react-compiler-runtime","useCheckMessageIntegrityForSecureThread","useFetchCutoverMessages","useMAWMarkThreadAsRead","useMWChatLoadMoreItemsIncrementally","useMWCurrentVisibleMessage","useMWV2ConversationScrollerRefs","useObserveMessagePageLoad","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useCallback,n=e.useImperativeHandle,o=e.useMemo,p=e.useState,q=10,r=10,s=10,t=30;function u(a,b){var c=(k||(k=d("I64"))).compare(a.primarySortKey,b.primarySortKey);if(c!==0)return c;c=k.compare((c=a.secondarySortKey)!=null?c:(k||(k=d("I64"))).zero,(c=b.secondarySortKey)!=null?c:(k||(k=d("I64"))).zero);return c!==0?c:k.compare(a.timestampMs,b.timestampMs)}function v(a,b){var e=d("react-compiler-runtime").c(12),g=(h||(h=c("useReStore")))(),i;e[0]!==g.tables.messages||e[1]!==a||e[2]!==b.authorityLevel||e[3]!==b.threadKey||e[4]!==b.threadType?(i=function(){var e=d("ReQL").fromTableAscending(g.tables.messages.index("messageDisplayOrder")).getKeyRange(b.threadKey);if(a!=null)return e.bounds({gte:d("ReQL").key(a.minTimestampMs),lte:d("ReQL").key(a.maxTimestampMs)});else if((k||(k=d("I64"))).lt(b.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))||d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType))return e;return d("ReQL").empty()},e[0]=g.tables.messages,e[1]=a,e[2]=b.authorityLevel,e[3]=b.threadKey,e[4]=b.threadType,e[5]=i):i=e[5];var l;e[6]!==g||e[7]!==a||e[8]!==b.authorityLevel||e[9]!==b.threadKey||e[10]!==b.threadType?(l=[g,a,b.authorityLevel,b.threadKey,b.threadType],e[6]=g,e[7]=a,e[8]=b.authorityLevel,e[9]=b.threadKey,e[10]=b.threadType,e[11]=l):l=e[11];return d("ReQLSuspense").useArray(i,l,f.id+":103")}function w(a,b){var e=d("react-compiler-runtime").c(5),g=(h||(h=c("useReStore")))(),i,l;e[0]!==g||e[1]!==a||e[2]!==b?(i=function(){if(b==null)return d("ReQL").empty();var e=d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(b.threadKey);if(a!=null)return d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(b.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs),lte:d("ReQL").key(a.maxTimestampMs)});else if((k||(k=d("I64"))).lt(b.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))||d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType))return e;return d("ReQL").empty()},l=[g,b,a],e[0]=g,e[1]=a,e[2]=b,e[3]=i,e[4]=l):(i=e[3],l=e[4]);return d("ReQLSuspense").useArray(i,l,f.id+":137")}function x(a,b){var c=(k||(k=d("I64"))).compare(a.primarySortKey,b.primarySortKey);if(c!==0)return c;c=a.secondarySortKey;var e=b.secondarySortKey;if(c==null)if(e!=null)return-1;else return(k||(k=d("I64"))).compare(a.timestampMs,b.timestampMs);if(e==null)return 1;c=k.compare(c,e);return c!==0?c:k.compare(a.timestampMs,b.timestampMs)}function y(a,b){var d=(h||(h=c("useReStore")))();return c("useCheckMessageIntegrityForSecureThread")(d,a,b)}function z(a,e,f,g,h){var i=v(a,f),j=y(f.threadKey,f.threadType),l=b("cr:15982")(!1,f,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);d("useObserveMessagePageLoad").useObserveMessagePageLoad(i.map(function(a){return d("MessageForIntegrityCheck").prepMessageForIntegrityCheck(a)}).filter(Boolean),r,j,l,!1);var m=w(e,g);d("Int64Hooks").useEffectInt64(function(){if(g!=null&&m.length===0){var a=g.threadKey,b=g.threadType;c("logMessengerWebFalcoEvent")({threadKey:a,threadType:b},"no_open_messages_in_cutover_thread",h,{cutoverThreadKey:(k||(k=d("I64"))).to_string(f.threadKey),reason:"no_messages_fetched_for_open"})}},[h,m.length,g,f.threadKey]);return o(function(){if(a!=null&&!a.hasMoreBefore)return m.sort(x).concat(i.sort(u));else return i.sort(u)},[a,i,m])}function a(a){var e,f=a.cutoverOpenThread,g=a.entryPoint,i=a.messageListRef,j=a.openThreadLoadingHoldReason;a=a.thread;var k=c("useMWV2ConversationScrollerRefs")(),o=(h||(h=c("useReStore")))(),r=m(function(){var a;return((a=k.scrollPositionRef.current)==null?void 0:a.value)===void 0&&((a=k.scrollPositionRef.current)==null?void 0:a.type)==="Bottom"},[k]),u=c("useMWCurrentVisibleMessage")(a,k.scrollerRef),v=u.messageRange,w=c("useMWCurrentVisibleMessage")(f,k.scrollerRef);w=w.messageRange;var x=c("useFetchCutoverMessages")(a,f,v,w,c("gkx")("2454")&&g==="thread_details"?t:s);e=(e=v==null?void 0:v.hasMoreAfter)!=null?e:!1;var y=p(!1),A=y[0],B=y[1];x=c("useMWChatLoadMoreItemsIncrementally")(e,void 0,void 0,z(v,w,a,f,g),x,(y=v==null?void 0:v.hasMoreBefore)!=null?y:!1);y=x[0];var C=x[1];x=x[2];c("useSecureThreadDetailGetDevices")(a,o);n(i,function(){return{getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction"),restoreScrollPosition:function(){var a=k.scrollerRef.current,b=k.scrollPositionRef.current;if(a!=null&&b!=null)switch(b.type){case"Bottom":a.scrollToBottom();break;case"Top":case"Between":a.scrollToPosition(b.value,!1);break;case"Island":break}}}},[k.scrollPositionRef,k.scrollerRef]);o=null;y.length<q&&(v==null?o="visibleSecureMessageRange-null":v.isLoadingBefore?o="isSecureMessagesLoadingBefore":j!=null?o=j:f!=null&&w==null?o="visibleOpenMessageRange-null":f!=null&&(w==null?void 0:w.isLoadingBefore)&&(o="visibleOpenMessageRangeLoadingBefore"));i=j!=null||f!=null&&(w==null||w.hasMoreBefore);return l.jsxs(l.Fragment,{children:[l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:b("cr:9776")!=null&&f&&l.jsx(b("cr:9776"),{isShown:A})}),l.jsxs(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{isSecure:!0,children:[l.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),l.jsxs(c("MWV2MessageScroller.react"),{fetchMore:C,hasMoreAfter:e,hasMoreBefore:x,markThreadAsRead:c("useMAWMarkThreadAsRead")(a,g),onScroll:function(){B(!r())},scrollerRefs:k,thread:a,children:[l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),l.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWLoadingMessages-"+((v=o)!=null?v:"null"),hold:o!=null}),x||i?l.jsx(c("MWInboxThreadMessagesSpinner.react"),{vcIgnore:o==null}):l.jsx(c("MWContextBanner.react"),{threadKey:a.threadKey,threadType:a.threadType}),l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]}),l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),l.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MAWMessageList",children:l.jsx(c("MAWMessageList_DEPRECATED.react"),{messageElementRefs:u.messageElementRefs.current,messages:y,scrollerRefs:k,thread:a})}),e?l.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):null]})]})]})}a.displayName=a.name+" [from "+f.id+"]";e=l.memo(a);g.MAWSecureThreadDetail_DEPRECATED=e}),98);
__d("MAWSecureThreadQPContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="28750136074634798"}),null);
__d("MAWSecureThreadQPContainerQuery.graphql",["MAWSecureThreadQPContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_E2EE_THREAD_OPEN"}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQPContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"MAWSecureThreadQuickPromotion_eligiblePromotions"}]}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWSecureThreadQPContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{"if":null,kind:"Defer",label:"MAWSecureThreadQPContainerQuery$defer$MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}]},params:{id:b("MAWSecureThreadQPContainerQuery_facebookRelayOperation"),metadata:{},name:"MAWSecureThreadQPContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MAWSecureThreadQuickPromotion_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("MAWSecureThreadQuickPromotion.react",["CometQuickPromotionLoggerContext.react","CometRelay","MAWSecureThreadQuickPromotion_eligiblePromotions.graphql","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("MAWSecureThreadQuickPromotion_eligiblePromotions.graphql");function a(a){var b=d("react-compiler-runtime").c(8);a=a.eligiblePromotions;a=d("CometRelay").useFragment(k,a);if(b[0]!==(a==null?void 0:a.nodes)){var e;e=a==null?void 0:(e=a.nodes)==null?void 0:e.find(l);b[0]=a==null?void 0:a.nodes;b[1]=e}else e=b[1];a=e;a=a==null?void 0:(e=a.comet_qp_sections)==null?void 0:e.renderer_strategy;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e={context_surface_id:8879,context_trigger:"messenger_e2ee_thread_open"},b[2]=e):e=b[2];e=c("useQuickPromotionFalcoEvent")(e);if(a==null)return null;var f;b[3]!==a?(f=j.jsx(d("CometRelay").MatchContainer,{match:a}),b[3]=a,b[4]=f):f=b[4];b[5]!==e||b[6]!==f?(a=j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:f}),b[5]=e,b[6]=f,b[7]=a):a=b[7];return a}function l(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),98);
__d("MAWSecureThreadQPContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","MAWSecureThreadQPContainerQuery.graphql","MAWSecureThreadQuickPromotion.react","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("MAWSecureThreadQPContainerQuery.graphql");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer.Query",children:j.jsx(l,{})}),a[0]=b):b=a[0];return b}function l(){var a=d("react-compiler-runtime").c(2),b=d("CometRelay").useLazyLoadQuery(k,{});b=b==null?void 0:(b=b.viewer)==null?void 0:b.eligible_promotions;if(b==null)return null;var e;a[0]!==b?(e=j.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer.EligiblePromotions",children:j.jsx(c("MAWSecureThreadQuickPromotion.react"),{eligiblePromotions:b})})}),a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("MWFailChatTabOpenQPLEvent",["MWGetChatTabOpenQPLEventTrace"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("MWGetChatTabOpenQPLEventTrace")(a,function(a){a.failTrace(b,!0)})}g["default"]=a}),98);
__d("MWThreadErrorBoundary.react",["CometErrorBoundary.react","FBLogger","MWFailChatTabOpenQPLEvent","MWInboxErrorState.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={errorBoundary:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e=a.children,f=a.message,g=a.threadKey;b[0]!==f||b[1]!==g?(a=function(a){c("MWFailChatTabOpenQPLEvent")(g,a.toString()),c("FBLogger")("messenger_web_entrypoints").catching(a).mustfix(f+": %s",a.toString())},b[0]=f,b[1]=g,b[2]=a):a=b[2];var h;b[3]!==e||b[4]!==a?(h=i.jsx(c("CometErrorBoundary.react"),{fallback:k,onError:a,children:e}),b[3]=e,b[4]=a,b[5]=h):h=b[5];return h}function k(a){return i.jsx(c("MWInboxErrorState.react"),{error:a,plural:!1,source:"thread_error_boundary",xstyle:j.errorBoundary})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWMaybeInsertDualThreadCutoverAdminMessage",["I64","MAWBridgeFireAndForget","MAWMiActOnActThreadReady","Promise","ReQL","ReQLSuspense","WATimeUtils","justknobx","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useEffect;function m(a){return a.showOpenMessageHistory===!1}function a(a){var e=d("react-compiler-runtime").c(20),g=(i||(i=c("useReStore")))(),k;e[0]!==g.tables.mi_act_mapping_table||e[1]!==a?(k=function(){return d("ReQL").fromTableAscending(g.tables.mi_act_mapping_table).getKeyRange(a)},e[0]=g.tables.mi_act_mapping_table,e[1]=a,e[2]=k):k=e[2];var n;e[3]!==g||e[4]!==a?(n=[a,g],e[3]=g,e[4]=a,e[5]=n):n=e[5];k=d("ReQLSuspense").useFirst(k,n,f.id+":34");var o=k==null?void 0:k.jid,p=k==null?void 0:k.serverThreadKey;e[6]!==g.tables.cutover_threads||e[7]!==o?(n=function(){return o?d("ReQL").fromTableAscending(g.tables.cutover_threads).getKeyRange(o).filter(m):d("ReQL").empty()},e[6]=g.tables.cutover_threads,e[7]=o,e[8]=n):n=e[8];e[9]!==g||e[10]!==o?(k=[g,o],e[9]=g,e[10]=o,e[11]=k):k=e[11];var q=d("ReQLSuspense").useFirst(n,k,f.id+":43");e[12]!==g.tables||e[13]!==q||e[14]!==p?(n=function(){if(!q||!p||!c("justknobx")._("1446"))return;c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(g.tables,p,"useMAWMaybeInsertDualThreadCutoverAdminMessage",function(a,c){d("MAWBridgeFireAndForget").fireAndForget("backend","writeAdminMessageForDualThreadCutover",{chatJid:c,cutoverTimestampMs:d("WATimeUtils").castToMillisTime((j||(j=d("I64"))).to_float(q.timestampMs))});return(h||(h=b("Promise"))).resolve()}))},e[12]=g.tables,e[13]=q,e[14]=p,e[15]=n):n=e[15];e[16]!==g||e[17]!==q||e[18]!==p?(k=[g,q,p],e[16]=g,e[17]=q,e[18]=p,e[19]=k):k=e[19];l(n,k)}g["default"]=a}),98);
__d("useMAWMaybeResetEphemeralSettings",["DateConsts","Int64Hooks","MAWEphemeralGatingUtil","MAWGetEphemeralSettings","MAWMiActOnActThreadReady","Promise","WALoggerDeferred","promiseDone","react","react-compiler-runtime","updateEphemeralDuration","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: fail to reset settings for chatJid ",", previous settings was ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: success to reset settings for chatJid ",", previous settings was ",""]);k=function(){return a};return a}var l=(i||d("react")).useRef,m=0;function a(a){var b=d("react-compiler-runtime").c(4),e=c("useAsyncReStore")(),f=l(null),g,h;b[0]!==e||b[1]!==a?(g=function(){(f.current==null||f.current!==a)&&(f.current=a,d("MAWEphemeralGatingUtil").isResetEphemeralSettingsEnabled()&&c("promiseDone")(e,function(b){return c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(b.tables,a,"useMAWResetEphemeralSettings",function(b,c){return n(a,c)}))}))},h=[a,e],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);d("Int64Hooks").useEffectInt64(g,h)}function n(a,e){var f=d("MAWEphemeralGatingUtil").getExpirationOptions();return e!=null?d("MAWGetEphemeralSettings").getEphemeralSetting(e,a).then(function(b){b&&b.ephemeralExpirationInSec>0&&b.ephemeralExpirationInSec<d("DateConsts").SEC_PER_DAY&&!f.includes(b.ephemeralExpirationInSec)&&c("promiseDone")(c("updateEphemeralDuration")(e,m,!0,function(){void d("WALoggerDeferred").LOG(k(),e,b.ephemeralExpirationInSec)},function(){void d("WALoggerDeferred").LOG(j(),e,b.ephemeralExpirationInSec)},a))}):(h||(h=b("Promise"))).resolve()}g["default"]=a}),98);
__d("MAWSecureThreadDetailWrapper.react",["CometPageletWithDiv.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSInitiateThreadMigrationStoredProcedure","LSIntEnum","MAWSecureThreadDetail_DEPRECATED.react","MAWSecureThreadQPContainer.react","MAWThreadCutover","MWEnsureCutoverOpenThreadExists","MWThreadErrorBoundary.react","MemoryUtils","QPLUserFlow","WAHex","cr:1957","justknobx","logMessengerWebFalcoEvent","qpl","react","react-compiler-runtime","useAsyncReStore","useMAWMaybeInsertDualThreadCutoverAdminMessage","useMAWMaybeResetEphemeralSettings"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;e.useCallback;var l=e.useEffect,m=e.useRef,n=e.useState;function o(a,b){var e=d("react-compiler-runtime").c(23),f;e[0]!==a?(f=(i||(i=d("I64"))).to_int32(a),e[0]=a,e[1]=f):f=e[1];var g=f,h;e[2]!==b||e[3]!==g||e[4]!==a?(f=function(){c("QPLUserFlow").start(c("qpl")._(25306607,"1883"),{annotations:{string:{entryPoint:b,thread_id:(i||(i=d("I64"))).to_string(a)}},instanceKey:g})},h=[b,g,a],e[2]=b,e[3]=g,e[4]=a,e[5]=f,e[6]=h):(f=e[5],h=e[6]);d("Int64Hooks").useEffectInt64(f,h);e[7]!==g?(f=function(a){c("QPLUserFlow").addPoint(c("qpl")._(25306607,"1883"),a,{instanceKey:g})},e[7]=g,e[8]=f):f=e[8];h=f;e[9]!==g?(f=function(a){c("QPLUserFlow").endSuccess(c("qpl")._(25306607,"1883"),{annotations:{string:{is_cutover:String(a)}},instanceKey:g})},e[9]=g,e[10]=f):f=e[10];f=f;var j;e[11]!==g?(j=function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(25306607,"1883"),{string:a},{instanceKey:g})},e[11]=g,e[12]=j):j=e[12];j=j;var k;e[13]!==g?(k=function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(25306607,"1883"),{"int":a},{instanceKey:g})},e[13]=g,e[14]=k):k=e[14];k=k;var l;e[15]!==g?(l=function(a,b){c("QPLUserFlow").endFailure(c("qpl")._(25306607,"1883"),a,{annotations:{string:{is_cutover:String(b)}},instanceKey:g})},e[15]=g,e[16]=l):l=e[16];l=l;var m;e[17]!==k||e[18]!==j||e[19]!==h||e[20]!==l||e[21]!==f?(m={addQplAnnotations:j,addQPLAnnotationsInt:k,addQplPoint:h,qplEndFailure:l,qplEndSuccess:f},e[17]=k,e[18]=j,e[19]=h,e[20]=l,e[21]=f,e[22]=m):m=e[22];return m}function p(a,b,c){if(c!=null)return"show_od_cutover";if(a==null)return"not_cutover_thread";return b!=null?a.showOpenMessageHistory===!1?"dual_thread_cutover":"show":"loading"}function q(a){var e=d("react-compiler-runtime").c(66),g=a.entryPoint,h=a.messageListRef,q=a.thread;a=o(q.threadKey,g);var r=a.addQplAnnotations,s=a.addQPLAnnotationsInt,t=a.addQplPoint,u=a.qplEndFailure,v=a.qplEndSuccess;c("useMAWMaybeResetEphemeralSettings")(q.threadKey);c("useMAWMaybeInsertDualThreadCutoverAdminMessage")(q.threadKey);var w=m("");e[0]!==r||e[1]!==u||e[2]!==v?(a=function(a){switch(a){case"loading":return;case"show":case"show_od_cutover":r({showOpenHistory:"show"});v(!0);return;case"not_cutover_thread":v(!1);return;case"dual_thread_cutover":v(!1);return;case"error":u(w.current,!0);return;default:throw c("FBLogger")("messenger_web_entrypoints").mustfixThrow("[MiActMapping] Unreachable showOpenMsgHistoryState: %s",a)}},e[0]=r,e[1]=u,e[2]=v,e[3]=a):a=e[3];var x=a,y=c("useAsyncReStore")();e[4]!==y?(a=function(a,b){return y.then(function(e){return e.runInTransaction(function(e){return c("LSInitiateThreadMigrationStoredProcedure")(c("LSFactory")(e),{armadilloThreadKey:b,openMessageThreadKey:a,shouldCopyMessages:!1,traceId:d("WAHex").randomHex(8)})},"readwrite",void 0,void 0,f.id+":265")})},e[4]=y,e[5]=a):a=e[5];var z=a,A=d("MAWThreadCutover").useGetCutoverMapping(q.threadKey),B=d("MAWThreadCutover").useCutoverOpenThread(q.threadKey);d("MWEnsureCutoverOpenThreadExists").useMWEnsureCutoverOpenThreadExists(q.threadKey);var C=d("MAWThreadCutover").useODCutoverEligibleOpenOneToOneThread(q.threadKey);e[6]!==A||e[7]!==B||e[8]!==C?(a=p(A,B,C),e[6]=A,e[7]=B,e[8]=C,e[9]=a):a=e[9];a=n(a);var D=a[0],E=a[1],F;e[10]!==A||e[11]!==B||e[12]!==x||e[13]!==C||e[14]!==D?(a=function(){x(D);if(D==="show"||D==="dual_thread_cutover")return;if(C!=null)return E("show_od_cutover");if(A==null)return;if(B==null)return E("loading");else if(A.showOpenMessageHistory!==!1)return E("show");else return E("dual_thread_cutover")},F=[A,B,x,C,D],e[10]=A,e[11]=B,e[12]=x,e[13]=C,e[14]=D,e[15]=a,e[16]=F):(a=e[15],F=e[16]);d("Int64Hooks").useEffectInt64(a,F);var G=m(!1);e[17]!==q.authorityLevel?(a=(i||(i=d("I64"))).ge(q.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),e[17]=q.authorityLevel,e[18]=a):a=e[18];F=a;e[19]!==F?(a=F&&c("justknobx")._("2274")?k.jsx(c("MAWSecureThreadQPContainer.react"),{}):null,e[19]=F,e[20]=a):a=e[20];F=a;e[21]!==s||e[22]!==r||e[23]!==t||e[24]!==A||e[25]!==z||e[26]!==u?(a=function(){if((A==null?void 0:A.armadilloThreadId)==null||(A==null?void 0:A.openThreadId)==null)return;if(G.current===!0)return;G.current=!0;t("thread_migration_initiating_start");var a=d("MemoryUtils").getCurrentMemory();a=a.usedJSHeapSize;s({usedJSHeapSizeStart:a});r();z(A.openThreadId,A.armadilloThreadId).then(function(){G.current=!1;t("thread_migration_initiating_end");var a=d("MemoryUtils").getCurrentMemory();a=a.usedJSHeapSize;s({usedJSHeapSizeEnd:a})})["catch"](function(a){G.current=!1,w.current="fail_to_init_thread_migration",E("error"),c("FBLogger")("messenger_web_entrypoints").catching(a).mustfix("fail_to_init_thread_migration"),u(w.current,!0)})},e[21]=s,e[22]=r,e[23]=t,e[24]=A,e[25]=z,e[26]=u,e[27]=a):a=e[27];var H=A==null?void 0:A.armadilloThreadId,I=A==null?void 0:A.openThreadId,J;e[28]!==s||e[29]!==r||e[30]!==t||e[31]!==z||e[32]!==u||e[33]!==v||e[34]!==I||e[35]!==H?(J=[s,r,t,H,I,z,u,v],e[28]=s,e[29]=r,e[30]=t,e[31]=z,e[32]=u,e[33]=v,e[34]=I,e[35]=H,e[36]=J):J=e[36];l(a,J);var K=B!=null;e[37]!==(A==null?void 0:A.openThreadId)||e[38]!==g||e[39]!==K||e[40]!==x||e[41]!==D||e[42]!==q.threadKey||e[43]!==q.threadType?(I=function(){var a;if(w.current==="")return;c("logMessengerWebFalcoEvent")({threadKey:q.threadKey,threadType:q.threadType},"no_open_messages_in_cutover_thread",g,{cutoverThreadKey:(i||(i=d("I64"))).to_string((a=A==null?void 0:A.openThreadId)!=null?a:(i||(i=d("I64"))).neg_one),hasCutoverOpenThread:K.toString(),reason:w.current,showOpenMsgHistoryState:D});x(D)},e[37]=A==null?void 0:A.openThreadId,e[38]=g,e[39]=K,e[40]=x,e[41]=D,e[42]=q.threadKey,e[43]=q.threadType,e[44]=I):I=e[44];e[45]!==A||e[46]!==g||e[47]!==K||e[48]!==x||e[49]!==D||e[50]!==q.threadKey||e[51]!==q.threadType?(H=[A,g,D,K,q.threadKey,q.threadType,x],e[45]=A,e[46]=g,e[47]=K,e[48]=x,e[49]=D,e[50]=q.threadKey,e[51]=q.threadType,e[52]=H):H=e[52];d("Int64Hooks").useEffectInt64(I,H);e[53]!==B||e[54]!==g||e[55]!==h||e[56]!==C||e[57]!==D||e[58]!==q?(a=b("cr:1957")!=null?k.jsx(b("cr:1957"),{cutoverOpenThread:D==="show_od_cutover"?C:D==="show"?B:void 0,entryPoint:g,messageListRef:h,thread:q}):k.jsx(d("MAWSecureThreadDetail_DEPRECATED.react").MAWSecureThreadDetail_DEPRECATED,{cutoverOpenThread:D==="show"?B:void 0,entryPoint:g,messageListRef:h,openThreadLoadingHoldReason:D==="loading"?"loadingOpenThread":null,thread:q}),e[53]=B,e[54]=g,e[55]=h,e[56]=C,e[57]=D,e[58]=q,e[59]=a):a=e[59];e[60]!==F||e[61]!==a?(J=k.jsxs(k.Fragment,{children:[F,a]}),e[60]=F,e[61]=a,e[62]=J):J=e[62];e[63]!==J||e[64]!==q.threadKey?(I=k.jsx(c("MWThreadErrorBoundary.react"),{message:"Error while loading secure thread messages",threadKey:q.threadKey,children:J}),e[63]=J,e[64]=q.threadKey,e[65]=I):I=e[65];return I}function a(a){var b=d("react-compiler-runtime").c(5),c=a.entryPoint,e=a.messageListRef;a=a.thread;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",b[0]=f):f=b[0];b[1]!==c||b[2]!==e||b[3]!==a?(f=k.jsx(d("CometPageletWithDiv.react").Div,{className:f,name:"MAWSecureThreadDetailWrapper",children:k.jsx(q,{entryPoint:c,messageListRef:e,thread:a})}),b[1]=c,b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("MAWSecureTypingState",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MAWBridgeFireAndForget","MAWMiActOnActThreadReady","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","ReQLSuspense","WAChatState","WAJids","asyncToGeneratorRuntime","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if(!(j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(15)))return(i||(i=b("Promise"))).resolve(!0);f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(e).filter(function(a){return!(j||(j=d("I64"))).equal(a.contactId,g)})));if(f==null)return!1;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(f.contactId)));return e==null?!1:(j||(j=d("I64"))).equal(e.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))});return m.apply(this,arguments)}function a(a,e,g){var m=d("react-compiler-runtime").c(24),o=(h||(h=c("useReStore")))(),p=d("MWPActor.react").useActor(),q;m[0]!==e?(q=(j||(j=d("I64"))).to_string(e),m[0]=e,m[1]=q):q=m[1];q=q;var r=c("MessengerWebUXLogger").useInteractionLogger(),s;m[2]!==o.tables.participants||m[3]!==e?(s=function(){return d("ReQL").fromTableAscending(o.tables.participants,["contactId"]).getKeyRange(e).map(n)},m[2]=o.tables.participants,m[3]=e,m[4]=s):s=m[4];var t;m[5]!==o||m[6]!==e?(t=[o,e],m[5]=o,m[6]=e,m[7]=t):t=m[7];s=d("ReQLSuspense").useArray(s,t,f.id+":83");m[8]!==p||m[9]!==a||m[10]!==o||m[11]!==r||m[12]!==e||m[13]!==g?(t=function(f){(j||(j=d("I64"))).ge(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(g)&&c("promiseDone")(l(o,e,g,p).then(function(a){return!a?(i||(i=b("Promise"))).resolve():d("MAWMiActOnActThreadReady").onActThreadReady(o.tables,e,"MAWSecureTypingState",function(a,c){r==null?void 0:r({eventName:"send_typing_indicators",threadKey:e,threadType:g});d("MAWBridgeFireAndForget").fireAndForget("backend","sendChatStateFromComposer",{chatJid:c,state:f?d("WAChatState").TYPING:d("WAChatState").IDLE});return(i||(i=b("Promise"))).resolve()})}))},m[8]=p,m[9]=a,m[10]=o,m[11]=r,m[12]=e,m[13]=g,m[14]=t):t=m[14];var u;m[15]!==p||m[16]!==a||m[17]!==o||m[18]!==r||m[19]!==e||m[20]!==q||m[21]!==g||m[22]!==s?(u=[o,s,a,e,g,p,q,r],m[15]=p,m[16]=a,m[17]=o,m[18]=r,m[19]=e,m[20]=q,m[21]=g,m[22]=s,m[23]=u):u=m[23];return d("Int64Hooks").useCallbackInt64(t,u)}function n(a){return d("WAJids").toMsgrUserJid((j||(j=d("I64"))).to_string(a.contactId))}g.useOnTypingStateChanged=a}),98);
__d("MAWSendExternalLinkXMAV2",["ConstUriUtils","MAWBridgeSendAndReceive","MAWExternalId","MAWExternalLinkUtil","MAWGetEphemeralSettings","MAWImagePreProcess","MAWMessageSendReporter","MAWMessageSendReporterV2","MAWParseXMAProtocol","MAWXMALoggingUtils","MWPBumpEntityKey","WAArmadilloXMA.pb","WALogger","WAMediaQplHelper","WAResultOrError","asyncToGeneratorRuntime","justknobx","qpl","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['S410301 The externalLinkUrl set as native and action URL in XMA is not a valid URI"']);h=function(){return a};return a}function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.chatJid,f=a.commands,g=a.mentionedJids,i=a.message,j=a.offlineAttachmentId,k=a.optimisticMessageData,l=a.previewBlob,m=a.quote,n=a.s2sInstanceKey,o=a.source,p=a.threadKey;a=a.xmaData;d("sendToSentQPLLogger").markSendToSentPoint(n,"send_secure_link_preview_xma_message_start");p=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(e,p));var q=void 0;if(l!=null&&d("MAWExternalLinkUtil").allowedPreviewTypes.includes(l.type)){l=new File([l],"preview",{type:l.type});l=(yield d("MAWImagePreProcess").generateImageThumbnailInWorkerWithFallback(l,c("justknobx")._("2033")));var r=new File([l.jpegThumbnail],"preview",{type:"image/jpeg"});q={file:r,height:l.height,width:l.width};d("sendToSentQPLLogger").addSendToSentAnnotations(n,{string:{sent_xma_preview_file_size_bucket:d("WAMediaQplHelper").convertIntegerSizeToStringBucket(q.file.size)}})}d("sendToSentQPLLogger").addSendToSentAnnotations(n,{bool:{has_xma_preview:q!=null}});r={commands:f?Array.from(f):void 0,content:i,ephemeralSetting:p==null?void 0:p,mentionedJids:g?Array.from(g):void 0,offlineAttachmentId:j==null?void 0:j,optimisticMsg:k==null?void 0:{msgId:k==null?void 0:k.messageExternalId,ts:k==null?void 0:k.offlineMsgTimestamp},quote:m,source:o,xmaMessageType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE};f=(l=d("ConstUriUtils").getUri(a.url))==null?void 0:l.getDomain();i=d("MAWXMALoggingUtils").getXmaTargetTypeStringFromEnum(r.xmaMessageType);d("sendToSentQPLLogger").addSendToSentAnnotations(n,{string:{xmaTargetType:i}});d("ConstUriUtils").isValidUri(a.url)||d("WALogger").ERROR(h());d("MAWParseXMAProtocol").isURLValid(a.url,d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE,!1,!0)?d("MWPBumpEntityKey").bumpEntityKey("maw.xma_invalid_url","web_link_preview_url_valid"):d("MWPBumpEntityKey").bumpEntityKey("maw.xma_invalid_url","web_link_preview_url_invalid");g={defaultCTA:{actionUrl:a.url,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:a.url},overlayIconGlyph:void 0,subtitleText:a.author_name,titleText:(p=a.title)!=null?p:f};d("sendToSentQPLLogger").markSendToSentPoint(n,"sending_message_to_wajob_start");m=(j=k==null?void 0:k.messageExternalId)!=null?j:d("MAWExternalId").generateExternalId();l=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendXMAShareMsg",{args:r,chatJid:e,previewFile:(o=q)!=null?o:void 0,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:n,xmaArgs:g,xmaMsgExternalId:m});d("sendToSentQPLLogger").markSendToSentPoint(n,"sending_message_to_wajob_end");if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())return l;else{yield d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:e,externalId:m},l,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:n},b);return d("WAResultOrError").makeResult({description:"removal pending rollout of Message Send Reporter V2",messageType:"fixMe"})}});return i.apply(this,arguments)}g.sendExternalLinkXMAV2=a}),98);
__d("MAWSendSecureAttachment",["FBLogger","I64","MAWBridgeSendAndReceive","MAWDbMsg","MAWGetProtocolMsgIdByMsgIdInUI","MAWMessageSendReporter","MAWMessageSendReporterV2","WABlobToArrayBuffer","WALoggerDeferred","WAMediaHdType","WAResultOrError","asyncToGeneratorRuntime","gkx","qpl","requireDeferred","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MWLogSend").__setRef("MAWSendSecureAttachment"),j=3e5;function a(a,b,c,d,e,f,g,h,i,j,l,m,n,o,p,q,r,s){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,k,l,m,n,o,p,q,r,s,t,u,v,w){yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","MAWSendSecureAttachment"],["Starting attachment message send"],"LOG");if(b==null){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(p,"no_chat_jid");return d("WAResultOrError").makeError({isRetriable:!1,type:"no-chat-jid"})}var x=null;if(n!=null){d("sendToSentQPLLogger").markSendToSentPoint(p,"get_reply_message_start");n=d("MAWDbMsg").toMsgId(n.messageId);n!=null&&(x=(yield d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(n)));d("sendToSentQPLLogger").markSendToSentPoint(p,"get_reply_message_end")}d("sendToSentQPLLogger").markSendToSentPoint(p,"sending_message_to_wajob_start");var y;switch(k.type){case"image":case"animated_image":case"sticker":n=k.imageSpec;var z=k.thumbnailUrlAndSpec;y={args:{accessibilityLabel:w,ephemeralSetting:(w=q)!=null?w:void 0,hdType:c("gkx")("9576")?v===!0?d("WAMediaHdType").HD_TYPE_HQ_4K:d("WAMediaHdType").HD_TYPE_NONE:void 0,height:n.height,initiatingSource:r,isFirstMsg:o,isForwarded:!1,jpegThumbnail:z==null?void 0:z.jpegThumbnail,jpegThumbnailHeight:z==null?void 0:z.height,jpegThumbnailWidth:z==null?void 0:z.width,mediaGroupMetadata:u,offlineAttachmentId:l,optimisticMsg:s,quote:(w=x)!=null?w:void 0,source:m,width:n.width},attachmentType:"image",chatJid:b,externalId:t};break;case"video":v=k.thumbnailUrlAndSpec;y={args:{duration:v.duration,ephemeralSetting:(z=q)!=null?z:void 0,height:v.height,initiatingSource:r,isFirstMsg:o,isForwarded:!1,jpegThumbnail:v.jpegThumbnail,jpegThumbnailHeight:v.height,jpegThumbnailWidth:v.width,offlineAttachmentId:l,optimisticMsg:s,quote:(u=x)!=null?u:void 0,source:m,width:v.width},attachmentType:"video",chatJid:b,externalId:t};break;case"audio":w=k.durations;n=k.isPtt;y={args:{duration:Math.round(w),ephemeralSetting:(z=q)!=null?z:void 0,initiatingSource:r,isFirstMsg:o,isForwarded:!1,isPtt:n,offlineAttachmentId:l,optimisticMsg:s,quote:(u=x)!=null?u:void 0,source:m},attachmentType:"audio",chatJid:b,externalId:t};break;case"document":v=k.filename;y={args:{ephemeralSetting:(w=q)!=null?w:void 0,filename:v,initiatingSource:r,isFirstMsg:o,isForwarded:!1,offlineAttachmentId:l,optimisticMsg:s,quote:(z=x)!=null?z:void 0,source:m},attachmentType:"application",chatJid:b,externalId:t};break;default:d("sendToSentQPLLogger").markSendToSentPoint(p,"unknown_file_type_sendMediaMsg_not_fired"),c("FBLogger")("messenger_web_media").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment").mustfix("sendSecureAttachment: Failed while sending attachment, unknown attachment type %s",k.type)}var A;switch(k.type){case"image":A=8;break;case"video":A=10;break;case"audio":A=11;break;case"document":A=34;break}yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","MAWSendSecureAttachment"],["Send attachment message is done"],"LOG");i.onReady(function(b){var c=(h||(h=d("I64"))).to_string(e);return b.log(a,{actor:g,attachmentFbids:[],attachmentType:A,backend:1,hasReply:!1,messagingThreadId:c,offlineThreadingId:l,sendType:0,source:m,threadKey:e,threadType:f})});if(y==null)return d("WAResultOrError").makeError({isRetriable:!1,type:"send-media-msg-args-null"});u=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMediaMsgV2",babelHelpers["extends"]({},y,{mimeType:k.file.type,plaintext:(n=k.plaintext)!=null?n:yield d("WABlobToArrayBuffer").blobToArrayBuffer(k.file),qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:p}),{timeoutMs:j});d("sendToSentQPLLogger").markSendToSentPoint(p,"sending_message_to_wajob_end");return d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()?u:d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:b,externalId:t},u,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:p},a)});return k.apply(this,arguments)}g.sendSecureAttachment=a}),98);
__d("MAWSendFileMsgIfNecessaryV2",["FBLogger","MAWExternalId","MAWMessageSendReporterV2","MAWSendSecureAttachment","Promise","WAResultOrError","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f=e.actorId,g=e.attachments,i=e.axLabels,j=e.chatJid,k=e.ephemeralSetting,l=e.hdMediaMap,m=e.initiatingSource,n=e.isFirstMsg,o=e.mediaGroupMetadataMap,p=e.offlineAttachmentIdToMessageData,q=e.reply,r=e.s2sInstanceKey,s=e.source,t=e.thread;if(g.length===0){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(r,"empty_attachments");return(h||(h=b("Promise"))).resolve([d("WAResultOrError").makeError({isRetriable:!1,type:"empty-attachments"})])}d("sendToSentQPLLogger").markSendToSentPoint(r,"send_attachment_start",null,{"int":{attachment_count:g.length}});e=g.map(function(b){var c,e=b[0];b=b[1];var g=p==null?void 0:p.get(b);c=(c=l==null?void 0:l.get(b))!=null?c:void 0;return d("MAWSendSecureAttachment").sendSecureAttachment(a,j,t.threadKey,t.threadType,f,e,b,s,q,n,r,k,m,g==null?void 0:{msgId:g==null?void 0:g.messageExternalId,ts:g==null?void 0:g.offlineMsgTimestamp},(e=g==null?void 0:g.messageExternalId)!=null?e:d("MAWExternalId").generateExternalId(),o==null?void 0:o.get(b),c,(g=i==null?void 0:i.get(b))!=null?g:void 0)});return(h||(h=b("Promise"))).all(e).then(function(a){var b=a==null?void 0:a.find(function(a){return(a==null?void 0:a.success)===!1});d("sendToSentQPLLogger").markSendToSentPoint(r,"send_attachment_end");return b!=null?[b]:a})["catch"](function(a){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(r,"send_attachment_fail",a);a instanceof Error?c("FBLogger")("messenger_web_media").catching(a).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending message"):c("FBLogger")("messenger_web_media").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending attachment, %s",a.message);throw a})}g.sendFileMsgIfNecessaryV2=a}),98);
__d("MAWSupportedFileTypes",[],(function(a,b,c,d,e,f){"use strict";a=["*/*"];f.supportedFileTypes=a}),66);
__d("MAWVoiceClipLimit",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=60,i=180;function a(a){return a?c("gkx")("4187")?i:h:h}g.getMAWMaxVoiceClipDurationInSeconds=a}),98);
__d("MWAddMemberToGroupCircleButton.react",["MWXCircleButton.react","MWXIconFriendGenericAdd","MessengerWebUXLogger","react","react-compiler-runtime","useMWAddParticipantDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.label,f=a.testid,g=a.threadKey,h=a.threadType,j=c("useMWAddParticipantDialog")(g,h),k=c("MessengerWebUXLogger").useInteractionLogger();b[0]!==k||b[1]!==j||b[2]!==g||b[3]!==h?(a=function(){j(),k==null?void 0:k({eventName:"open_add_members_dialog",threadKey:g,threadType:h})},b[0]=k,b[1]=j,b[2]=g,b[3]=h,b[4]=a):a=b[4];a=a;var l;b[5]!==e||b[6]!==a||b[7]!==f?(l=i.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconFriendGenericAdd"),label:e,onPress:a,size:36,testid:void 0}),b[5]=e,b[6]=a,b[7]=f,b[8]=l):l=b[8];return l}g["default"]=a}),98);
__d("MWAudioRecorder.react",["MWPAudioHighlightStylesHooks","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXTooltip.react","cr:563","react","react-compiler-runtime","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef,l=c("requireDeferred")("MWChatAudioLog").__setRef("MWAudioRecorder.react");function a(a){var e=d("react-compiler-runtime").c(54);a=a.voiceRecorder;var f=a.audioEl,g=a.state,i=a.toggle;a=k();var n=d("MWPAudioPlayerUtils").useResetHighlightProgress(a),o;e[0]!==g?(o=b("cr:563").hasScrubber(g),e[0]=g,e[1]=o):o=e[1];o=o;var p;e[2]!==g.currentTime||e[3]!==g.duration||e[4]!==g.stage||e[5]!==i?(p=function(){i();switch(g.stage){case"Unopen":return;case"Recording":l.onReady(m);return;case"Recorded":var a=g.currentTime,b=g.duration;a===0?l.onReady(function(a){return a.logPlaybackStart(b)}):l.onReady(function(c){return c.logPlaybackResume(b,a)});return;case"Playing":var c=g.currentTime,d=g.duration;l.onReady(function(a){return a.logPlaybackPause(d,c)});return}},e[2]=g.currentTime,e[3]=g.duration,e[4]=g.stage,e[5]=i,e[6]=p):p=e[6];p=p;var q;e[7]!==g?(q=b("cr:563").getDuration(g),e[7]=g,e[8]=q):q=e[8];var r;e[9]!==g?(r=b("cr:563").getCurrentTime(g),e[9]=g,e[10]=r):r=e[10];var s;e[11]!==g?(s=b("cr:563").isProgressing(g),e[11]=g,e[12]=s):s=e[12];var t;e[13]!==g?(t=b("cr:563").isCompleted(g),e[13]=g,e[14]=t):t=e[14];q=d("MWPAudioPlayerUtils").useProgressLiveUpdate(q,f,r,s,!1,t);r=d("MWPAudioHighlightStylesHooks").useHighlightStyles(!0);e[15]!==g?(s=b("cr:563").getPlaybackLabel(g),e[15]=g,e[16]=s):s=e[16];t=s;bb0:{switch(g.stage){case"Unopen":case"Recording":s=null;break bb0;case"Recorded":case"Playing":var u;e[17]!==g.currentTime||e[18]!==g.duration?(u=j.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:g.currentTime,duration:g.duration}),e[17]=g.currentTime,e[18]=g.duration,e[19]=u):u=e[19];s=u;break bb0}s=void 0}u=s;e[20]===Symbol["for"]("react.memo_cache_sentinel")?(s={backgroundColor:"var(--chat-composer-button-color, var(--accent))",borderRadius:"18px"},e[20]=s):s=e[20];var v;e[21]!==r||e[22]!==q?(v=j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:q,xstyle:r}),e[21]=r,e[22]=q,e[23]=v):v=e[23];e[24]!==r?(q=j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:a,xstyle:r}),e[24]=r,e[25]=q):q=e[25];e[26]===Symbol["for"]("react.memo_cache_sentinel")?(r=(h||(h=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.playbackButtonContainer),e[26]=r):r=e[26];n=o?n:void 0;var w;e[27]!==g?(w=b("cr:563").getPlaybackIcon(g,"var(--chat-composer-button-color, var(--accent))"),e[27]=g,e[28]=w):w=e[28];var x;e[29]!==p||e[30]!==t||e[31]!==w?(x=j.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:w,label:t,onPress:p}),e[29]=p,e[30]=t,e[31]=w,e[32]=x):x=e[32];e[33]!==t||e[34]!==x?(p=j.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:t,children:x}),e[33]=t,e[34]=x,e[35]=p):p=e[35];e[36]!==n||e[37]!==p?(w=j.jsx("div",babelHelpers["extends"]({},r,{onMouseMove:n,children:p})),e[36]=n,e[37]=p,e[38]=w):w=e[38];e[39]!==g?(t=b("cr:563").getTimerTime(g),e[39]=g,e[40]=t):t=e[40];e[41]!==t?(x=j.jsx(c("MWPAudioPlayerTimer.react"),{time:t}),e[41]=t,e[42]=x):x=e[42];e[43]!==f||e[44]!==u||e[45]!==v||e[46]!==q||e[47]!==w||e[48]!==x?(r=j.jsxs(c("MWPAudioPlayerKeyCommands.react"),{audioEl:f,children:[v,u,q,w,x]}),e[43]=f,e[44]=u,e[45]=v,e[46]=q,e[47]=w,e[48]=x,e[49]=r):r=e[49];e[50]!==f||e[51]!==o||e[52]!==r?(n=j.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:f,hasScrubber:o,mediaRenderQpl:null,scrubberRef:a,style:s,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.RECORDER,children:r}),e[50]=f,e[51]=o,e[52]=r,e[53]=n):n=e[53];return n}function m(a){return a.logClickStopRecording(0)}g["default"]=a}),98);
__d("MWCMAutoJoinNotifNUX.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","FDSContextualMessage.react","JSResourceForInteraction","LSCommunityBitOffset","MWInboxPersistedUIState","MWXButtonGroup.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWXLazyDialog","useReStore","useVisibilityObserver","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useRef,m=b.useState,n=c("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMAutoJoinNotifNUX.react");function o(a){var b=a.thread;c("vulture")("9dYusNyYpCGx4faDVnE0zHk-jn4=");a=c("useMWXLazyDialog")(n);var e=a[0];a=m(!1);var f=a[0],g=a[1];a=d("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMAutoJoinNotifNuxBanner.showBanner__");var i=a[0],j=a[1];a=l(i);var o=l(!1);i=c("useVisibilityObserver")({onVisible:function(){o.current||(o.current=!0,j(function(a){return a+1}))}});return a.current<3&&!f?k.jsx("div",babelHelpers["extends"]({className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm"},{ref:i,children:k.jsx(c("FDSContextualMessage.react"),{addOnPrimary:k.jsx(c("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{label:h._(/*BTDS*/"__JHASH__7NhHq3FFyid__JHASH__"),onPress:function(){e({threadKey:b.threadKey},function(){})},padding:"wide",type:"secondary"}}),body:h._(/*BTDS*/"__JHASH__y4SjVH1sWqP__JHASH__"),headline:h._(/*BTDS*/"__JHASH__Y1eNmRtGK12__JHASH__",[h._param("param",b.threadName)]),level:4,onClose:function(){g(!0)}})})):null}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=d("react-compiler-runtime").c(11),e=a.thread,g=(i||(i=c("useReStore")))();b[0]!==g.tables.community_folders||b[1]!==e.parentThreadKey?(a=function(){return d("ReQL").fromTableAscending(g.tables.community_folders).getKeyRange(e.parentThreadKey)},b[0]=g.tables.community_folders,b[1]=e.parentThreadKey,b[2]=a):a=b[2];var h;b[3]!==g||b[4]!==e.parentThreadKey?(h=[g,e.parentThreadKey],b[3]=g,b[4]=e.parentThreadKey,b[5]=h):h=b[5];a=d("ReQLSuspense").useFirst(a,h,f.id+":128");if(a){b[6]!==a?(h=d("LSCommunityBitOffset").has(39,a),b[6]=a,b[7]=h):h=b[7];a=h;b[8]!==a||b[9]!==e?(h=a?k.jsx(o,{thread:e}):null,b[8]=a,b[9]=e,b[10]=h):h=b[10];return h}else return null}function a(a){var b=d("react-compiler-runtime").c(2);a=a.thread;var e;b[0]!==a?(e=k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWCMAutoJoinNotifNUX",children:k.jsx(p,{thread:a})})}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),226);
__d("MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters",["MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMContentTakedownEnforcementNoticeDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMContentTakedownEnforcementNoticeDialog.entrypoint",["JSResourceForInteraction","MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.community_id,e=a.interventions_ids;a=a.thread_id;return{queries:{queryReference:{parameters:c("MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters"),variables:{community_id:b,interventions_ids:(b=e)!=null?b:[],isCometEnabled:!1,isGeoEnabled:!1,isMWXEnabled:!0,scale:d("WebPixelRatio").get(),thread_id:a}}}}},root:c("JSResourceForInteraction")("MWCMContentTakedownEnforcementNoticeDialog.react").__setRef("MWCMContentTakedownEnforcementNoticeDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMSelectiveSyncTTRCQPLLoggingUtils",["I64","QPLUserFlow","ReQL","ReQLSuspense","qpl","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("qpl")._(25310806,"1365");function a(a){var b,e=(i||(i=c("useReStore")))();b=(b=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.tables.messages.index("messageDisplayOrder")).getKeyRange(a).take(20)},[e,a],f.id+":35"))!=null?b:[];return b}function b(a){var b=d("react-compiler-runtime").c(6),e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.thread_point_query_ttrc||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.thread_point_query_ttrc).getKeyRange(a)},b[0]=e.tables.thread_point_query_ttrc,b[1]=a,b[2]=g):g=b[2];var h;b[3]!==e||b[4]!==a?(h=[e,a],b[3]=e,b[4]=a,b[5]=h):h=b[5];b=d("ReQLSuspense").useFirst(g,h,f.id+":48");if(b!=null)return b}function e(a,b,d){c("QPLUserFlow").endSuccess(j,{annotations:{string:{hasMessageDataChanged:b,status:"completed"}},instanceKey:a,timestamp:(b=d)!=null?b:void 0})}function k(a,b,e,f){c("QPLUserFlow").start(j,{annotations:{string:{thread_id:(h||(h=d("I64"))).to_string(b),thread_subtype:f?(h||(h=d("I64"))).to_string(f):null,thread_type:h.to_string(e)}},instanceKey:a})}function l(a,b){c("QPLUserFlow").addPoint(j,b,{instanceKey:a})}function m(a){c("QPLUserFlow").addPoint(j,"selective_sync_remediation_end",{instanceKey:a}),c("QPLUserFlow").endSuccess(j,{annotations:{string:{status:"skipped"}},instanceKey:a})}function n(a,b){return a.length!==b.length?!1:!a.some(function(a,c){c=b[c];c.text;c=babelHelpers.objectWithoutPropertiesLoose(c,["text"]);a.text;a=babelHelpers.objectWithoutPropertiesLoose(a,["text"]);if(JSON.stringify(c)!==JSON.stringify(a))return!0})}g.useLast20Messages=a;g.useTPQEntry=b;g.logCompleteEndSuccess=e;g.logEventStreamStart=k;g.logPoint=l;g.logSkippedEndSuccess=m;g.isMessageDataUnchanged=n}),98);
__d("MWChannelInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWChannelInviteDialog.react").__setRef("MWChannelInviteDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatComposerVoiceIndicator.react",["fbt","CurrentUser","MWXText.react","MWXTextPairing.react","getTopMostRoute","react","react-compiler-runtime","useCometRouterState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6);a=a.forceShown_TEST_ONLY;a=a===void 0?!1:a;var e=c("useCometRouterState")();if(b[0]!==e){var f=e!=null?c("getTopMostRoute")(e):null;f=(f=f==null?void 0:f.tracePolicy)!=null?f:null;f=f!==null?f.startsWith("comet.page.admin")||f.startsWith("comet.group.admin"):!1;b[0]=e;b[1]=f}else f=b[1];e=f;if(b[2]===Symbol["for"]("react.memo_cache_sentinel")){f=c("CurrentUser").getName();f=h._(/*BTDS*/"__JHASH__moy48BoqFvP__JHASH__",[h._param("full name",j.jsx(c("MWXText.react"),{type:"meta2",children:f}))]);b[2]=f}else f=b[2];f=f;b[3]!==a||b[4]!==e?(f=e||a?j.jsx("div",babelHelpers["extends"]({className:"x57kliw x1exxf4d x13fuv20 x178xt8z xi81zsa xyinxu5 xho0xa1 xs9asl8 x1vobaek"},{children:j.jsx(c("MWXTextPairing.react"),{body:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:f}),level:4,textAlign:"center"})})):null,b[3]=a,b[4]=e,b[5]=f):f=b[5];return f}g["default"]=a}),226);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react");function n(a){var b=d("react-compiler-runtime").c(4),c=a.connectionStatus;a=a.renderWrapper;if(c==="Connected")return null;else if(c==="Disconnected"){var e;b[0]!==a?(e=a(h._(/*BTDS*/"__JHASH__vs4VWaH-KyB__JHASH__")),b[0]=a,b[1]=e):e=b[1];return e}else if(c==="Connecting"){b[2]!==a?(e=a(h._(/*BTDS*/"__JHASH__t43xAFuvvRz__JHASH__")),b[2]=a,b[3]=e):e=b[3];return e}else return null}function a(a){var b=d("react-compiler-runtime").c(7);a=a.renderWrapper;var e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.connectivity_status?(g=function(){return d("ReQL").fromTableDescending(e.tables.connectivity_status).map(o)},b[0]=e.tables.connectivity_status,b[1]=g):g=b[1];var h;b[2]!==e?(h=[e],b[2]=e,b[3]=h):h=b[3];g=d("ReQLSuspense").useFirst(g,h,f.id+":54");g=(h=g)!=null?h:"Connected";b[4]!==a||b[5]!==g?(h=m.jsx(n,{connectionStatus:g,renderWrapper:a}),b[4]=a,b[5]=g,b[6]=h):h=b[6];return h}function o(a){return(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"}g["default"]=a}),226);
__d("MWChatConnectionStatusCard.react",["MWPChatConnectionStatusCard.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return i.jsx("div",babelHelpers["extends"]({className:"x5p7y74 x1562eck x1q0q8m5 xso031l x1lliihq xds687c x17qophe xz9dl7a xsag5q8 x10l6tqk x2b8uid x13vifvy x1vjfegm"},{children:i.jsx(c("MWXText.react"),{type:"meta4",children:a})}))}j.displayName=j.name+" [from "+f.id+"]";function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("MWPChatConnectionStatusCard.react"),{renderWrapper:j}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWChatInthreadBannerIcon.react",["MWXIconStrict.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.icon;if(a==null)return null;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x4tc44c x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1yrsyyn xsyo7zv x10b6aqq x16hj40l"},b[0]=e):e=b[0];b[1]!==a.icon?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("MWXIconStrict.react"),{color:"white",icon:a.icon,size:12})})),b[1]=a.icon,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWChatInthreadIconParser.react",["MWPXMAIconParser","MWXIconFriendGenericAdd","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"friend-woman-add":return c("MWXIconFriendGenericAdd");default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_sharing");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=h(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWChatInThreadBanner.react",["FDSButton.react","FDSProfilePhoto.react","MWChatInthreadBannerIcon.react","MWChatInthreadIconParser.react","MWLSThreadDisplayContext","MWXIconChevronRight","MWXIconStrict.react","MWXLink.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={grow:{flexGrow:"x1iyjqo2",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0}};function k(a){var b=d("react-compiler-runtime").c(16),e=a.action;a=a.button;var f=a.ctaTitle;switch(e.type){case"link":var g;b[0]!==e.url?(g={url:e.url},b[0]=e.url,b[1]=g):g=b[1];var h;b[2]!==f||b[3]!==g?(h=i.jsx(c("MWXRowItem.react"),{xstyle:j.grow,children:i.jsx(c("FDSButton.react"),{label:f,linkProps:g,type:"secondary"})}),b[2]=f,b[3]=g,b[4]=h):h=b[4];return h;case"action":b[5]!==e.contextRef||b[6]!==e.onPress||b[7]!==f?(g=i.jsx(c("MWXRowItem.react"),{xstyle:j.grow,children:i.jsx(c("FDSButton.react"),{label:f,onPress:e.onPress,ref:e.contextRef,type:"secondary"})}),b[5]=e.contextRef,b[6]=e.onPress,b[7]=f,b[8]=g):g=b[8];return g;case"popover":if(b[9]!==e||b[10]!==f){b[12]!==f?(h=function(a,b){return i.jsx(c("FDSButton.react"),{label:f,onPress:function(){return b()},ref:a,type:"secondary"})},b[12]=f,b[13]=h):h=b[13];g=e.popoverTrigger(h);b[9]=e;b[10]=f;b[11]=g}else g=b[11];b[14]!==g?(h=i.jsx(c("MWXRowItem.react"),{xstyle:j.grow,children:g}),b[14]=g,b[15]=h):h=b[15];return h;case"unimplemented":c("recoverableViolation")("In thread banner cta not implemented, CTA type: "+a.ctaType+" CTA Title: "+a.ctaTitle,"messenger_web_sharing");return null}}function a(a){var b,e=d("react-compiler-runtime").c(63),f=a.banner,g=a.ctaParser;a=a.impressionRef;if(e[0]!==f.banner.iconUrl){var h;h=d("MWChatInthreadIconParser.react").parse((h=f.banner.iconUrl)!=null?h:"");e[0]=f.banner.iconUrl;e[1]=h}else h=e[1];h=h;var m=f.banner.chevronCtaType!=null,n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();n=n==="Inbox";var o;e[2]!==h?(o=h!=null?typeof h==="string"?i.jsx(c("MWXRowItem.react"),{expanding:!1,children:i.jsx("div",babelHelpers["extends"]({className:"x11i5rnm"},{children:i.jsx(c("FDSProfilePhoto.react"),{shape:"circle",size:24,source:{uri:h}})}))}):i.jsx(c("MWXRowItem.react"),{expanding:!1,children:i.jsx("div",{className:[j.grow,"x78zum5 xdt5ytf x1iyjqo2 xl56j7k"],children:i.jsx(c("MWChatInthreadBannerIcon.react"),{icon:h})})}):null,e[2]=h,e[3]=o):o=e[3];h=o;e[4]!==f.banner.cta1Title||e[5]!==f.banner.heading?(o=f.banner.heading!=null?i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx("span",babelHelpers["extends"]({className:"x1yrsyyn x10b6aqq"},{children:i.jsxs(c("MWXText.react"),{type:"meta3",children:[f.banner.heading," ",i.jsx(c("MWXText.react"),{color:"blueLink",type:"meta3",children:i.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/869846945085345?ref=ipl",target:"_blank",children:f.banner.cta1Title})})]})}))}):null,e[4]=f.banner.cta1Title,e[5]=f.banner.heading,e[6]=o):o=e[6];o=o;b=((b=f.banner.titleSectionOne)!=null?b:"")+((b=f.banner.titleSectionTwo)!=null?b:"");var p;e[7]!==f.banner.heading||e[8]!==b?(p=i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXTextPairing.react"),{body:b,bodyLineLimit:1,level:4,meta:f.banner.heading,metaLineLimit:1,metaLocation:"above"})}),e[7]=f.banner.heading,e[8]=b,e[9]=p):p=e[9];b=p;e[10]!==f.banner.infoLabel?(p=f.banner.infoLabel!=null?i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXText.react"),{type:"meta1",children:i.jsx("span",babelHelpers["extends"]({className:"x1qhmfi1 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x6ikm8r x10wlt62 x4p5aij x150jy0e x1j85h84 x1e558r4 xlyipyv xuxw1ft"},{children:f.banner.infoLabel}))})}):null,e[10]=f.banner.infoLabel,e[11]=p):p=e[11];p=p;var q=f.leftButton,r=f.rightButton,s;if(q!=null&&r!=null){var t;e[12]!==f||e[13]!==g||e[14]!==q?(t=g(f,q),e[12]=f,e[13]=g,e[14]=q,e[15]=t):t=e[15];var u;e[16]!==q||e[17]!==t?(u=i.jsx(k,{action:t,button:q}),e[16]=q,e[17]=t,e[18]=u):u=e[18];e[19]!==f||e[20]!==g||e[21]!==r?(t=g(f,r),e[19]=f,e[20]=g,e[21]=r,e[22]=t):t=e[22];var v;e[23]!==r||e[24]!==t?(v=i.jsx(k,{action:t,button:r}),e[23]=r,e[24]=t,e[25]=v):v=e[25];e[26]!==v||e[27]!==u?(t=i.jsxs(c("MWXRow.react"),{paddingTop:8,spacing:4,wrap:"forward",children:[u,v]}),e[26]=v,e[27]=u,e[28]=t):t=e[28];s=t}else{u=(v=q)!=null?v:r;if(u!=null){e[29]!==f||e[30]!==u||e[31]!==g?(t=g(f,u),e[29]=f,e[30]=u,e[31]=g,e[32]=t):t=e[32];e[33]!==u||e[34]!==t?(q=i.jsx(c("MWXRow.react"),{paddingTop:8,children:i.jsx(k,{action:t,button:u})}),e[33]=u,e[34]=t,e[35]=q):q=e[35];s=q}}e[36]!==m?(v=m?i.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:i.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconChevronRight"),size:12})}):null,e[36]=m,e[37]=v):v=e[37];r=v;e[38]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x1a8lsjc xh8yej3"},e[38]=u):u=e[38];t=f.banner.cta1Type==="fbvr_dma_learn_more"?o:b;e[39]!==r||e[40]!==h||e[41]!==p||e[42]!==t?(q=i.jsxs(c("MWXRow.react"),{paddingTop:10,children:[h,t,p,r]}),e[39]=r,e[40]=h,e[41]=p,e[42]=t,e[43]=q):q=e[43];e[44]!==s||e[45]!==q?(m=i.jsxs("div",babelHelpers["extends"]({},u,{children:[q,s]})),e[44]=s,e[45]=q,e[46]=m):m=e[46];var w=m,x;if(e[47]!==f||e[48]!==w||e[49]!==g){v=f.bannerAction!=null?g(f,f.bannerAction):void 0;if(v!=null)bb0:switch(v.type){case"link":x=i.jsx(c("MWXPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:v.url},xstyle:l,children:w});break bb0;case"action":x=i.jsx(c("MWXPressable.react"),{expanding:!0,onPress:v.onPress,ref:v.contextRef,children:w});break bb0;case"popover":e[51]!==w?(o=function(a,b){return i.jsx(c("MWXPressable.react"),{expanding:!0,onPress:function(){return b()},ref:a,children:w})},e[51]=w,e[52]=o):o=e[52];x=v.popoverTrigger(o);break bb0;case"unimplemented":h=(r=(b=f.bannerAction)==null?void 0:b.ctaType)!=null?r:"";h!=="member_requests_view"&&c("recoverableViolation")("In thread banner cta not implemented: "+h,"messenger_web_ia");x=w}else x=w;e[47]=f;e[48]=w;e[49]=g;e[50]=x}else x=e[50];e[53]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"xfpmyvw x1n2onr6"},e[53]=p):p=e[53];e[54]!==n?(t=n?i.jsx("div",{className:"xwwskcc x1q0q8m5 xso031l"}):null,e[54]=n,e[55]=t):t=e[55];e[56]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x80vd3b x1q0q8m5 xso031l"},e[56]=u):u=e[56];e[57]!==x?(q=i.jsx("div",babelHelpers["extends"]({},u,{"data-testid":void 0,children:x})),e[57]=x,e[58]=q):q=e[58];e[59]!==a||e[60]!==t||e[61]!==q?(m=i.jsxs("div",babelHelpers["extends"]({},p,{ref:a,children:[t,q]})),e[59]=a,e[60]=t,e[61]=q,e[62]=m):m=e[62];return m}function l(){return[j.linkBanner]}g["default"]=a}),98);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react","react-compiler-runtime","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useMemo;function a(a){var e=d("react-compiler-runtime").c(13),f=a.isBumpMessage,g=a.isHotLike,i=a.mentionIds,k=a.ranges,l=a.text,m=a.threadKey;a=a.transformEmoticons;f=f===void 0?!1:f;g=g===void 0?!1:g;a=a===void 0?!0:a;if(e[0]!==i){var n;n=new Set((n=i==null?void 0:i.split==null?void 0:i.split(","))!=null?n:[]);e[0]=i;e[1]=n}else n=e[1];i=n;n=i;e[2]!==l?(i=b("cr:2472")==null?l:b("cr:2472").unvault(l),e[2]=l,e[3]=i):i=e[3];l=i;i=(n=(i=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(l,[],n,m))==null?void 0:i.textWithSubstitutions)!=null?n:l;m=(n=d("useStringWithSubstitutions").useStringWithSubstitutions(l,m))!=null?n:l;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._(/*BTDS*/"__JHASH__fJLp3hO2Ffq__JHASH__").toString(),e[4]=n):n=e[4];l=n;n=g?l:f?m:i;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"xi81zsa"},e[5]=g):g=e[5];e[6]===Symbol["for"]("react.memo_cache_sentinel")?(l={MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]},e[6]=l):l=e[6];e[7]!==a?(f=a?d("MWChatTextTransform").textTransformsNoVault:[],e[7]=a,e[8]=f):f=e[8];e[9]!==k||e[10]!==f||e[11]!==n?(m=j.jsx("div",babelHelpers["extends"]({},g,{dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:k,renderers:l,text:n,transforms:f,truncationStyle:"ellipsis-only",withParagraphs:!1})})),e[9]=k,e[10]=f,e[11]=n,e[12]=m):m=e[12];return m}g["default"]=a}),226);
__d("MWChatUnavailableComposer.react",["fbt","ComponentMountUnmountSubspanLogger.react","MWBlockedComposerLogging","MWXComposerBanner.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e=a.reason;a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a.threadKey,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__FoZB3MxTOU9__JHASH__"),b[0]=a):a=b[0];e=a;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsxs("div",{children:[j.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MWChatUnavailableComposer"}),j.jsx(c("MWXComposerBanner.react"),{bodyText:e})]}),b[1]=a):a=b[1];return a}g["default"]=a}),226);
__d("MWChatUnsendNUX.react",["cr:2884","cr:4186","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(5);a=a.senderUnsendNUXEnabled;var e;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=b("cr:2884")==null?null:i.jsx(b("cr:2884"),{}),c[0]=e):e=c[0];var f;c[1]!==a?(f=b("cr:4186")!=null&&a?i.jsx(b("cr:4186"),{}):null,c[1]=a,c[2]=f):f=c[2];c[3]!==f?(a=i.jsxs(i.Fragment,{children:[e,f]}),c[3]=f,c[4]=a):a=c[4];return a}g["default"]=a}),98);
__d("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6404754876239370"}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:b("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"),metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect,k=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a,b=d("react-compiler-runtime").c(6),e=d("CometRelay").useRelayEnvironment(),f=d("CometRelay").useLazyLoadQuery(k,{},{fetchPolicy:"store-only"});if(b[0]!==(f==null?void 0:(a=f.viewer)==null?void 0:a.chat_visibility)||b[1]!==e){var g;a=function(){var a;(f==null?void 0:(a=f.viewer)==null?void 0:a.chat_visibility)==null&&c("promiseDone")(d("CometRelay").fetchQuery(e,k,{}).toPromise())};b[0]=f==null?void 0:(g=f.viewer)==null?void 0:g.chat_visibility;b[1]=e;b[2]=a}else a=b[2];g=f==null?void 0:(g=f.viewer)==null?void 0:g.chat_visibility;var h;b[3]!==e||b[4]!==g?(h=[g,e],b[3]=e,b[4]=g,b[5]=h):h=b[5];j(a,h);return(f==null?void 0:(g=f.viewer)==null?void 0:g.chat_visibility)===!0}g.useViewerChatVisibility=a}),98);
__d("MWChatXACSunsettingBanner.react",["fbt","ix","MWXButton.react","MWXImage.react","MWXRow.react","MWXRowItem.react","MWXText.react","goURIOnWindow","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l="https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",m={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(7),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"__JHASH__TDoMKgQOS58__JHASH__"),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__9PUf24O7tfB__JHASH__"),a[1]=e):e=a[1];e=e;var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm"},a[2]=f):f=a[2];var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("MWXRowItem.react"),{xstyle:m.imageRow,children:k.jsx(c("MWXImage.react"),{src:i("331359")})}),a[3]=g):g=a[3];a[4]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,children:k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:b})})}),a[4]=b):b=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsxs(c("MWXRow.react"),{paddingHorizontal:12,paddingTop:12,children:[g,k.jsxs(c("MWXRowItem.react"),{expanding:!0,children:[b,k.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:8,children:k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:e})})})]})]}),a[5]=g):g=a[5];a[6]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsxs("div",babelHelpers["extends"]({},f,{children:[g,k.jsx(c("MWXRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:k.jsx(c("MWXRowItem.react"),{xstyle:m.button,children:k.jsx(c("MWXButton.react"),{label:h._(/*BTDS*/"__JHASH__W_KwwnBzw9K__JHASH__"),onPress:n,type:"primary"})})})]})),a[6]=b):b=a[6];return b}function n(){c("goURIOnWindow")(window.open("","_blank"),l)}g["default"]=a}),226);
__d("MWCollapsibleAdminMessages.react",["fbt","BaseView.react","MWMessageRow.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","MWXLink.react","MWXText.react","ODS","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react")),l=i.useState,m={collapsed:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},expanded:{paddingBottom:"x1120s5i",paddingTop:"xz9dl7a",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(22),e=d("MWV2MessageActionsVisibility.react").useStopHoveringRef(),f,g;b[0]!==a?(f=a.messages,g=babelHelpers.objectWithoutPropertiesLoose(a,["messages"]),b[0]=a,b[1]=f,b[2]=g):(f=b[1],g=b[2]);a=l(!1);var i=a[0],o=a[1];b[3]!==i?(a=function(){(j||(j=d("ODS"))).bumpEntityKey(3303,"collapsible_admin_messages",i?"hide_messages":"show_messages"),o(n)},b[3]=i,b[4]=a):a=b[4];var p=i?m.expanded:m.collapsed,q;b[5]!==i||b[6]!==f?(q=i?h._(/*BTDS*/"__JHASH__k2cKnwAsyRP__JHASH__"):h._(/*BTDS*/"__JHASH__ZpmrUMcuTWA__JHASH__",[h._param("number of admin udpates",f.length)]),b[5]=i,b[6]=f,b[7]=q):q=b[7];var r;b[8]!==p||b[9]!==q?(r=k.jsx(c("BaseView.react"),{xstyle:p,children:q}),b[8]=p,b[9]=q,b[10]=r):r=b[10];b[11]!==a||b[12]!==r?(p=k.jsx(c("MWXText.react"),{type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{color_DEPRECATED:"highlight",onClick:a,role:"button",children:r})}),b[11]=a,b[12]=r,b[13]=p):p=b[13];b[14]!==i||b[15]!==f||b[16]!==g||b[17]!==e?(q=i?f.map(function(a,b){return k.createElement(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},g,{key:a.messageId,message:a,nextMessage:f[b+1],prevMessage:f[b-1],stopHoveringRef:e}))}):null,b[14]=i,b[15]=f,b[16]=g,b[17]=e,b[18]=q):q=b[18];b[19]!==p||b[20]!==q?(a=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:k.jsxs(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{children:[p,q]})}),b[19]=p,b[20]=q,b[21]=a):a=b[21];return a}function n(a){return!a}g["default"]=a}),226);
__d("MWCometStickersFlyout.entrypoint",["CometStickerPickerCard.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("MWCometStickersFlyout.react").__setRef("MWCometStickersFlyout.entrypoint");b={getPreloadProps:function(a){a=babelHelpers["extends"]({},a);return{entryPoints:{stickerPickerCardEntrypointReference:d("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:c("CometStickerPickerCard.entrypoint"),entryPointParams:a})}}},root:a};g["default"]=b}),98);
__d("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9292510577470310"}),null);
__d("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery.graphql",["MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"other_user_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"users_connected"}],c={kind:"Variable",name:"thread_id",variableName:"thread_id"},d=[c];c=[{fields:[{kind:"Literal",name:"client_capabilities",value:{platform:"WEB",supported_components:["ABOVE_COMPOSER_BANNER"]}},{kind:"Literal",name:"exclude_interventions",value:[]},{kind:"Variable",name:"other_user_id",variableName:"other_user_id"},{fields:[{kind:"Variable",name:"users_connected",variableName:"users_connected"}],kind:"ObjectValue",name:"thread_capabilities"},c],kind:"ObjectValue",name:"input"}];var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery",selections:[{alias:null,args:d,concreteType:"XFBMsgrSafetyInterventionsRoot",kind:"LinkedField",name:"xfb_msgr_safety_interventions",plural:!1,selections:[{alias:null,args:c,concreteType:"XFBMsgrSafetyInterventionsOneToOneThreadResult",kind:"LinkedField",name:"one_to_one_thread_interventions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMsgrSafetyInterventionsUIEngineFragment"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery",selections:[{alias:null,args:d,concreteType:"XFBMsgrSafetyInterventionsRoot",kind:"LinkedField",name:"xfb_msgr_safety_interventions",plural:!1,selections:[{alias:null,args:c,concreteType:"XFBMsgrSafetyInterventionsOneToOneThreadResult",kind:"LinkedField",name:"one_to_one_thread_interventions",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligible",kind:"LinkedField",name:"eligible_interventions",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"component",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"component_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionComponentBody",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_dismissable",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"image_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stock_image_type_v2",storageKey:null}],type:"XFBMsgrSafetyInterventionComponentStockImage",abstractKey:null}],storageKey:null}],type:"XFBMsgrSafetyInterventionAboveComposerBannerComponent",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery_facebookRelayOperation"),metadata:{live:{config_id:""}},name:"MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWComposerDisclosureMSipNotices.react",["CometMsgrSafetyInterventionsUIEngine.react","CometRelay","MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery.graphql","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=d("react-compiler-runtime").c(2),g=a.other_user_id;a=a.thread_id;g=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery.graphql"),{other_user_id:g,thread_id:a,users_connected:!1},{fetchPolicy:"store-and-network"});a=c("gkx")("11065");if(f[0]!==(g==null?void 0:(e=g.xfb_msgr_safety_interventions)==null?void 0:e.one_to_one_thread_interventions)){a=a?j.jsx(c("CometMsgrSafetyInterventionsUIEngine.react"),{fragment$key:g==null?void 0:(e=g.xfb_msgr_safety_interventions)==null?void 0:e.one_to_one_thread_interventions}):null;f[0]=g==null?void 0:(e=g.xfb_msgr_safety_interventions)==null?void 0:e.one_to_one_thread_interventions;f[1]=a}else a=f[1];return a}g["default"]=a}),98);
__d("MWV2ChatHotlikeButtonAnimation.react",["BaseView.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=150;e=2500;f=b+e;b={medium:.7,small:.35};var j={almostPoppingShakeAnimationHotlike:{animationDelay:"x1uhpyvt",animationDuration:"xtsvl71",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationName:"x1kol0s",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0},animationBox:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1qx5ct2",justifyContent:"xl56j7k",pointerEvents:"x47corl",width:"xw4jnvo",$$css:!0},growAnimationHotlike:{animationDelay:"xmmqq2k",animationDuration:"x1h5mrz9",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"x1kvv0nh",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0},shakeAnimationHotlike:{animationDelay:"xmmqq2k",animationDuration:"xtsvl71",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationName:"x1dogid2",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12),e=a.animationsContainerRef,f=a.children;a=a.shouldShowGrowAnimation;var g=a&&j.growAnimationHotlike,h=a&&j.shakeAnimationHotlike;a=a&&j.almostPoppingShakeAnimationHotlike;var k;b[0]!==a?(k=[j.animationBox,a],b[0]=a,b[1]=k):k=b[1];b[2]!==f||b[3]!==k?(a=i.jsx(c("BaseView.react"),{xstyle:k,children:f}),b[2]=f,b[3]=k,b[4]=a):a=b[4];b[5]!==h||b[6]!==a?(f=i.jsx(c("BaseView.react"),{xstyle:h,children:a}),b[5]=h,b[6]=a,b[7]=f):f=b[7];b[8]!==e||b[9]!==g||b[10]!==f?(k=i.jsx(c("BaseView.react"),{ref:e,xstyle:g,children:f}),b[8]=e,b[9]=g,b[10]=f,b[11]=k):k=b[11];return k}g.TOTAL_GROW_ANIMATION_TIME_MS=f;g.EMOJI_SIZE_PERCENTAGE_THRESHOLDS=b;g.MWV2ChatHotlikeButtonAnimation=a}),98);
__d("useMWV2ChatHotlikeButton",["I64","LSHotEmojiSize","LSIntEnum","MWV2ChatHotlikeButtonAnimation.react","MessengerWebUXLogger","QPLUserFlow","StickerConstants","clearTimeout","gkx","isStringNullOrEmpty","qpl","react","react-compiler-runtime","requireDeferred","setTimeout","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");b.useCallback;var k=b.useEffect,l=b.useRef,m=b.useState,n=c("requireDeferred")("MWV2ChatHotlikeSounds").__setRef("useMWV2ChatHotlikeButton"),o=500,p=50,q=(e={},e[c("LSHotEmojiSize").NONE]=(i||(i=d("I64"))).of_string(c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),e[c("LSHotEmojiSize").SMALL]=i.of_string(c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),e[c("LSHotEmojiSize").MEDIUM]=i.of_string(c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID),e[c("LSHotEmojiSize").LARGE]=i.of_string(c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID),e);function r(a){if(a<=d("MWV2ChatHotlikeButtonAnimation.react").EMOJI_SIZE_PERCENTAGE_THRESHOLDS.small)return c("LSHotEmojiSize").SMALL;else if(a<=d("MWV2ChatHotlikeButtonAnimation.react").EMOJI_SIZE_PERCENTAGE_THRESHOLDS.medium)return c("LSHotEmojiSize").MEDIUM;else return c("LSHotEmojiSize").LARGE}function s(){n.onReadyImmediately(function(a){return a.start()})}function t(){n.onReadyImmediately(function(a){return a.pop()})}function u(a){n.onReadyImmediately(function(b){return b.snap(a)})}function a(a,b,e,f){var g=d("react-compiler-runtime").c(28),h;g[0]!==a?(h=c("isStringNullOrEmpty")(a),g[0]=a,g[1]=h):h=g[1];var i=h;h=m(!1);var n=h[0],v=h[1],w=l(null),x=l(null),y=l(!1),z=c("MessengerWebUXLogger").useInteractionLogger();g[2]!==i||g[3]!==z||g[4]!==e?(h=function(a){z==null?void 0:z({eventName:i?"send_hot_like":"send_hot_emoji",extraData:{size:a.toString()},threadType:e})},g[2]=i,g[3]=z,g[4]=e,g[5]=h):h=g[5];var A=h;g[6]!==f||g[7]!==a||g[8]!==i||g[9]!==A||g[10]!==b?(h=function(c){!i?b(a,void 0,void 0,(j||(j=d("LSIntEnum"))).ofNumber(c),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f):b(void 0,void 0,q[c],(j||(j=d("LSIntEnum"))).ofNumber(c),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f),A(c)},g[6]=f,g[7]=a,g[8]=i,g[9]=A,g[10]=b,g[11]=h):h=g[11];h=h;var B;g[12]===Symbol["for"]("react.memo_cache_sentinel")?(B={leading:!0,wait:p},g[12]=B):B=g[12];var C=c("useDebouncedComet")(h,B);g[13]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){c("clearTimeout")(w.current),w.current=null},g[13]=h):h=g[13];var D=h;g[14]===Symbol["for"]("react.memo_cache_sentinel")?(B=function(){return function(){D()}},h=[],g[14]=B,g[15]=h):(B=g[14],h=g[15]);k(B,h);g[16]!==n?(B=function(){return y.current===!0&&(!n||w.current==null)},g[16]=n,g[17]=B):B=g[17];var E=B;g[18]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){y.current===!0&&(c("QPLUserFlow").endCancel(c("qpl")._(25311430,"2261"),{annotations:{string:{reason:"hover-out"}}}),t()),y.current=!1,v(!1),D()},g[18]=h):h=g[18];B=h;g[19]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){if(c("gkx")("23249"))return;c("QPLUserFlow").start(c("qpl")._(25311430,"2261"));y.current=!0;v(!0);s();w.current=c("setTimeout")(function(){t(),v(!1),w.current=null,c("QPLUserFlow").endCancel(c("qpl")._(25311430,"2261"),{annotations:{string:{reason:"long-press-pop"}}})},d("MWV2ChatHotlikeButtonAnimation.react").TOTAL_GROW_ANIMATION_TIME_MS+o)},g[19]=h):h=g[19];h=h;var F;g[20]===Symbol["for"]("react.memo_cache_sentinel")?(F=function(){var a;a=(a=x.current)==null?void 0:a.getAnimations()[0];a=a==null?void 0:a.currentTime;return a!=null?a/d("MWV2ChatHotlikeButtonAnimation.react").TOTAL_GROW_ANIMATION_TIME_MS:0},g[20]=F):F=g[20];var G=F;g[21]!==C||g[22]!==i||g[23]!==E?(F=function(){if(c("gkx")("23249")){C(c("LSHotEmojiSize").SMALL);return}if(E()){y.current=!1;return}D();v(!1);y.current=!1;var a=G();a=r(a);u(a);C(a);c("QPLUserFlow").endSuccess(c("qpl")._(25311430,"2261"),{annotations:{bool:{isDefaultLike:i},"int":{size:a}}})},g[21]=C,g[22]=i,g[23]=E,g[24]=F):F=g[24];F=F;g[25]!==F||g[26]!==n?(B={animationsContainerRef:x,handleHoverOut:B,handleOnPress:F,handlePressIn:h,shouldShowGrowAnimation:n},g[25]=F,g[26]=n,g[27]=B):B=g[27];return B}g["default"]=a}),98);
__d("MWV2ChatHotlikeButton.react",["fbt","BaseView.react","CometEmoji.react","EmojiRenderer","MWLikeSvgIcon.react","MWV2ChatHotlikeButtonAnimation.react","MWXPressable.react","MWXTooltip.react","gkx","isStringNullOrEmpty","react","react-compiler-runtime","useMWV2ChatHotlikeButton"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;b=20;var k=56;b/k;var l={adjustEmojiSize:{transform:"xtzsbya",$$css:!0},customEmojiButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingLeft:null,paddingRight:null,$$css:!0},customEmojiButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingLeft:null,paddingRight:null,$$css:!0},hotlikeButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},hotlikeButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},m=h._(/*BTDS*/"__JHASH__OzQk4bc7gK8__JHASH__");function a(a){var b=d("react-compiler-runtime").c(42),e=a.customEmoji,f=a.disabled,g=a.onSendMessage,i=a.shouldHideTooltip;a=a.threadType;f=f===void 0?!1:f;i=i===void 0?!1:i;g=c("useMWV2ChatHotlikeButton")(e,g,a,"MWV2ChatHotlikeButton");a=g.animationsContainerRef;var q=g.handleHoverOut,r=g.handleOnPress,s=g.handlePressIn;g=g.shouldShowGrowAnimation;var t;b[0]!==e?(t=function(a){if(c("isStringNullOrEmpty")(e))return;var b=d("EmojiRenderer").parse(e).map(p);if(b.length!==1)return j.jsx("span",{children:e});b=b[0];return a===k?j.jsx(c("BaseView.react"),{xstyle:l.adjustEmojiSize,children:j.jsx(c("CometEmoji.react"),{emoji:b,size:a})}):j.jsx(c("CometEmoji.react"),{emoji:b,size:a})},b[0]=e,b[1]=t):t=b[1];t=t;if(!c("isStringNullOrEmpty")(e)){var u;b[2]!==e?(u=h._(/*BTDS*/"__JHASH__tAqfCk1edp7__JHASH__",[h._param("emoji",e)]),b[2]=e,b[3]=u):u=b[3];u=u;var v=f||g,w;b[4]!==t?(w=t(k),b[4]=t,b[5]=w):w=b[5];var x;b[6]!==a||b[7]!==g||b[8]!==w?(x=j.jsx(d("MWV2ChatHotlikeButtonAnimation.react").MWV2ChatHotlikeButtonAnimation,{animationsContainerRef:a,shouldShowGrowAnimation:g,children:w}),b[6]=a,b[7]=g,b[8]=w,b[9]=x):x=b[9];b[10]!==f||b[11]!==q||b[12]!==r||b[13]!==s||b[14]!==g||b[15]!==v||b[16]!==x||b[17]!==u?(w=j.jsx(c("MWXPressable.react"),{"aria-label":u,disabled:f,hideFocusOverlay:g,hideHoverOverlay:g,onHoverOut:q,onPress:r,onPressIn:s,overlayDisabled:v,overlayRadius:"50%",testid:void 0,xstyle:o,children:x}),b[10]=f,b[11]=q,b[12]=r,b[13]=s,b[14]=g,b[15]=v,b[16]=x,b[17]=u,b[18]=w):w=b[18];v=w;if(i)return v;b[19]!==t?(x=h._(/*BTDS*/"__JHASH__CsSxx_HAT5f__JHASH__",[h._param("emoji",t(16))]),b[19]=t,b[20]=x):x=b[20];u=x;w=g?null:u;b[21]!==v||b[22]!==w?(t=j.jsx(c("MWXTooltip.react"),{align:"middle",label:m,position:"above",tooltip:w,children:v}),b[21]=v,b[22]=w,b[23]=t):t=b[23];return t}x=f||g;b[24]===Symbol["for"]("react.memo_cache_sentinel")?(u="xsrhx6k",b[24]=u):u=b[24];v=f?void 0:"var(--chat-composer-button-color)";b[25]!==v?(w=j.jsx(c("MWLikeSvgIcon.react"),{className:u,color:v,size:20}),b[25]=v,b[26]=w):w=b[26];b[27]!==a||b[28]!==g||b[29]!==w?(t=j.jsx(d("MWV2ChatHotlikeButtonAnimation.react").MWV2ChatHotlikeButtonAnimation,{animationsContainerRef:a,shouldShowGrowAnimation:g,children:w}),b[27]=a,b[28]=g,b[29]=w,b[30]=t):t=b[30];b[31]!==f||b[32]!==q||b[33]!==r||b[34]!==s||b[35]!==g||b[36]!==x||b[37]!==t?(u=j.jsx(c("MWXPressable.react"),{"aria-label":m,disabled:f,hideFocusOverlay:g,hideHoverOverlay:g,onHoverOut:q,onPress:r,onPressIn:s,overlayDisabled:x,overlayRadius:"50%",testid:void 0,xstyle:n,children:t}),b[31]=f,b[32]=q,b[33]=r,b[34]=s,b[35]=g,b[36]=x,b[37]=t,b[38]=u):u=b[38];v=u;if(i)return v;a=g?null:m;b[39]!==v||b[40]!==a?(w=j.jsx(c("MWXTooltip.react"),{align:"middle",label:m,position:"above",tooltip:a,children:v}),b[39]=v,b[40]=a,b[41]=w):w=b[41];return w}function n(){return[c("gkx")("23219")?l.hotlikeButtonMDS:l.hotlikeButtonFDS]}function o(){return[c("gkx")("23219")?l.customEmojiButtonMDS:l.customEmojiButtonFDS]}function p(a){return a.emoji}g["default"]=a}),226);
__d("MWV2ComposerMenuButtonTrigger.react",["fbt","MWChatChatButtonColorConstants","MWXPressable.react","MWXTooltip.react","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=h._(/*BTDS*/"__JHASH__2kGg_y6m8FS__JHASH__"),m={buttonFDS:{flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginEnd:"x1emribx",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(11),e=a.color,f=a.contextRef,g=a.disabled;a=a.onShow;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=(i||(i=c("stylex"))).props(d("MWChatChatButtonColorConstants").styles.strokeGrey),b[0]=h):h=b[0];var j,m,o;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx("path",{d:"M1.5,1.5 H22.5"}),m=k.jsx("path",{d:"M1.5,9 H22.5"}),o=k.jsx("path",{d:"M1.5,16.5 H22.5"}),b[1]=j,b[2]=m,b[3]=o):(j=b[1],m=b[2],o=b[3]);b[4]!==e?(h=k.jsx("svg",babelHelpers["extends"]({"aria-hidden":"true"},h,{height:"20",viewBox:"0 0 24 18",width:"20",children:k.jsxs("g",{stroke:e,strokeLinecap:"round",strokeWidth:"2.5",children:[j,m,o]})})),b[4]=e,b[5]=h):h=b[5];b[6]!==f||b[7]!==g||b[8]!==a||b[9]!==h?(j=k.jsx(c("MWXTooltip.react"),{forceInlineDisplay:!0,position:"above",tooltip:l,children:k.jsx(c("MWXPressable.react"),{disabled:g,label:l,onPress:a,overlayDisabled:g,overlayRadius:"50%",ref:f,xstyle:n,children:h})}),b[6]=f,b[7]=g,b[8]=a,b[9]=h,b[10]=j):j=b[10];return j}function n(){return[c("gkx")("23219")?m.buttonMDS:m.buttonFDS]}g["default"]=a}),226);
__d("MWV2ComposerMenuButton.react",["JSResourceForInteraction","MWV2ComposerMenuButtonTrigger.react","MWXLazyPopoverTrigger.react","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.color,f=a.disabled,g=a.editor,h=a.hasPersistentMenu,j=a.onSendMessage;a=a.threadKey;var k=f===void 0?!1:f;b[0]!==g||b[1]!==h||b[2]!==j||b[3]!==a?(f={editor:g,hasPersistentMenu:h,onClose:c("emptyFunction"),onSendMessage:j,threadKey:a},b[0]=g,b[1]=h,b[2]=j,b[3]=a,b[4]=f):f=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=c("JSResourceForInteraction")("MWComposerCommandsMenu.react").__setRef("MWV2ComposerMenuButton.react"),b[5]=g):g=b[5];b[6]!==e||b[7]!==k?(h=function(a,b){return i.jsx(c("MWV2ComposerMenuButtonTrigger.react"),{color:e,contextRef:a,disabled:k,onShow:b})},b[6]=e,b[7]=k,b[8]=h):h=b[8];b[9]!==f||b[10]!==h?(j=i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:f,popoverResource:g,children:h}),b[9]=f,b[10]=h,b[11]=j):j=b[11];return j}g["default"]=a}),98);
__d("useMWComposerPersistentMenuItemSelect",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),c=a.composerEntrypointForLogging,e=a.onSendMessage;b[0]!==c||b[1]!==e?(a=function(a){var b=a.id;a=a.title;return e(a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,b,void 0,void 0,void 0,void 0,void 0,void 0,c)},b[0]=c,b[1]=e,b[2]=a):a=b[2];return a}g["default"]=a}),98);
__d("MWV2ComposerPersistentMenuButton.react",["JSResourceForInteraction","MWV2ComposerMenuButtonTrigger.react","MWXLazyPopoverTrigger.react","emptyFunction","react","react-compiler-runtime","useMWComposerPersistentMenuItemSelect"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.color,f=a.disabled;a=a.onSendMessage;var g=f===void 0?!1:f;b[0]!==a?(f={composerEntrypointForLogging:"MWV2ComposerPersistentMenuButton",onSendMessage:a},b[0]=a,b[1]=f):f=b[1];a=c("useMWComposerPersistentMenuItemSelect")(f);b[2]!==a?(f={onClose:c("emptyFunction"),onSelect:a},b[2]=a,b[3]=f):f=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2ComposerPersistentMenuButton.react"),b[4]=a):a=b[4];var h;b[5]!==e||b[6]!==g?(h=function(a,b){return i.jsx(c("MWV2ComposerMenuButtonTrigger.react"),{color:e,contextRef:a,disabled:g,onShow:b})},b[5]=e,b[6]=g,b[7]=h):h=b[7];b[8]!==f||b[9]!==h?(a=i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:f,popoverResource:a,children:h}),b[8]=f,b[9]=h,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWComposerEndButtonsGroup.react",["MWV2ChatHotlikeButton.react","MWV2ComposerMenuButton.react","MWV2ComposerPersistentMenuButton.react","MWV2ComposerSendButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j="var(--chat-composer-button-color)";function a(a){var b=d("react-compiler-runtime").c(14),e=a.customEmoji,f=a.disabled,g=a.editor,h=a.hasPersistentMenu,k=a.hasStuffToSend,l=a.isVoiceRecorderOpen,m=a.onSendMessage,n=a.sendMessage,o=a.shouldHideHotLike,p=a.shouldHideTooltip,q=a.showCommands,r=a.threadKey;a=a.threadType;p=p===void 0?!1:p;var s;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==k||b[5]!==l||b[6]!==m||b[7]!==n||b[8]!==o||b[9]!==p||b[10]!==q||b[11]!==r||b[12]!==a?(s=l?null:k?i.jsx(c("MWV2ComposerSendButton.react"),{disabled:f,hasStuffToSend:k,onPress:n,shouldHideTooltip:p}):q?i.jsx(c("MWV2ComposerMenuButton.react"),{color:j,disabled:f,editor:g,hasPersistentMenu:h,onSendMessage:m,threadKey:r}):h?i.jsx(c("MWV2ComposerPersistentMenuButton.react"),{color:j,disabled:f,onSendMessage:m}):o?i.jsx("span",{className:"x1e558r4 x150jy0e"}):i.jsx(c("MWV2ChatHotlikeButton.react"),{customEmoji:e,disabled:f,onSendMessage:m,shouldHideTooltip:p,threadType:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=k,b[5]=l,b[6]=m,b[7]=n,b[8]=o,b[9]=p,b[10]=q,b[11]=r,b[12]=a,b[13]=s):s=b[13];return s}g["default"]=a}),98);
__d("MWComposerPlaceholder.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.height;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x1exxf4d x13fuv20 x178xt8z",b[0]=c):c=b[0];a=a.toString()+"px";b[1]!==a?(c=i.jsx("div",{className:c,style:{height:a}}),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("MWPArmadilloLoadingStateMessage.react",["fbt","MWXColumn.react","MWXColumnItem.react","MWXSpinner.react","MWXText.react","cr:6285","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(2);a=a.threadKey;a=b("cr:6285")(a);var f;e[0]!==a?(f=a?null:j.jsxs(c("MWXColumn.react"),{align:"center",id:"armadillo-loading-indicator-banner",paddingVertical:12,spacing:8,children:[j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXSpinner.react"),{color:"disabled",size:20})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{type:"entityHeaderMeta1",children:h._(/*BTDS*/"__JHASH__7VvIEysTDk2__JHASH__")})})]}),e[0]=a,e[1]=f):f=e[1];return f}g["default"]=a}),226);
__d("useMWLSProactiveWarningTables",["MWPreloadableQueries","MWThreadKey.react","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(11),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=(h||(h=c("useReStore")))(),g,i;a[0]!==e||a[1]!==b?(g=function(){return d("MWPreloadableQueries").getThreadBannerQuery(e,b)},i=[e,b],a[0]=e,a[1]=b,a[2]=g,a[3]=i):(g=a[2],i=a[3]);g=d("ReQLSuspense").useFirst(g,i,f.id+":31");var j;a[4]!==e||a[5]!==b?(i=function(){return d("MWPreloadableQueries").getProactiveWarningsForThreadQuery(e,b)},j=[e,b],a[4]=e,a[5]=b,a[6]=i,a[7]=j):(i=a[6],j=a[7]);i=d("ReQLSuspense").useFirst(i,j,f.id+":36");a[8]!==g||a[9]!==i?(j={banner:g,pwSettings:i},a[8]=g,a[9]=i,a[10]=j):j=a[10];return j}g["default"]=a}),98);
__d("useMWProactiveWarningPayloadMemo",["I64","Int64Hooks","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(7),c=a.banner,e=a.ignoreDismissTime,f=a.isPWDismissTimeSet,g=a.pwSettings,i=a.threadKey,j;b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==i?(a=function(){if(g==null||c==null)return;var a=g.context,b=g.entryPoint,j=g.storyLocation,k=g.suspectId,l=g.tag,m=c.bannerId,n=c.cta1Title,o=c.cta2Title,p=c.heading,q=c.titleSectionOne;if(!((Boolean(e)||f)&&(h||(h=d("I64"))).equal(m,(h||(h=d("I64"))).of_string("7"))))return;if(k!=null&&a!=null&&j!=null&&b!=null&&l!=null&&p!=null&&o!=null&&n!=null&&q!=null)return{context:a,cta1Title:n,cta2Title:o,description:q,falco_event_data:{data:{entry_point:(h||(h=d("I64"))).to_int32(b),feedback_tags:[l],surface:h.to_int32(j)},impersonatedUser:{id:"0"},otherUser:{id:h.to_string(k)},reportedUser:{id:"0"},thread:{id:h.to_string(i),type:1}},header:p,threadKey:i}},j=[i,c,g,f,e],b[0]=c,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=a,b[6]=j):(a=b[5],j=b[6]);return d("Int64Hooks").useMemoInt64(a,j)}g["default"]=a}),98);
__d("useMWProactiveWarningPayload",["I64","MWThreadKey.react","react-compiler-runtime","useMWLSProactiveWarningTables","useMWProactiveWarningPayloadMemo"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("react-compiler-runtime").c(8),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useMWLSProactiveWarningTables")(),i=g.banner;g=g.pwSettings;if(e[0]!==b){var j;j=b!=null&&(h||(h=d("I64"))).equal((j=b.proactiveWarningDismissTime)!=null?j:(h||(h=d("I64"))).zero,(h||(h=d("I64"))).zero);e[0]=b;e[1]=j}else j=e[1];b=j;e[2]!==i||e[3]!==a||e[4]!==b||e[5]!==g||e[6]!==f?(j={banner:i,ignoreDismissTime:a,isPWDismissTimeSet:b,pwSettings:g,threadKey:f},e[2]=i,e[3]=a,e[4]=b,e[5]=g,e[6]=f,e[7]=j):j=e[7];return c("useMWProactiveWarningPayloadMemo")(j)}g["default"]=a}),98);
__d("MWPSafetyNoticesChatBlockedComposerDetails.react",["fbt","FDSButton.react","IXTProactiveWarningFollowUpActionsCell.react","LSFactory","LSSetProactiveWarningDismissTimeStoredProcedure","LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent","MDSTextPairing.react","MWThreadKey.react","MWXText.react","promiseDone","react","react-compiler-runtime","stylex","useMWProactiveWarningPayload","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect,n={button:{width:"x5sxuk9",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(48),e=a.fallback,g=a.onClose;a=a.thread;var k=c("useMWProactiveWarningPayload")(void 0,a),o=(i||(i=c("useReStore")))(),p=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),q;b[0]!==k?(a=function(){k!=null&&c("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent").log(function(){var a;return{data:babelHelpers["extends"]({},k.falco_event_data.data,{mute_duration:(a=k.falco_event_data.data.mute_duration)==null?void 0:a.toString(),selected_messages_count:(a=k.falco_event_data.data.selected_messages_count)==null?void 0:a.toString()}),impersonated_user:k.falco_event_data.impersonatedUser,other_user:k.falco_event_data.otherUser,reported_user:k.falco_event_data.reportedUser,thread:k.falco_event_data.thread}})},q=[k],b[0]=k,b[1]=a,b[2]=q):(a=b[1],q=b[2]);m(a,q);if(k==null)return e;b[3]!==k.header?(a=h._(/*BTDS*/"__JHASH__I2SwG7QkbS2__JHASH__",[h._param("header value",k.header)]),b[3]=k.header,b[4]=a):a=b[4];q=a;b[5]!==k.description?(e=h._(/*BTDS*/"__JHASH__kg4ss1ruH19__JHASH__",[h._param("message value",k.description)]),b[5]=k.description,b[6]=e):e=b[6];a=e;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=(j||(j=c("stylex"))).props(n.button,!1),b[7]=e):e=b[7];var r;b[8]!==k.falco_event_data?(r=function(){c("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent").log(function(){var a;return{data:babelHelpers["extends"]({},k.falco_event_data.data,{mute_duration:(a=k.falco_event_data.data.mute_duration)==null?void 0:a.toString(),selected_messages_count:(a=k.falco_event_data.data.selected_messages_count)==null?void 0:a.toString()}),impersonated_user:k.falco_event_data.impersonatedUser,other_user:k.falco_event_data.otherUser,reported_user:k.falco_event_data.reportedUser,thread:k.falco_event_data.thread}})},b[8]=k.falco_event_data,b[9]=r):r=b[9];var s;b[10]!==o||b[11]!==g||b[12]!==p?(s=function(){c("promiseDone")(o.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTimeStoredProcedure")(c("LSFactory")(a),{threadKey:p})},"readwrite",void 0,void 0,f.id+":117"),g,g)},b[10]=o,b[11]=g,b[12]=p,b[13]=s):s=b[13];b[14]!==g||b[15]!==k.context||b[16]!==k.cta1Title||b[17]!==r||b[18]!==s?(e=l.jsx("div",babelHelpers["extends"]({},e,{children:l.jsx(c("IXTProactiveWarningFollowUpActionsCell.react"),{context:k.context,label:k.cta1Title,onClose:g,onPress:r,setPWDismissTime:s})})),b[14]=g,b[15]=k.context,b[16]=k.cta1Title,b[17]=r,b[18]=s,b[19]=e):e=b[19];r=e;b[20]===Symbol["for"]("react.memo_cache_sentinel")?(s=(j||(j=c("stylex"))).props(n.button,!1),b[20]=s):s=b[20];b[21]!==k.cta2Title?(e=h._(/*BTDS*/"__JHASH__lh-XuPg59Gs__JHASH__",[h._param("CTA text value",k.cta2Title)]),b[21]=k.cta2Title,b[22]=e):e=b[22];var t;b[23]!==o||b[24]!==g||b[25]!==k.falco_event_data||b[26]!==k.threadKey?(t=function(){c("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent").log(function(){var a;return{data:babelHelpers["extends"]({},k.falco_event_data.data,{mute_duration:(a=k.falco_event_data.data.mute_duration)==null?void 0:a.toString(),selected_messages_count:(a=k.falco_event_data.data.selected_messages_count)==null?void 0:a.toString()}),impersonated_user:k.falco_event_data.impersonatedUser,other_user:k.falco_event_data.otherUser,reported_user:k.falco_event_data.reportedUser,thread:k.falco_event_data.thread}}),c("promiseDone")(o.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTimeStoredProcedure")(c("LSFactory")(a),{threadKey:k.threadKey})},"readwrite",void 0,void 0,f.id+":156"),g,g)},b[23]=o,b[24]=g,b[25]=k.falco_event_data,b[26]=k.threadKey,b[27]=t):t=b[27];b[28]!==e||b[29]!==t?(s=l.jsx("div",babelHelpers["extends"]({},s,{children:l.jsx(c("FDSButton.react"),{label:e,onPress:t,reduceEmphasis:!1,size:"medium",type:"secondary"})})),b[28]=e,b[29]=t,b[30]=s):s=b[30];e=s;b[31]!==a?(t=l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a}),b[31]=a,b[32]=t):t=b[32];b[33]!==q?(s=l.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:q}),b[33]=q,b[34]=s):s=b[34];b[35]!==t||b[36]!==s?(a=l.jsx(c("MDSTextPairing.react"),{body:t,headline:s,level:4,textAlign:"center"}),b[35]=t,b[36]=s,b[37]=a):a=b[37];b[38]===Symbol["for"]("react.memo_cache_sentinel")?(q={className:"x78zum5 x1q0g3np x1qughib x14vqqas xh8yej3"},b[38]=q):q=b[38];b[39]!==r||b[40]!==e?(t=l.jsxs("div",babelHelpers["extends"]({},q,{children:[r,e]})),b[39]=r,b[40]=e,b[41]=t):t=b[41];b[42]!==a||b[43]!==t?(s=l.jsxs(l.Fragment,{children:[a,t]}),b[42]=a,b[43]=t,b[44]=s):s=b[44];q=s;b[45]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"xzg4506 xi81zsa x14vqqas xyinxu5 xho0xa1 xxbrewl x1vobaek"},b[45]=r):r=b[45];b[46]!==q?(e=l.jsx("div",babelHelpers["extends"]({},r,{children:q})),b[46]=q,b[47]=e):e=b[47];return e}g["default"]=a}),226);
__d("MWPSafetyNoticesChatBlockedComposer.react",["MWPSafetyNoticesChatBlockedComposerDetails.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.fallback,f=a.onClose;a=a.thread;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=i.jsx(c("MWPSafetyNoticesChatBlockedComposerDetails.react"),{fallback:e,onClose:f,thread:a}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("MWComposerXacDisclosureRelayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5305811016137974"}),null);
__d("MWComposerXacDisclosureRelayQuery.graphql",["MWComposerXacDisclosureRelayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWComposerXacDisclosureRelayQuery",fragmentName:"MWComposerXacDisclosureView_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MWComposerXacDisclosureRelayQuery_facebookRelayOperation"),metadata:{},name:"MWComposerXacDisclosureRelayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWComposerXacDisclosureRelay.react",["CometPlaceholder.react","CometRelay","MWComposerXacDisclosureRelayQuery.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=8659;function a(a){var e=d("react-compiler-runtime").c(7),f=a.isThreadInNullState;a=a.size;var g=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWComposerXacDisclosureRelayQuery.graphql"),{nux_id:k}),i=g.xacThreadDisclosureNux,l;e[0]!==g.xacThreadDisclosureNux||e[1]!==f||e[2]!==i||e[3]!==a?(l=i!=null?j.jsx(d("CometRelay").MatchContainer,{match:i,props:{isThreadInNullState:f,nuxKey:g.xacThreadDisclosureNux,size:a}}):null,e[0]=g.xacThreadDisclosureNux,e[1]=f,e[2]=i,e[3]=a,e[4]=l):l=e[4];e[5]!==l?(g=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWComposerXacDisclosureRelay",children:l}),e[5]=l,e[6]=g):g=e[6];return g}g["default"]=a}),98);
__d("MWMessageRequestComposerBanner.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWMessageRequestSharedTexts.react","MWXComposerBanner.react","MessageRequestsLog","MessengerMSplitFlag","MessengerWebUXLogger","react","react-compiler-runtime","useMWXConfirmationDialog","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(59),e=a.isGroup,f=a.isGXAC,g=a.isIgContact,i=a.isMSplitContact,m=a.name,n=a.onDeleteConversation,o=a.onLeaveGroup,p=a.otherUserContact,q=a.secondaryName,r=a.thread,s=c("useMWXConfirmationDialog")();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("MWChatBlockActionDialog.react").__setRef("MWMessageRequestComposerBanner.react"),b[0]=a):a=b[0];a=c("useMWXLazyDialog")(a);var t=a[0];b[1]!==r.cannotUnsendReason||b[2]!==r.threadType?(a=(j||(j=d("I64"))).equal(r.threadType,(k||(k=d("LSIntEnum"))).ofNumber(1))&&r.cannotUnsendReason!=null&&(j||(j=d("I64"))).equal(r.cannotUnsendReason,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD)),b[1]=r.cannotUnsendReason,b[2]=r.threadType,b[3]=a):a=b[3];var u=a;b[4]!==p?(a=p!=null?(j||(j=d("I64"))).to_string(p.id):void 0,b[4]=p,b[5]=a):a=b[5];var v=a;b[6]!==n||b[7]!==r?(p={onConfirm:n,thread:r},b[6]=n,b[7]=r,b[8]=p):p=b[8];a=p;var w=a;b[9]!==u||b[10]!==t||b[11]!==v||b[12]!==r?(n=function(){var a;t({loggingData:{entryPoint:4,requestId:void 0,source:u?5:1,sourceOwner:0},targetFBID:(a=v)!=null?a:(j||(j=d("I64"))).to_string(r.threadKey),thread:r})},b[9]=u,b[10]=t,b[11]=v,b[12]=r,b[13]=n):n=b[13];var x=n;b[14]!==o||b[15]!==s?(p=function(){s({body:h._(/*BTDS*/"__JHASH__RPa59uyqDnD__JHASH__"),title:h._(/*BTDS*/"__JHASH__QD3NL6bztov__JHASH__")},o)},b[14]=o,b[15]=s,b[16]=p):p=b[16];var y=p;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("MWChatDeleteConversationDialog.react").__setRef("MWMessageRequestComposerBanner.react"),b[17]=a):a=b[17];n=c("useMWXLazyDialog")(a);var z=n[0],A=c("MessengerWebUXLogger").useInteractionLogger();b[18]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"__JHASH__-p5reen4SU3__JHASH__"),b[18]=p):p=b[18];b[19]!==x||b[20]!==v||b[21]!==r?(a={label:p,onPress:function(){d("MessageRequestsLog").logActionTapped(r,2,v),x()}},b[19]=x,b[20]=v,b[21]=r,b[22]=a):a=b[22];n=a;p=n;b[23]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__9sXJViR2MXn__JHASH__"),b[23]=a):a=b[23];b[24]!==A||b[25]!==y||b[26]!==r?(n={label:a,onPress:function(){d("MessageRequestsLog").logActionTapped(r,10),A==null?void 0:A({eventName:"leave_group",threadKey:r.threadKey,threadType:r.threadType}),y()}},b[24]=A,b[25]=y,b[26]=r,b[27]=n):n=b[27];a=n;n=a;a=e?n:p;if(e){b[28]!==f?(n=f?h._(/*BTDS*/"__JHASH__Zo8nGcr-Wbu__JHASH__"):void 0,b[28]=f,b[29]=n):n=b[29];p=n;b[30]!==f?(e=f?h._(/*BTDS*/"__JHASH__dGW95F1FSGX__JHASH__"):c("MessengerMSplitFlag").is_msplit_account?h._(/*BTDS*/"__JHASH__MWNB1ho8ez7__JHASH__"):h._(/*BTDS*/"__JHASH__8Xn13sU52xi__JHASH__"),b[30]=f,b[31]=e):e=b[31];n=e}else{b[32]!==g?(f=g?h._(/*BTDS*/"__JHASH__CEpoRXODTMn__JHASH__"):void 0,b[32]=g,b[33]=f):f=b[33];p=f;if(g)if(m!=null&&q!=null){b[34]!==m||b[35]!==q?(e=h._(/*BTDS*/"__JHASH__WhaEH6LWAgw__JHASH__",[h._param("XACDisplayName",m),h._param("XACSecondaryName",q)]),b[34]=m,b[35]=q,b[36]=e):e=b[36];n=e}else if(m==null&&q!=null){b[37]!==q?(f=h._(/*BTDS*/"__JHASH__qZp511P-lrQ__JHASH__",[h._param("XACDisplayName",q)]),b[37]=q,b[38]=f):f=b[38];n=f}else{b[39]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"__JHASH__UMff0aQK9RN__JHASH__"),b[39]=g):g=b[39];n=g}else{b[40]!==i||b[41]!==m?(e=m!=null?h._(/*BTDS*/"__JHASH__PiWKQUwgi8l__JHASH__",[h._param("Composer info message",c("MessengerMSplitFlag").is_msplit_account||i?d("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessageForMSplit(m):d("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessage(m))]):h._(/*BTDS*/"__JHASH__5qC4Qq1WTkB__JHASH__"),b[40]=i,b[41]=m,b[42]=e):e=b[42];n=e}}b[43]!==a.label||b[44]!==a.onPress?(q={label:a.label,onPress:a.onPress,size:32,type:"secondary"},b[43]=a.label,b[44]=a.onPress,b[45]=q):q=b[45];f=q;g=f;b[46]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"__JHASH__OllJcbQyTkT__JHASH__"),b[46]=i):i=b[46];b[47]!==w||b[48]!==z||b[49]!==v||b[50]!==r?(m={label:i,onPress:function(){d("MessageRequestsLog").logActionTapped(r,8,v),z(w)},size:32,type:"secondary"},b[47]=w,b[48]=z,b[49]=v,b[50]=r,b[51]=m):m=b[51];e=m;a=e;b[52]!==g||b[53]!==a?(q=[g,a],b[52]=g,b[53]=a,b[54]=q):q=b[54];b[55]!==p||b[56]!==n||b[57]!==q?(f=l.jsx(c("MWXComposerBanner.react"),{bodyText:n,buttons:q,headerText:p,testid:void 0}),b[55]=p,b[56]=n,b[57]=q,b[58]=f):f=b[58];return f}g["default"]=a}),226);
__d("MWReQLMessageRequestComposerBanner.react",["fbt","I64","LSContactTypeExact","LSIntEnum","MWContactDetails","MWLSContactTypeExactUtils","MWMessageRequestComposerBanner.react","MessageRequestsLog","isMWXacGroupThread","isStringNullOrEmpty","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useEffect,n=b.useRef;function a(a){var b=d("react-compiler-runtime").c(26),e=a.isGroup,f=a.onDeleteConversation,g=a.onLeaveGroup,i=a.otherUserContact,o=a.thread,p=n(!1);b[0]!==o?(a=c("isMWXacGroupThread")(o),b[0]=o,b[1]=a):a=b[1];a=a;if(b[2]!==i){var q;q=(q=d("MWContactDetails").getName(i))!=null?q:h._(/*BTDS*/"__JHASH__AaE4hJExM0x__JHASH__");b[2]=i;b[3]=q}else q=b[3];q=q;var r,s;b[4]!==i?(r=d("MWContactDetails").getSecondaryName(i),s=c("isStringNullOrEmpty")(r)?void 0:r,b[4]=i,b[5]=r,b[6]=s):(r=b[5],s=b[6]);r=s;b[7]!==i?(s=i!=null?d("MWLSContactTypeExactUtils").isIgContact(i.contactTypeExact):!1,b[7]=i,b[8]=s):s=b[8];s=s;var t;b[9]!==i?(t=(i==null?void 0:i.contactTypeExact)!=null&&(j||(j=d("I64"))).equal(i.contactTypeExact,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB)),b[9]=i,b[10]=t):t=b[10];t=t;var u,v;b[11]!==i||b[12]!==o?(u=function(){if(p.current===!0)return;p.current=!0;i==null?d("MessageRequestsLog").logMessageRequestInfoShown(o):d("MessageRequestsLog").logMessageRequestInfoShown(o,(j||(j=d("I64"))).to_string(i.id))},v=[o,i],b[11]=i,b[12]=o,b[13]=u,b[14]=v):(u=b[13],v=b[14]);m(u,v);b[15]!==a||b[16]!==e||b[17]!==s||b[18]!==t||b[19]!==q||b[20]!==f||b[21]!==g||b[22]!==i||b[23]!==r||b[24]!==o?(u=l.jsx(c("MWMessageRequestComposerBanner.react"),{isGXAC:a,isGroup:e,isIgContact:s,isMSplitContact:t,name:q,onDeleteConversation:f,onLeaveGroup:g,otherUserContact:i,secondaryName:r,thread:o}),b[15]=a,b[16]=e,b[17]=s,b[18]=t,b[19]=q,b[20]=f,b[21]=g,b[22]=i,b[23]=r,b[24]=o,b[25]=u):u=b[25];return u}g["default"]=a}),226);
__d("useMessageRequestDeleteConversation",["Int64Hooks","LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MWChatStateActions","MWChatStateV2.react","MessageRequestsLog","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(5),e=(i||(i=c("useReStore")))(),g=d("MWChatStateV2.react").useDispatch(),j,k;b[0]!==e||b[1]!==g||b[2]!==a?(j=function(){d("MessageRequestsLog").logActionConfirmed(a,8),c("promiseDone")(e.runInTransaction(function(b){return c("LSOptimisticRemoveThreadStoredProcedure")(c("LSFactory")(b),{removeType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRemoveType").DELETE_THREAD),threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":42"),function(){return g(d("MWChatStateActions").closeTabByThreadKey(Date.now(),a.threadKey))})},k=[e,a,g],b[0]=e,b[1]=g,b[2]=a,b[3]=j,b[4]=k):(j=b[3],k=b[4]);return d("Int64Hooks").useCallbackInt64(j,k)}g["default"]=a}),98);
__d("useMessageRequestLeaveGroup",["Int64Hooks","LSFactory","LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure","LSVec","MWPActor.react","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(5),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),i,j;b[0]!==g||b[1]!==e||b[2]!==a?(i=function(){c("promiseDone")(e.runInTransaction(function(b){return c("LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure")(c("LSFactory")(b),{contactIds:c("LSVec").ofArray([g]),threadKey:a})},"readwrite",void 0,void 0,f.id+":28"))},j=[g,e,a],b[0]=g,b[1]=e,b[2]=a,b[3]=i,b[4]=j):(i=b[3],j=b[4]);return d("Int64Hooks").useCallbackInt64(i,j)}g["default"]=a}),98);
__d("MWV2ComposerDisclosure.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWSecureComposerUtils","MWChatComposerVoiceIndicator.react","MWComposerDisclosureMSipNotices.react","MWComposerXacDisclosureRelay.react","MWLSContactTypeExactUtils","MWLSThreadDisplayContext","MWPActor.react","MWReQLMessageRequestComposerBanner.react","MessageRequestsLog","MessengerWebUXLogger","ReQL","ReQLSuspense","cr:3912","gkx","qex","react","react-compiler-runtime","useMessageRequestDeleteConversation","useMessageRequestLeaveGroup","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));k.useMemo;var m=b("cr:3912")==null?function(a,b){return!1}:b("cr:3912").isOneOnOneMessageRequestV2,n=b("cr:3912")==null?function(a){return!1}:b("cr:3912").isGroupMessageRequest,o=c("gkx")("7387");function p(a){var b=d("react-compiler-runtime").c(45),e=a.forceVoiceIndicatorShown_TEST_ONLY,g=a.thread,k=(h||(h=c("useReStore")))();a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=a==="Inbox"?"large":"small";var p=c("useMessageRequestLeaveGroup")(g.threadKey),q=g.threadType,r=c("useMessageRequestDeleteConversation")(g),s;b[0]!==q?(s=d("LSMessagingThreadTypeUtil").isArmadilloSecure(q),b[0]=q,b[1]=s):s=b[1];var t=s;b[2]!==t||b[3]!==g?(s=!t&&d("LSThreadBitOffset").has(21,g),b[2]=t,b[3]=g,b[4]=s):s=b[4];s=s;var u=d("MWPActor.react").useActor(),v,w;b[5]!==u||b[6]!==k||b[7]!==g.threadKey||b[8]!==g.threadType?(v=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(g.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(k.tables.participants).getKeyRange(g.threadKey),d("ReQL").fromTableAscending(k.tables.contacts)).filter(function(a){a=a[1];return!(i||(i=d("I64"))).equal(a.id,u)}):d("ReQL").empty()},w=[k,g.threadKey,g.threadType,u],b[5]=u,b[6]=k,b[7]=g.threadKey,b[8]=g.threadType,b[9]=v,b[10]=w):(v=b[9],w=b[10]);var x=d("ReQLSuspense").useFirst(v,w,f.id+":78");bb0:{if(t){b[11]!==x||b[12]!==g?(v=m(g,x)||o&&n(g),b[11]=x,b[12]=g,b[13]=v):v=b[13];w=v;break bb0}w=!1}v=w;b[14]!==q?(w=d("LSMessagingThreadTypeUtil").isGroup(q),b[14]=q,b[15]=w):w=b[15];var y=w;b[16]!==x?(q=x!=null?d("MWLSContactTypeExactUtils").isIgContact(x[1].contactTypeExact):!1,b[16]=x,b[17]=q):q=b[17];w=q;b[18]!==k||b[19]!==x||b[20]!==g?(q=function(){x!=null&&d("MAWSecureComposerUtils").onDeleteThread(k,g,x[1].id)},b[18]=k,b[19]=x,b[20]=g,b[21]=q):q=b[21];q=q;var z=c("MessengerWebUXLogger").useInteractionLogger(),A;b[22]===Symbol["for"]("react.memo_cache_sentinel")?(A=c("qex")._("3447"),b[22]=A):A=b[22];A=A;var B;b[23]!==e?(B=l.jsx(c("MWChatComposerVoiceIndicator.react"),{forceShown_TEST_ONLY:e}),b[23]=e,b[24]=B):B=b[24];b[25]!==x||b[26]!==g.threadKey?(e=A!=null&&A&&x?l.jsx(c("MWComposerDisclosureMSipNotices.react"),{other_user_id:(i||(i=d("I64"))).to_string(x==null?void 0:x[1].id),thread_id:(i||(i=d("I64"))).to_string(g.threadKey)}):null,b[25]=x,b[26]=g.threadKey,b[27]=e):e=b[27];b[28]!==w||b[29]!==y||b[30]!==t||b[31]!==p||b[32]!==z||b[33]!==r||b[34]!==q||b[35]!==(x==null?void 0:x[1])||b[36]!==s||b[37]!==v||b[38]!==a||b[39]!==g?(A=v||s?l.jsx(c("MWReQLMessageRequestComposerBanner.react"),{isGroup:y,onDeleteConversation:t?q:r,onLeaveGroup:function(){if(!t&&y){d("MessageRequestsLog").logActionConfirmed(g,10);z==null?void 0:z({eventName:"leave_group",threadKey:g.threadKey,threadType:g.threadType});return p()}},otherUserContact:x==null?void 0:x[1],thread:g}):!t&&w?l.jsx(c("MWComposerXacDisclosureRelay.react"),{isThreadInNullState:(i||(i=d("I64"))).lt(g.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),size:a}):null,b[28]=w,b[29]=y,b[30]=t,b[31]=p,b[32]=z,b[33]=r,b[34]=q,b[35]=x==null?void 0:x[1],b[36]=s,b[37]=v,b[38]=a,b[39]=g,b[40]=A):A=b[40];b[41]!==B||b[42]!==e||b[43]!==A?(w=l.jsxs(l.Fragment,{children:[B,e,A]}),b[41]=B,b[42]=e,b[43]=A,b[44]=w):w=b[44];return w}function a(a){var b=d("react-compiler-runtime").c(3),e=a.forceVoiceIndicatorShown_TEST_ONLY;a=a.thread;e=(e=e)!=null?e:!1;var f;b[0]!==e||b[1]!==a?(f=l.jsx(c("CometErrorBoundary.react"),{fallback:q,children:l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ComposerDisclosure",children:l.jsx(p,{forceVoiceIndicatorShown_TEST_ONLY:e,thread:a})})}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}function q(){return null}g["default"]=a}),98);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc xl521sm x9mfa4r x889kno"},a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__viCgEPmOyD5__JHASH__"),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",babelHelpers["extends"]({},b,{children:j.jsx(c("MDSTextPairing.react"),{headline:e,headlineColor:"secondary",level:4,meta:j.jsx(c("MWXText.react"),{numberOfLines:2,type:"meta3",children:h._(/*BTDS*/"__JHASH__FrvKCKsD46D__JHASH__")}),reduceEmphasis:!0,textAlign:"center"})})),a[2]=b):b=a[2];return b}g["default"]=a}),226);
__d("MWXACSunsettedComposer.react",["fbt","BaseTheme.react","MWXLink.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={dark:{"primary-text":"#e4e6eb","secondary-text":"#b0b3b8"},light:{"primary-text":"rgba(0, 0, 0, 0.7)","secondary-text":"rgba(0, 0, 0, 0.5)"},type:"VARIABLES"};function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"__JHASH__E5yAiYeCVHB__JHASH__",[h._param("=Learn more",j.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",children:j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:h._(/*BTDS*/"__JHASH__W_KwwnBzw9K__JHASH__")})}))]),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1exxf4d x13fuv20 x178xt8z xqy66fx xc73u3c xx6bls6 x5ib6vp"},a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx("div",babelHelpers["extends"]({},e,{children:j.jsx(c("BaseTheme.react"),{config:k,children:j.jsx(c("MWXTextPairing.react"),{body:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:b}),level:4,textAlign:"center"})})})),a[2]=e):e=a[2];return e}g["default"]=a}),226);
__d("useMWLSSprocFetchProactiveWarningIfNeeded",["I64","Int64Hooks","LSFactory","LSFetchProactiveWarningsIfNeededStoredProcedure","MWThreadKey.react","promiseDone","react-compiler-runtime","useMWLSProactiveWarningTables","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){var g=d("react-compiler-runtime").c(17),j=(i||(i=c("useReStore")))(),k=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),l=c("useMWLSProactiveWarningTables")(),m=l.banner;l=l.pwSettings;var n;g[0]!==m||g[1]!==l?(n=m!=null&&l!=null?(h||(h=d("I64"))).equal(m.bannerId,(h||(h=d("I64"))).of_string("7")):!1,g[0]=m,g[1]=l,g[2]=n):n=g[2];m=n;if(g[3]!==m||g[4]!==a||g[5]!==e||g[6]!==b){n=a&&!m?e?!0:b!=null?(h||(h=d("I64"))).equal((l=b.proactiveWarningDismissTime)!=null?l:(h||(h=d("I64"))).zero,(h||(h=d("I64"))).zero):!1:!1;g[3]=m;g[4]=a;g[5]=e;g[6]=b;g[7]=n}else n=g[7];l=n;var o=b!=null&&l;g[8]!==o||g[9]!==j||g[10]!==k?(m=function(){o&&c("promiseDone")(j.runInTransaction(function(a){return c("LSFetchProactiveWarningsIfNeededStoredProcedure")(c("LSFactory")(a),{threadKey:k})},"readwrite",void 0,void 0,f.id+":57"))},g[8]=o,g[9]=j,g[10]=k,g[11]=m):m=g[11];g[12]!==l||g[13]!==o||g[14]!==j||g[15]!==k?(a=[k,l,o,j],g[12]=l,g[13]=o,g[14]=j,g[15]=k,g[16]=a):a=g[16];d("Int64Hooks").useEffectInt64(m,a)}g["default"]=a}),98);
__d("useMWMarketplaceThreadOtherUser",["I64","LSIntEnum","MWPActor.react","MessagingThreadSubtype","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=d("react-compiler-runtime").c(6),e=a.thread,g=(j||(j=c("useReStore")))(),l=d("MWPActor.react").useActor(),m;b[0]!==l||b[1]!==g||b[2]!==e.threadKey||b[3]!==e.threadSubtype?(a=function(){return e.threadSubtype!=null&&(h||(h=d("I64"))).equal(e.threadSubtype,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").MARKETPLACE_THREAD))?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(e.threadKey),d("ReQL").fromTableAscending(g.tables.contacts)).filter(function(a){a=a[1];return!(h||(h=d("I64"))).equal(a.id,l)}).map(k):d("ReQL").empty()},m=[e.threadKey,g,l,e.threadSubtype],b[0]=l,b[1]=g,b[2]=e.threadKey,b[3]=e.threadSubtype,b[4]=a,b[5]=m):(a=b[4],m=b[5]);return d("ReQLSuspense").useFirst(a,m,f.id+":31")}function k(a){a=a[1];return a}g["default"]=a}),98);
__d("useMWPComposerFileDropzoneRegisterHandler",["MWV2FileDropzone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);j(function(){if(a){b.current.enabled=!1;b.current.handler=null;return function(){b.current.enabled=!0,b.current.handler=null}}},[b,a])}g["default"]=a}),98);
__d("MWPComposerGating.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSAuthorityLevel","LSCommunityPublicGroupParticipationApprovalStatus","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MWCMThreadTypes.react","MWComposerPlaceholder.react","MWJoinChannelComposerPlaceholder.react","MWPActor.react","MWPArmadilloLoadingStateMessage.react","MWPSafetyNoticesChatBlockedComposer.react","MWPThreadIsPage.react","MWV2ComposerDisclosure.react","MWV2ErrorComposer.react","MWXACSunsettedComposer.react","MessagingCommunityChatsPauseStatus","MessagingCommunityType","ReQL","ReQLSuspense","RecoverableViolation.react","ServerTime","ThreadStatus","cr:15982","gkx","justknobx","lazyLoadComponent","mwCMIsAnyCMThread","mwCMisStandAloneCommunity","mwIsThreadDisabled","nullthrows","react","react-compiler-runtime","useCommunityFolder","useIsChatPreviewsEnabled","useMWLSSprocFetchProactiveWarningIfNeeded","useMWMarketplaceThreadOtherUser","useMWPComposerFileDropzoneRegisterHandler","useMWProactiveWarningPayload","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.memo,o=m.useMemo,p=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("MWPComposerGating.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupMutedComposer.react").__setRef("MWPComposerGating.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupBroadcastComposer.react").__setRef("MWPComposerGating.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWJoinChannelComposer.react").__setRef("MWPComposerGating.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWBroadcastChannelMemberComposer.react").__setRef("MWPComposerGating.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMPausedCommunityComposer.react").__setRef("MWPComposerGating.react")),v=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMPausedChatComposer.react").__setRef("MWPComposerGating.react")),w=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMChatPreviewComposer.react").__setRef("MWPComposerGating.react")),x=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMChatLoadingComposer.react").__setRef("MWPComposerGating.react")),y=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),z=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupPendingRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),A=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPTakenDownThreadComposer.react").__setRef("MWPComposerGating.react")),B=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCannotReplyFallbackComposer.react").__setRef("MWPComposerGating.react")),C=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMComposerNudgeText.react").__setRef("MWPComposerGating.react")),D=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDisableMarketplaceDMAThreadComposer.react").__setRef("MWPComposerGating.react"));function a(a){var b,e=d("react-compiler-runtime").c(87),f=a.renderComposer;a=a.thread;var g=(j||(j=d("I64"))).ge(a.authorityLevel,j.of_int32(c("LSAuthorityLevel").AUTHORITATIVE)),h=a.cannotReplyReason==="viewer_not_subscribed",i=a.cannotReplyReason==="broadcast_chat_read_only",m=a.threadStatus!=null&&((j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED))||(j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED))),n=c("mwCMIsAnyCMThread")(a.threadType);a.threadStatus!=null&&(j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED));var o=d("LSThreadBitOffset").has(192,a),E;e[0]!==a?(E={thread:a},e[0]=a,e[1]=E):E=e[1];E=c("useMWMarketplaceThreadOtherUser")(E);var F=a.memberCount!=null?(j||(j=d("I64"))).to_int32(a.memberCount):0;F=d("MWCMThreadTypes.react").isMarketplaceThread(a.threadSubtype)&&!d("LSThreadBitOffset").has(213,a)&&F===2&&(E==null||d("LSContactBitOffset").has(88,E));E=c("useCommunityFolder")(a);var G=c("mwCMisStandAloneCommunity")(E==null?void 0:E.communityType),H=d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(a,E==null?void 0:E.communityType);b=j.to_int32((b=E==null?void 0:E.sendsBlockedUntil)!=null?b:(j||(j=d("I64"))).zero)*1e3;b=b<0||b>d("ServerTime").getMillis();var I=c("mwIsThreadDisabled")(a.takedownState,E==null?void 0:E.takedownState),J=(E==null?void 0:E.fbGroupUserParticipationApprovalStatus)!=null&&(j||(j=d("I64"))).equal(E.fbGroupUserParticipationApprovalStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_REQUIRED)),K=(E==null?void 0:E.fbGroupUserParticipationApprovalStatus)!=null&&(j||(j=d("I64"))).equal(E.fbGroupUserParticipationApprovalStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_PENDING)),L=(E==null?void 0:E.pauseStatus)!=null&&(j||(j=d("I64"))).equal(E.pauseStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingCommunityChatsPauseStatus").PAUSED_BY_SOFT_ACTION))&&c("gkx")("4216");if(!g&&n){e[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[2]=g):g=e[2];e[3]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWPComposerGating.LoadingComposer",children:l.jsx(x,{})}),e[3]=n):n=e[3];return n}if(I){e[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[4]=g):g=e[4];e[5]!==a.threadType?(n=l.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWPComposerGating.TakenDownThread",children:l.jsx(A,{threadType:a.threadType})}),e[5]=a.threadType,e[6]=n):n=e[6];return n}else if(L&&!G){e[7]===Symbol["for"]("react.memo_cache_sentinel")?(I=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[7]=I):I=e[7];g=E==null?void 0:E.folderId;n=E==null?void 0:E.name;L=E==null?void 0:E.fbGroupId;e[8]!==g||e[9]!==n||e[10]!==L||e[11]!==a.threadKey?(G=l.jsx(c("CometPlaceholder.react"),{fallback:I,name:"MWPComposerGating.CMPausedCommunity",children:l.jsx(u,{communityId:g,communityName:n,groupId:L,threadKey:a.threadKey})}),e[8]=g,e[9]=n,e[10]=L,e[11]=a.threadKey,e[12]=G):G=e[12];return G}else if(m){e[13]===Symbol["for"]("react.memo_cache_sentinel")?(I=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[13]=I):I=e[13];e[14]!==a?(g=d("LSThreadBitOffset").has(154,a),e[14]=a,e[15]=g):g=e[15];e[16]!==a.threadType?(n=d("LSMessagingThreadTypeUtil").isSocialChannel(a.threadType),e[16]=a.threadType,e[17]=n):n=e[17];e[18]!==g||e[19]!==n||e[20]!==a.threadKey?(L=l.jsx(c("CometPlaceholder.react"),{fallback:I,name:"MWPComposerGating.PausedChat",children:l.jsx(v,{canPauseChat:g,shouldUseChannelTerminology:n,threadKey:a.threadKey})}),e[18]=g,e[19]=n,e[20]=a.threadKey,e[21]=L):L=e[21];return L}else if(H){e[22]===Symbol["for"]("react.memo_cache_sentinel")?(G=l.jsx(c("MWComposerPlaceholder.react"),{height:64}),e[22]=G):G=e[22];if(e[23]!==(E==null?void 0:E.communityType)){I=(m=E==null?void 0:E.communityType)!=null?m:(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingCommunityType").FB_COMMUNITY);e[23]=E==null?void 0:E.communityType;e[24]=I}else I=e[24];n=(g=E==null?void 0:E.isMember)!=null?g:!1;e[25]!==I||e[26]!==n||e[27]!==a?(L=l.jsx(c("CometPlaceholder.react"),{fallback:G,name:"MWPComposerGating.CMChatPreview",children:l.jsx(w,{communityType:I,isCommunityMember:n,thread:a})}),e[25]=I,e[26]=n,e[27]=a,e[28]=L):L=e[28];return L}else if(d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType)){e[29]!==a.threadKey?(H=l.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast,threadKey:a.threadKey}),e[29]=a.threadKey,e[30]=H):H=e[30];e[31]!==a?(m=l.jsx(s,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast,thread:a}),e[31]=a,e[32]=m):m=e[32];e[33]!==H||e[34]!==m?(g=l.jsx(c("CometPlaceholder.react"),{fallback:H,name:"MWPComposerGating.UnjoinedDiscoverablePublicBroadcastChannel",children:m}),e[33]=H,e[34]=m,e[35]=g):g=e[35];return g}else if(d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType)){e[36]!==a.threadKey?(G=l.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social,threadKey:a.threadKey}),e[36]=a.threadKey,e[37]=G):G=e[37];e[38]!==a?(I=l.jsx(s,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social,thread:a}),e[38]=a,e[39]=I):I=e[39];e[40]!==G||e[41]!==I?(n=l.jsx(c("CometPlaceholder.react"),{fallback:G,name:"MWPComposerGating.SocialChannelUnjoined",children:I}),e[40]=G,e[41]=I,e[42]=n):n=e[42];return n}else if(o){e[43]===Symbol["for"]("react.memo_cache_sentinel")?(L=l.jsx(c("MWComposerPlaceholder.react"),{height:99}),e[43]=L):L=e[43];e[44]===Symbol["for"]("react.memo_cache_sentinel")?(H=l.jsx(c("CometPlaceholder.react"),{fallback:L,name:"MWPComposerGating.XACSunset",children:l.jsx(c("MWXACSunsettedComposer.react"),{})}),e[44]=H):H=e[44];return H}else if(h){e[45]===Symbol["for"]("react.memo_cache_sentinel")?(m=l.jsx(c("MWComposerPlaceholder.react"),{height:99}),e[45]=m):m=e[45];g=E==null?void 0:E.fbGroupId;e[46]!==g||e[47]!==a?(G=l.jsx(c("CometPlaceholder.react"),{fallback:m,name:"MWPComposerGating.LeftGroup",children:l.jsx(p,{groupId:g,thread:a})}),e[46]=g,e[47]=a,e[48]=G):G=e[48];return G}else if(d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&i){e[49]===Symbol["for"]("react.memo_cache_sentinel")?(I=l.jsx(c("MWComposerPlaceholder.react"),{height:55}),e[49]=I):I=e[49];e[50]!==a?(n=d("LSThreadBitOffset").has(139,a),e[50]=a,e[51]=n):n=e[51];e[52]!==n?(o=l.jsx(c("CometPlaceholder.react"),{fallback:I,name:"MWPComposerGating.CMGroupBroadcastReadOnly",children:l.jsx(r,{isBroadcastChatsReactionsEnabled:n})}),e[52]=n,e[53]=o):o=e[53];return o}else if(d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&i){e[54]===Symbol["for"]("react.memo_cache_sentinel")?(L=l.jsx(c("MWComposerPlaceholder.react"),{height:48}),e[54]=L):L=e[54];e[55]!==a.threadKey?(H=l.jsx(c("CometPlaceholder.react"),{fallback:L,name:"MWPComposerGating.BroadcastChannelMemberComposer",children:l.jsx(t,{isJoined:!0,threadKey:a.threadKey})}),e[55]=a.threadKey,e[56]=H):H=e[56];return H}else if(b){e[57]===Symbol["for"]("react.memo_cache_sentinel")?(h=l.jsx(c("MWComposerPlaceholder.react"),{height:141}),e[57]=h):h=e[57];e[58]!==E?(m=l.jsx(c("CometPlaceholder.react"),{fallback:h,name:"MWPComposerGating.CMGroupMuted",children:l.jsx(q,{communityFolder:E})}),e[58]=E,e[59]=m):m=e[59];return m}else if(J){e[60]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("MWComposerPlaceholder.react"),{height:104}),e[60]=g):g=e[60];e[61]!==E?(G=c("nullthrows")(E),e[61]=E,e[62]=G):G=e[62];e[63]!==G||e[64]!==a?(I=l.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWPComposerGating.CMGroupRequestToParticipate",children:l.jsx(y,{communityFolder:G,thread:a})}),e[63]=G,e[64]=a,e[65]=I):I=e[65];return I}else if(K){e[66]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx(c("MWComposerPlaceholder.react"),{height:100}),e[66]=n):n=e[66];e[67]!==(E==null?void 0:E.fbGroupId)?(o=(j||(j=d("I64"))).to_string(c("nullthrows")(E==null?void 0:E.fbGroupId)),e[67]=E==null?void 0:E.fbGroupId,e[68]=o):o=e[68];e[69]!==o||e[70]!==a?(L=l.jsx(c("CometPlaceholder.react"),{fallback:n,name:"MWPComposerGating.CMGroupPendingRequestToParticipate",children:l.jsx(z,{groupID:o,thread:a})}),e[69]=o,e[70]=a,e[71]=L):L=e[71];return L}else if(a.cannotReplyReason!=null){e[72]===Symbol["for"]("react.memo_cache_sentinel")?(H=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[72]=H):H=e[72];e[73]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsx(c("CometPlaceholder.react"),{fallback:H,name:"MWPComposerGating.CannotReply",children:l.jsx(B,{})}),e[73]=b):b=e[73];return b}else if(c("justknobx")._("1978")&&F){e[74]===Symbol["for"]("react.memo_cache_sentinel")?(h=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[74]=h):h=e[74];e[75]===Symbol["for"]("react.memo_cache_sentinel")?(m=l.jsx(c("CometPlaceholder.react"),{fallback:h,name:"MWPComposerGating.DisableMarketplaceDMA",children:l.jsx(D,{})}),e[75]=m):m=e[75];return m}else{e[76]!==i||e[77]!==a?(J=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&!i?l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWPComposerGating.ComposerNudge",children:l.jsx(C,{thread:a})}):null,e[76]=i,e[77]=a,e[78]=J):J=e[78];e[79]!==a?(g=l.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),e[79]=a,e[80]=g):g=e[80];e[81]!==f?(G=f(),e[81]=f,e[82]=G):G=e[82];e[83]!==J||e[84]!==g||e[85]!==G?(I=l.jsxs(l.Fragment,{children:[J,g,G]}),e[83]=J,e[84]=g,e[85]=G,e[86]=I):I=e[86];return I}}var E=n(a);function e(a){var b=d("react-compiler-runtime").c(20),e=a.isMessengerInbox,f=a.renderComposer;a=a.thread;var g;b[0]!==a?(g=l.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),b[0]=a,b[1]=g):g=b[1];var h;b[2]!==f?(h=f(),b[2]=f,b[3]=h):h=b[3];b[4]!==g||b[5]!==h?(f=l.jsxs(l.Fragment,{children:[g,h]}),b[4]=g,b[5]=h,b[6]=f):f=b[6];g=f;b[7]!==a.proactiveWarningDismissTime?(h=a.proactiveWarningDismissTime==null||(j||(j=d("I64"))).is_zero(a.proactiveWarningDismissTime),b[7]=a.proactiveWarningDismissTime,b[8]=h):h=b[8];f=h;b[9]!==a.threadType?(h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),b[9]=a.threadType,b[10]=h):h=b[10];h=h;var i;b[11]!==g||b[12]!==e||b[13]!==f||b[14]!==h||b[15]!==a?(i=e?null:f&&!h?l.jsx(c("MWPSafetyNoticesChatBlockedComposer.react"),{fallback:g,onClose:F,thread:a}):null,b[11]=g,b[12]=e,b[13]=f,b[14]=h,b[15]=a,b[16]=i):i=b[16];e=i;c("useMWLSSprocFetchProactiveWarningIfNeeded")(e!=null,a,!1);f=c("useMWProactiveWarningPayload")(void 0,a);if(e!=null&&f!=null){b[17]===Symbol["for"]("react.memo_cache_sentinel")?(h=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),b[17]=h):h=b[17];b[18]!==e?(i=l.jsx(c("CometPlaceholder.react"),{fallback:h,name:"MWPComposerGating.ProactiveWarning",children:e}),b[18]=e,b[19]=i):i=b[19];return i}return g}function F(){}var G=n(e);function H(a){var e=a.configurations,g=a.isMessengerInbox,i=a.renderComposer,m=a.thread,n=(h||(h=c("useReStore")))(),p=d("MWPActor.react").useActor(),q=(j||(j=d("I64"))).equal(p,m.threadKey),r=d("ReQLSuspense").useArray(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(m.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(n.tables.participants).getKeyRange(m.threadKey),d("ReQL").fromTableAscending(n.tables.contacts)).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[n,m.threadKey,m.threadType],f.id+":543");a=o(function(){return r.find(function(a){return q||r.length===1&&(j||(j=d("I64"))).equal(a.id,p)||!(j||(j=d("I64"))).equal(a.id,p)})},[p,q,r]);var s=d("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType),t=b("cr:15982")(!1,m,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);s=s&&t;t=e.find(function(a){return a!=null});e=t!=null;c("useMWPComposerFileDropzoneRegisterHandler")(e);return l.jsxs(l.Fragment,{children:[s?l.jsx(c("MWPArmadilloLoadingStateMessage.react"),{threadKey:m.threadKey}):null,e?t:d("LSMessagingThreadTypeUtil").isOneToOne(m.threadType)?a!=null?l.jsx(G,{isMessengerInbox:g,otherUser:a,renderComposer:i,thread:m}):(j||(j=d("I64"))).lt(m.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?null:l.jsx(c("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):l.jsx(E,{renderComposer:i,thread:m})]})}H.displayName=H.name+" [from "+f.id+"]";function I(a){var b=d("react-compiler-runtime").c(8),e=a.configurations,f=a.isMessengerInbox,g=a.renderComposer;a=a.thread;f=(f=f)!=null?f:!1;var h;b[0]!==e||b[1]!==g||b[2]!==f||b[3]!==a?(h=l.jsx(H,{configurations:e,isMessengerInbox:f,renderComposer:g,thread:a}),b[0]=e,b[1]=g,b[2]=f,b[3]=a,b[4]=h):h=b[4];b[5]!==h||b[6]!==a.threadKey?(e=l.jsx(c("CometErrorBoundary.react"),{fallback:J,children:l.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:a.threadKey,children:h})}),b[5]=h,b[6]=a.threadKey,b[7]=e):e=b[7];return e}function J(a){return l.jsx(c("MWV2ErrorComposer.react"),{})}J.displayName=J.name+" [from "+f.id+"]";g["default"]=I}),98);
__d("WAGetMediaDevicesSupportedConstraints",["WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["getSupportedConstraints is not supported in this browser. Error: ",""]);h=function(){return a};return a}function a(){try{var a;a=(a=navigator.mediaDevices)==null?void 0:a.getSupportedConstraints();return a}catch(a){d("WALogger").LOG(h(),a);return null}}g.getMediaDevicesSupportedConstraints=a}),98);
__d("MWPUseVoiceRecorder",["AudioContextSingleton","MWChatRecorderUtilsWorkerResource","MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WAGetMediaDevicesSupportedConstraints","WAGetSafeQPLError","WebWorker","clearTimeout","emptyFunction","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i,l=k.useCallback,m=k.useEffect,n=k.useReducer,o=k.useRef;function a(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function e(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function p(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.duration;case"Recorded":case"Playing":return Math.max(a.duration-a.currentTime,0)}}function q(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.recordingTimeout;case"Recorded":case"Playing":return a.duration}}function r(a){switch(a.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return a.currentTime}}function s(a){switch(a.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function t(a){if(a.stage==="Recorded")return a.currentTime===0;else return!1}function u(a){switch(a.stage){case"Recording":return d("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return d("MWPAudioPlayerLabels").playLabel;case"Playing":return d("MWPAudioPlayerLabels").pauseLabel}}function v(a,b){switch(a.stage){case"Recording":return j.jsx(d("MWPAudioPlayerIcons.react").StopIcon,{color:b});case"Unopen":case"Recorded":return j.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:b});case"Playing":return j.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:b})}}v.displayName=v.name+" [from "+f.id+"]";function w(a,b){switch(b.type){case"Start":return{duration:0,mediaStream:b.mediaStream,recordingTimeout:b.recordingTimeout,stage:"Recording"};case"Toggle":switch(a.stage){case"Unopen":return a;case"Recording":return{currentTime:0,duration:a.duration,stage:"Recorded"};case"Recorded":return{currentTime:a.currentTime,duration:a.duration,stage:"Playing"};case"Playing":return{currentTime:a.currentTime,duration:a.duration,stage:"Recorded"}}break;case"UpdateDuration":if(a.duration!=null&&b.duration<a.duration)return a;var c=b.duration;switch(a.stage){case"Unopen":return a;case"Recording":return{duration:c,mediaStream:a.mediaStream,recordingTimeout:a.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:a.currentTime,duration:c,stage:"Recorded"};case"Playing":return{currentTime:a.currentTime,duration:c,stage:"Playing"}}break;case"UpdateTime":c=b.currentTime;switch(a.stage){case"Unopen":case"Recording":return a;case"Recorded":var d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Recorded"};case"Playing":d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Playing"}}break;case"RecordingTimeout":return{currentTime:0,duration:b.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var x={stage:"Unopen"},y=1;function z(a){var e=a.maxDuration,f=e===void 0?60:e;e=a.logClickStartRecording;var g=e===void 0?c("emptyFunction"):e;e=a.logBrowserDenyAccess;var i=e===void 0?c("emptyFunction"):e,j=a.createVoiceRecordQpl,k=((e=d("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:e.sampleRate)===!0;a=n(w,x);var p=a[0],q=a[1],r=c("useIsMountedRef")(),s=o(),t=o([]),u=o([]),v=o(),z=o(),A=o(),B=o(),C=o(),D=o(c("emptyFunction")),E=l(function(a){var b=a[0],c=a[1];if(!r.current)return;a=URL.createObjectURL(b);A.current=a;var d=new Audio(a);d.addEventListener("canplay",function(){z.current=d;var a=d.duration;q({duration:a,type:"UpdateDuration"});a={duration:a,file:b,waveformData:c};B.current=a;D.current(a);(a=C.current)==null?void 0:a.endSuccess()});d.addEventListener("timeupdate",function(){var a;a=(a=z.current)==null?void 0:a.currentTime;a!=null&&q({currentTime:a,type:"UpdateTime"})});d.addEventListener("durationchange",function(){var a;a=(a=z.current)==null?void 0:a.duration;a!=null&&!Number.isNaN(a)&&q({duration:a,type:"UpdateDuration"})})},[r]),F=l(function(){if(s.current==null||v.current==null)return;v.current.postMessage({buffersL:t.current,buffersR:y===2?u.current:null,sampleRate:s.current})},[]);m(function(){if(p.stage!=="Recording")return;t.current=[];u.current=[];var a=c("AudioContextSingleton").get({sampleRate:k?44100:void 0}),b=a.destination;s.current=a.sampleRate;var d=p.mediaStream,e=a.createScriptProcessor(4096,y,y);a=a.createMediaStreamSource(d);v.current=new(c("WebWorker"))(c("MWChatRecorderUtilsWorkerResource")).setMessageHandler(E).setAllowCrossPageTransition(!0).execute();var f=function(a){p.stage==="Recording"&&a instanceof AudioProcessingEvent&&(t.current.push(a.inputBuffer.getChannelData(0).slice()),y===2&&u.current.push(a.inputBuffer.getChannelData(1).slice()))};e.addEventListener("audioprocess",f);a.connect(e);e.connect(b);g();return function(){d.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}}),e.removeEventListener("audioprocess",f)}},[E,g,p.stage,p.mediaStream,k]);var G=c("usePrevious")(p);m(function(){(G==null?void 0:G.stage)==="Recording"&&p.stage==="Recorded"&&F()},[G==null?void 0:G.stage,F,p.stage]);m(function(){if(p.stage!=="Recording")return;var a=Date.now(),b,d=function d(){var e=(Date.now()-a)/1e3;if(e>=f){q({recordingTimeout:f,type:"RecordingTimeout"});return}q({duration:e,type:"UpdateDuration"});b=c("setTimeout")(d,1e3)};b=c("setTimeout")(d,1e3);return function(){b!=null&&c("clearTimeout")(b)}},[f,p.stage]);e=l(function(a){var b=j==null?void 0:j();C.current=b;b==null?void 0:b.start({startInfo:{isOpusRecorder:!1}});q({mediaStream:a,recordingTimeout:f,type:"Start"})},[f,j]);a=l(function(){var a;(a=C.current)==null?void 0:a.endCancel();q({type:"Reset"});(a=z.current)==null?void 0:a.pause();z.current=void 0;B.current=void 0;s.current=void 0;a=A.current;a!=null&&(URL.revokeObjectURL(a),A.current=void 0)},[]);var H=l(function(){var a=function(){q({maxDuration:f,type:"Toggle"})},b=z.current;if(b==null){a();return}switch(p.stage){case"Unopen":a();break;case"Recording":var c;(c=C.current)==null?void 0:c.addPoint("stop-recording");a();break;case"Recorded":(c=C.current)==null?void 0:c.addPoint("play-audio");b.play().then(a)["catch"](function(a){var b;(b=C.current)==null?void 0:b.endFail("browser-deny-access",{string:{failReason:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}});i()});break;case"Playing":(c=C.current)==null?void 0:c.addPoint("pause-playing");b.pause();a();break}},[i,p.stage]),I=l(function(){return new(h||(h=b("Promise")))(function(a){var b=B.current;if(b!=null)return a(b);D.current=a;if(p.stage==="Recording")return H()})},[p,H]);return{audioEl:z,getVoiceClip:I,reset:a,start:e,state:p,toggle:H}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=p;g.getDuration=q;g.getCurrentTime=r;g.isProgressing=s;g.isCompleted=t;g.getPlaybackLabel=u;g.getPlaybackIcon=v;g.useVoiceRecorder=z}),98);
__d("MWXIconPhotoPlus",["MWXSvgIcon","SVGIcon","cr:12529","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12529")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerAttachmentPreview.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXIconDocument","MWXIconPhotoPlus","MWXIconStrict.react","MWXImage.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MWXVideoStatusListener.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i,l=k.useEffect,m=k.useRef,n={cancelButton:{end:"xoo4vsp",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},card:{marginEnd:"xq8finb",position:"x1n2onr6",$$css:!0},contentWrapper:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xsdox4t",minWidth:"x900493",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},filePreview:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",rowGap:"xp1r0qw",columnGap:"xtqikln",height:"xsdox4t",maxWidth:"x1kbpmyu",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",width:"xezivpi",$$css:!0},imagePreview:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0},playIcon:{start:"xtzzx4i",left:null,right:null,marginStart:"x16hk5td",marginTop:"x7wgvq7",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function o(a){var b=d("react-compiler-runtime").c(13),c=a.hasError;a=a.progress;c=c===void 0?!1:c;if(a===1||a==null)return null;c=c?"var(--negative)":"var(--chat-composer-button-color, var(--accent))";a=Math.ceil(a*100);var e=2..toString();e="M 0,"+e+" L 100,"+e;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x168nmei x13lgxp2 x30kzoy x9jhf4c x1ey2m1c x17qophe x10l6tqk xh8yej3",b[0]=f):f=b[0];var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g={height:4..toString()},b[1]=g):g=b[1];var h;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx("path",{d:e,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:4..toString()}),b[2]=h):h=b[2];var i=a===0?0:4,k;b[3]!==i?(k=i.toString(),b[3]=i,b[4]=k):k=b[4];i=100-a;b[5]!==i?(a=i.toString(),b[5]=i,b[6]=a):a=b[6];b[7]!==a?(i={strokeDasharray:"100",strokeDashoffset:a,transition:"stroke-dashoffset .5s, stroke .5s"},b[7]=a,b[8]=i):i=b[8];b[9]!==c||b[10]!==k||b[11]!==i?(a=j.jsxs("svg",{"aria-hidden":!0,className:f,preserveAspectRatio:"none",style:g,viewBox:"0 0 100 "+4..toString(),children:[h,j.jsx("path",{d:e,stroke:c,strokeLinecap:"round",strokeWidth:k,style:i})]}),b[9]=c,b[10]=k,b[11]=i,b[12]=a):a=b[12];return a}function p(a){var b=d("react-compiler-runtime").c(12),e=a.children,f=a.hasError,g=a.onCancel,i=a.progress;a=a.testid;f=f===void 0?!1:f;var k;b[0]!==f||b[1]!==i?(k=j.jsx(o,{hasError:f,progress:i}),b[0]=f,b[1]=i,b[2]=k):k=b[2];b[3]!==e||b[4]!==k?(f=j.jsxs(d("react-strict-dom").html.div,{style:n.contentWrapper,children:[e,k]}),b[3]=e,b[4]=k,b[5]=f):f=b[5];b[6]!==g?(i=g!=null&&j.jsx(d("react-strict-dom").html.div,{style:n.cancelButton,children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._(/*BTDS*/"__JHASH__a2BigkmhfXY__JHASH__"),onPress:g,size:24,type:"overlay"})}),b[6]=g,b[7]=i):i=b[7];b[8]!==f||b[9]!==i||b[10]!==a?(e=j.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:n.card,children:[f,i]}),b[8]=f,b[9]=i,b[10]=a,b[11]=e):e=b[11];return e}function a(a){var b=d("react-compiler-runtime").c(9),e=a.hasError,f=a.onCancel,g=a.onError,h=a.onLoad,i=a.progress;a=a.src;e=e===void 0?!1:e;var k;b[0]!==g||b[1]!==h||b[2]!==a?(k=j.jsx(c("MWXImage.react"),{objectFit:"contain",onError:g,onLoad:h,src:a,xstyle:n.imagePreview}),b[0]=g,b[1]=h,b[2]=a,b[3]=k):k=b[3];b[4]!==e||b[5]!==f||b[6]!==i||b[7]!==k?(g=j.jsx(p,{hasError:e,onCancel:f,progress:i,testid:void 0,children:k}),b[4]=e,b[5]=f,b[6]=i,b[7]=k,b[8]=g):g=b[8];return g}function b(a){var b=d("react-compiler-runtime").c(13),e=a.hasError,f=a.onCancel,g=a.onError,h=a.onLoad,i=a.progress;a=a.src;e=e===void 0?!1:e;var k=m(null),l;b[0]!==g||b[1]!==h?(l=j.jsx(c("MWXVideoStatusListener.react"),{onError:g,onLoad:h,videoRef:k}),b[0]=g,b[1]=h,b[2]=l):l=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"xl1xv1r"},b[3]=g):g=b[3];b[4]!==a?(h=j.jsx("video",babelHelpers["extends"]({},g,{height:"48",ref:k,src:a,width:"48"})),b[4]=a,b[5]=h):h=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(d("react-strict-dom").html.div,{style:n.playIcon,children:j.jsx(c("MWXImage.react"),{src:"/images/video/play_24dp.png"})}),b[6]=g):g=b[6];b[7]!==e||b[8]!==f||b[9]!==i||b[10]!==l||b[11]!==h?(k=j.jsxs(p,{hasError:e,onCancel:f,progress:i,testid:void 0,children:[l,h,g]}),b[7]=e,b[8]=f,b[9]=i,b[10]=l,b[11]=h,b[12]=k):k=b[12];return k}function e(a){var b=d("react-compiler-runtime").c(14),e=a.hasError,f=a.onCancel,g=a.onLoad,h=a.progress;a=a.title;e=e===void 0?!1:e;var i,k;b[0]!==g?(i=function(){g==null?void 0:g()},k=[g],b[0]=g,b[1]=i,b[2]=k):(i=b[1],k=b[2]);l(i,k);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconDocument"),size:20}),b[3]=i):i=b[3];b[4]!==a?(k=j.jsxs(d("react-strict-dom").html.div,{style:n.filePreview,children:[i,j.jsx(c("MWXText.react"),{numberOfLines:2,type:"bodyLink3",children:a})]}),b[4]=a,b[5]=k):k=b[5];b[6]!==k||b[7]!==a?(i=j.jsx(c("MWXTooltip.react"),{position:"above",tooltip:a,children:k}),b[6]=k,b[7]=a,b[8]=i):i=b[8];b[9]!==e||b[10]!==f||b[11]!==h||b[12]!==i?(k=j.jsx(p,{hasError:e,onCancel:f,progress:h,testid:void 0,children:i}),b[9]=e,b[10]=f,b[11]=h,b[12]=i,b[13]=k):k=b[13];return k}function f(a){var b=d("react-compiler-runtime").c(7),e=a.isDisabled;a=a.onPress;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"__JHASH__07aSX1Sv-Xl__JHASH__"),b[0]=f):f=b[0];f=f;var g=e?"disabled":"primary",i;b[1]!==g?(i=j.jsx(c("MWXIconStrict.react"),{color:g,icon:c("MWXIconPhotoPlus"),size:24}),b[1]=g,b[2]=i):i=b[2];b[3]!==e||b[4]!==a||b[5]!==i?(g=j.jsx(p,{children:j.jsx(c("MWXPressable.react"),{"aria-label":f,disabled:e,onPress:a,testid:void 0,xstyle:n.imagePreview,children:i})}),b[3]=e,b[4]=a,b[5]=i,b[6]=g):g=b[6];return g}g.MWXComposerImageAttachmentPreview=a;g.MWXComposerVideoAttachmentPreview=b;g.MWXComposerFileAttachmentPreview=e;g.MWXComposerAddAttachmentButton=f}),226);
__d("MWXComposerButtonContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({});g["default"]=b}),98);
__d("MWXComposerRow.react",["react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={padding12:{paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},padding4:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},padding6:{paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l",$$css:!0},row:{alignItems:"xpqajaz",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},scrollable:{contain:"x41o525",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(10),c=a.children,e=a["data-testid"],f=a.padding,g=a.scrollable;a=a.xStyle;f=f===void 0?0:f;var h=f===12&&j.padding12,k=f===4&&j.padding4;f=f===6&&j.padding6;g=g===!0&&j.scrollable;var l;b[0]!==h||b[1]!==k||b[2]!==f||b[3]!==g||b[4]!==a?(l=[j.row,h,k,f,g,a],b[0]=h,b[1]=k,b[2]=f,b[3]=g,b[4]=a,b[5]=l):l=b[5];b[6]!==c||b[7]!==l||b[8]!==e?(h=i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:l,children:c}),b[6]=c,b[7]=l,b[8]=e,b[9]=h):h=b[9];return h}g["default"]=a}),98);
__d("MWXComposerHeader.react",["MWXComposerButtonContext.react","MWXComposerRow.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={body:{alignItems:"x6s0dn4",paddingBottom:"x1120s5i",paddingStart:"xpkgp8e",paddingEnd:"xmns6w2",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a",$$css:!0},border:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},rightAddon:{marginStart:"x1gryazu",$$css:!0}},k={color:"secondary",size:24};function a(a){var b=d("react-compiler-runtime").c(23),e=a.bodyText,f=a.bodyTextColor,g=a.bodyTextType,h=a["data-testid"],l=a.hasTopBorder,m=a.headlineText,n=a.headlineTextType,o=a.leftAddon,p=a.level,q=a.loadingIndicator,r=a.rightAddon,s=a.subtext;a=a.xstyle;l=l===void 0?!1:l;p=p===void 0?3:p;if(q!=null){var t;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(t=[j.body],b[0]=t):t=b[0];b[1]!==q||b[2]!==h?(t=i.jsx(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:t,children:q}),b[1]=q,b[2]=h,b[3]=t):t=b[3];return t}q=l&&j.border;b[4]!==q||b[5]!==a?(t=[j.body,q,a],b[4]=q,b[5]=a,b[6]=t):t=b[6];l=o!=null&&o;b[7]!==e||b[8]!==f||b[9]!==g||b[10]!==m||b[11]!==n||b[12]!==p||b[13]!==s?(q=(e!=null||s!=null||m!=null)&&i.jsx(c("MWXTextPairing.react"),{body:e!=null&&g!=null?i.jsx(c("MWXText.react"),{color:f,type:g,children:e}):e!=null?i.jsx(c("MWXText.react"),{color:f,type:"body4",children:e}):void 0,headline:m!=null&&n!=null?i.jsx(c("MWXText.react"),{isSemanticHeading:!0,type:n,children:m}):m!=null?i.jsx(c("MWXText.react"),{isSemanticHeading:!0,type:"headline4",children:m}):void 0,level:p,meta:s}),b[7]=e,b[8]=f,b[9]=g,b[10]=m,b[11]=n,b[12]=p,b[13]=s,b[14]=q):q=b[14];b[15]!==r?(a=r!=null&&i.jsx(c("MWXComposerButtonContext.react").Provider,{value:k,children:i.jsx(d("react-strict-dom").html.div,{style:j.rightAddon,children:r})}),b[15]=r,b[16]=a):a=b[16];b[17]!==t||b[18]!==l||b[19]!==q||b[20]!==a||b[21]!==h?(o=i.jsxs(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:t,children:[l,q,a]}),b[17]=t,b[18]=l,b[19]=q,b[20]=a,b[21]=h,b[22]=o):o=b[22];return o}g["default"]=a}),98);
__d("MWXComposerIconButton.react",["MWXCircleButton.react","MWXComposerButtonContext.react","MWXThreadThemeColor","MWXTooltip.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={horizontalPaddingSmall:{paddingStart:"x1h0ha7o",paddingEnd:"xg83lxy",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",$$css:!0}};b=i.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(33),f;e[0]!==a?(f=babelHelpers["extends"]({},a),e[0]=a,e[1]=f):f=e[1];var g,h,m,n,o,p;if(e[2]!==f){a=f;g=a.color;h=a.disableTooltip;m=a.size;n=a.type;o=a.wrapperStyle;p=a.wrapperXStyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","disableTooltip","size","type","wrapperStyle","wrapperXStyle"]);e[2]=f;e[3]=g;e[4]=h;e[5]=a;e[6]=m;e[7]=n;e[8]=o;e[9]=p}else g=e[3],h=e[4],a=e[5],m=e[6],n=e[7],o=e[8],p=e[9];n=n===void 0?"deemphasized":n;var q=j(c("MWXComposerButtonContext.react")),r=q.color,s=q.iconRatio,t=q.paddingHorizontal;q=q.size;s=s===void 0?"medium":s;t=t===void 0?"none":t;q=q===void 0?36:q;t=t==="small"&&k.horizontalPaddingSmall;var u;e[10]!==o||e[11]!==p?(u=[p,o],e[10]=o,e[11]=p,e[12]=u):u=e[12];e[13]!==t||e[14]!==u?(o=[t,k.layoutWrapper,u],e[13]=t,e[14]=u,e[15]=o):o=e[15];if(e[16]!==g||e[17]!==r){u=(t=(p=g)!=null?p:r)!=null?t:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))");e[16]=g;e[17]=r;e[18]=u}else u=e[18];t=(p=m)!=null?p:q;e[19]!==s||e[20]!==a||e[21]!==b||e[22]!==u||e[23]!==t||e[24]!==n?(g=i.jsx(c("MWXCircleButton.react"),babelHelpers["extends"]({},a,{color:u,iconRatio:s,ref:b,size:t,type:n})),e[19]=s,e[20]=a,e[21]=b,e[22]=u,e[23]=t,e[24]=n,e[25]=g):g=e[25];e[26]!==h||e[27]!==f.label||e[28]!==g?(r=i.jsx(l,{disableTooltip:h,label:f.label,children:g}),e[26]=h,e[27]=f.label,e[28]=g,e[29]=r):r=e[29];e[30]!==r||e[31]!==o?(m=i.jsx(d("react-strict-dom").html.div,{style:o,children:r}),e[30]=r,e[31]=o,e[32]=m):m=e[32];return m}e=b;function l(a){var b=d("react-compiler-runtime").c(4),e=a.children,f=a.disableTooltip;a=a.label;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=f===!0?e:i.jsx(c("MWXTooltip.react"),{position:"above",tooltip:a,children:e}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}g["default"]=e}),98);
__d("MWXComposerInputArea.react",["MWXComposerButtonContext.react","MWXComposerRow.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={colors:{backgroundColor:"x16sw7j7",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",marginEnd:"x1w0mnb",marginStart:"x1mnrxsn",$$css:!0},flexLayout:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"x13qp9f6",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},k={iconRatio:"large",paddingHorizontal:"none",size:28};function a(a){var b=d("react-compiler-runtime").c(8),e=a.children,f=a.header;a=a.xstyle;var g;b[0]!==a?(g=[j.colors,j.flexLayout,a],b[0]=a,b[1]=g):g=b[1];b[2]!==e?(a=i.jsx(c("MWXComposerRow.react"),{padding:4,children:e}),b[2]=e,b[3]=a):a=b[3];b[4]!==f||b[5]!==g||b[6]!==a?(e=i.jsx(c("MWXComposerButtonContext.react").Provider,{value:k,children:i.jsxs(d("react-strict-dom").html.div,{style:g,children:[f,a]})}),b[4]=f,b[5]=g,b[6]=a,b[7]=e):e=b[7];return e}g["default"]=a}),98);
__d("MWXComposerSpinner.react",["MWXComposerButtonContext.react","MWXSpinner.react","MWXTooltip.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={horizontalPaddingSmall:{paddingStart:"x1h0ha7o",paddingEnd:"xg83lxy",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(27),e,f,g,h,l,m,n;b[0]!==a?(h=a.color,e=a.label,f=a.size,l=a.spinnerSize,m=a.wrapperStyle,n=a.wrapperXStyle,g=babelHelpers.objectWithoutPropertiesLoose(a,["color","label","size","spinnerSize","wrapperStyle","wrapperXStyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=l,b[6]=m,b[7]=n):(e=b[1],f=b[2],g=b[3],h=b[4],l=b[5],m=b[6],n=b[7]);a=h===void 0?"blue":h;h=l===void 0?20:l;l=j(c("MWXComposerButtonContext.react"));var o=l.paddingHorizontal;l=l.size;o=o===void 0?"none":o;l=l===void 0?36:l;f=((f=f)!=null?f:l)+"px";l=o==="small"&&k.horizontalPaddingSmall;b[8]!==m||b[9]!==n?(o=[n,m],b[8]=m,b[9]=n,b[10]=o):o=b[10];b[11]!==f?(m=[{height:f,width:f}],b[11]=f,b[12]=m):m=b[12];b[13]!==l||b[14]!==o||b[15]!==m?(n=[l,k.layoutWrapper,o,m],b[13]=l,b[14]=o,b[15]=m,b[16]=n):n=b[16];b[17]!==a||b[18]!==g||b[19]!==h?(f=i.jsx(c("MWXSpinner.react"),babelHelpers["extends"]({color:a,size:h},g)),b[17]=a,b[18]=g,b[19]=h,b[20]=f):f=b[20];b[21]!==e||b[22]!==f?(l=i.jsx(c("MWXTooltip.react"),{position:"above",tooltip:e,children:f}),b[21]=e,b[22]=f,b[23]=l):l=b[23];b[24]!==l||b[25]!==n?(o=i.jsx(d("react-strict-dom").html.div,{style:n,children:l}),b[24]=l,b[25]=n,b[26]=o):o=b[26];return o}g["default"]=a}),98);
__d("MWXComposerTextEditor.react",["CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalErrorBoundary","LexicalPlainTextPlugin","MWXRowItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={padding:{marginBottom:"x12nagc",marginEnd:"x1w0mnb",marginStart:"x1mnrxsn",marginTop:"x1gslohp",maxHeight:"xctk3hg",minWidth:"x900493",overflowY:"x1odjw0f",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,f=a.contentEditableProps,g=a.placeholderText;a=a.testid;var h;b[0]!==g?(h=g==null?{}:{"aria-placeholder":g,placeholder:i.jsx(c("CometLexicalPlaceholder.react"),{children:g})},b[0]=g,b[1]=h):h=b[1];g=h;b[2]!==f||b[3]!==g||b[4]!==a?(h=i.jsx(c("CometLexicalContentEditable.react"),babelHelpers["extends"]({tabIndex:0,webDriverTestID:a},g,f)),b[2]=f,b[3]=g,b[4]=a,b[5]=h):h=b[5];f=h;b[6]!==f?(g=i.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:f}),b[6]=f,b[7]=g):g=b[7];b[8]!==e||b[9]!==g?(a=i.jsxs(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:j.padding,children:[g,e]}),b[8]=e,b[9]=g,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWXComposer.react",["LexicalComposerContext","LexicalHistoryPlugin","MWXComposerAttachmentPreview.react","MWXComposerHeader.react","MWXComposerIconButton.react","MWXComposerInputArea.react","MWXComposerRow.react","MWXComposerSpinner.react","MWXComposerTextEditor.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j={composer:{backgroundColor:"xt5xv9l",contain:"x6wvzqs",$$css:!0},flexLayout:{alignItems:"xpqajaz",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",minWidth:"x13qp9f6",$$css:!0},padding:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingStart:"x1e558r4",paddingEnd:"x150jy0e",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.children,f=a.editor,g=a.header;a=a.testid;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=d("LexicalComposerContext").createLexicalComposerContext(),b[0]=h):h=b[0];h=h;b[1]!==f?(h=[f,h],b[1]=f,b[2]=h):h=b[2];f=h;h=f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=[j.composer,j.flexLayout],b[3]=f):f=b[3];var k;b[4]!==e||b[5]!==a?(k=i.jsx(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:j.padding,children:e}),b[4]=e,b[5]=a,b[6]=k):k=b[6];b[7]!==g||b[8]!==k?(e=i.jsxs(d("react-strict-dom").html.div,{style:f,children:[g,k]}),b[7]=g,b[8]=k,b[9]=e):e=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{}),b[10]=a):a=b[10];b[11]!==h||b[12]!==e?(f=i.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:h,children:[e,a]}),b[11]=h,b[12]=e,b[13]=f):f=b[13];return f}b={Add:d("MWXComposerAttachmentPreview.react").MWXComposerAddAttachmentButton,FilePreview:d("MWXComposerAttachmentPreview.react").MWXComposerFileAttachmentPreview,ImagePreview:d("MWXComposerAttachmentPreview.react").MWXComposerImageAttachmentPreview,VideoPreview:d("MWXComposerAttachmentPreview.react").MWXComposerVideoAttachmentPreview};g.Composer=a;g.Button=c("MWXComposerIconButton.react");g.TextEditor=c("MWXComposerTextEditor.react");g.InputArea=c("MWXComposerInputArea.react");g.Header=c("MWXComposerHeader.react");g.Row=c("MWXComposerRow.react");g.Spinner=c("MWXComposerSpinner.react");g.Attachments=b}),98);
__d("MWXComposerButtonGroupContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isMenu:!1});g["default"]=b}),98);
__d("MWXComposerButtonGroupButton.react",["MWXComposerButtonGroupContext.react","MWXComposerIconButton.react","MWXMenuItem.react","MWXThreadThemeColor","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;b=i.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(35),f;e[0]!==a?(f=babelHelpers["extends"]({},a),e[0]=a,e[1]=f):f=e[1];var g,h,k,l,m,n;if(e[2]!==f){a=f;g=a.color;h=a.icon;k=a.label;l=a.onPress;m=a.preventClosingMenuOnSelect;n=a.testid;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","icon","label","onPress","preventClosingMenuOnSelect","testid"]);e[2]=f;e[3]=g;e[4]=h;e[5]=k;e[6]=l;e[7]=a;e[8]=m;e[9]=n}else g=e[3],h=e[4],k=e[5],l=e[6],a=e[7],m=e[8],n=e[9];f=j(c("MWXComposerButtonGroupContext.react"));var o=f.isMenu,p=f.styleForButton;f=f.xstyleForButton;if(o){e[10]!==h?(o=h.asMenuItemIcon_ESCAPE_HATCH(),e[10]=h,e[11]=o):o=e[11];if(e[12]!==g){var q;q=(q=g)!=null?q:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))");e[12]=g;e[13]=q}else q=e[13];var r;e[14]!==k||e[15]!==l||e[16]!==a||e[17]!==m||e[18]!==b||e[19]!==o||e[20]!==q||e[21]!==n?(r=i.jsx(c("MWXMenuItem.react"),babelHelpers["extends"]({"aria-label":k,icon:o,iconColor:q,onClick:l,preventClosingMenuOnSelect:m,primaryText:k,ref:b,testid:void 0},a)),e[14]=k,e[15]=l,e[16]=a,e[17]=m,e[18]=b,e[19]=o,e[20]=q,e[21]=n,e[22]=r):r=e[22];return r}e[23]!==g?(m=g!=null?{color:g}:{},e[23]=g,e[24]=m):m=e[24];e[25]!==h||e[26]!==k||e[27]!==l||e[28]!==a||e[29]!==b||e[30]!==p||e[31]!==m||e[32]!==n||e[33]!==f?(o=i.jsx(c("MWXComposerIconButton.react"),babelHelpers["extends"]({icon:h,label:k,onPress:l,ref:b,testid:void 0,wrapperStyle:p,wrapperXStyle:f},m,a)),e[25]=h,e[26]=k,e[27]=l,e[28]=a,e[29]=b,e[30]=p,e[31]=m,e[32]=n,e[33]=f,e[34]=o):o=e[34];return o}e=b;g["default"]=e}),98);
__d("withMWXPopover",["BaseMenuContext","BaseMultiPageViewContext","BasePopoverTrigger.react","MWXPopover.react","MWXPopoverLoadingState.react","lazyLoadComponent","react","react-compiler-runtime","tracePolicyFromResource","useCometPopoverInteractionTracing","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;function a(a,b){function e(e){var f=d("react-compiler-runtime").c(42),g,h,k,l,m,n,o;f[0]!==e?(g=e.onHoverIn,h=e.onHoverOut,k=e.popover,l=e.popoverPresentationProps,m=e.popoverProps,n=e.preloadTrigger,o=babelHelpers.objectWithoutPropertiesLoose(e,["onHoverIn","onHoverOut","popover","popoverPresentationProps","popoverProps","preloadTrigger"]),f[0]=e,f[1]=g,f[2]=h,f[3]=k,f[4]=l,f[5]=m,f[6]=n,f[7]=o):(g=f[1],h=f[2],k=f[3],l=f[4],m=f[5],n=f[6],o=f[7]);e=(e=j(c("BaseMenuContext")))!=null?e:{};var p=e.onClose;e=(e=j(c("BaseMultiPageViewContext")))!=null?e:{};var q=e.pushPage;if(f[8]!==k){f[10]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!1}),f[10]=e):e=f[10];e=d("withCometPlaceholder").withCometPlaceholder(c("lazyLoadComponent")(k),e,b);f[8]=k;f[9]=e}else e=f[9];e=e;var r=e;f[11]!==k?(e=c("tracePolicyFromResource")("comet.popover",k),f[11]=k,f[12]=e):e=f[12];e=c("useCometPopoverInteractionTracing")(e,"lazy");if(f[13]!==l){var s;s=(s=l)!=null?s:{};f[13]=l;f[14]=s}else s=f[14];var t,u;if(f[15]!==s){l=s;t=l.align;u=l.position;l=babelHelpers.objectWithoutPropertiesLoose(l,["align","position"]);f[15]=s;f[16]=l;f[17]=t;f[18]=u}else l=f[16],t=f[17],u=f[18];s=t===void 0?"middle":t;t=u===void 0?"above":u;f[19]!==r?(u=function(a){return i.jsx(c("MWXPopover.react"),{withArrow:!0,children:i.jsx(r,babelHelpers["extends"]({},a))})},f[19]=r,f[20]=u):u=f[20];u=u;u=u;var v;f[21]!==r||f[22]!==p?(v=function(a){return function(b){var c;b=b.onReturn;return i.jsx(r,babelHelpers["extends"]({},a,{onClose:(c=p)!=null?c:b}))}},f[21]=r,f[22]=p,f[23]=v):v=f[23];v=v;var w=v;f[24]!==w||f[25]!==p||f[26]!==g||f[27]!==h||f[28]!==m||f[29]!==q||f[30]!==o?(v=function(b,c,d,e,f){return i.jsx(a,babelHelpers["extends"]({onHoverIn:function(a){e(a),g==null?void 0:g(a)},onHoverOut:function(a){f(),h==null?void 0:h(a)}},o,{onPress:function(){var b;for(var d=arguments.length,a=new Array(d),e=0;e<d;e++)a[e]=arguments[e];var f=a;q!=null&&p!=null?q(w(m)):c();o.onPress==null?void 0:(b=o).onPress.apply(b,f)},preventClosingMenuOnSelect:!0,ref:b}))},f[24]=w,f[25]=p,f[26]=g,f[27]=h,f[28]=m,f[29]=q,f[30]=o,f[31]=v):v=f[31];var x;f[32]!==u||f[33]!==s||f[34]!==l||f[35]!==k||f[36]!==m||f[37]!==t||f[38]!==n||f[39]!==v||f[40]!==e?(x=i.jsx(c("BasePopoverTrigger.react"),babelHelpers["extends"]({align:s,position:t},l,{interactionTracker:e,popover:u,popoverPreloadResource:k,popoverProps:m,preloadTrigger:n,children:v})),f[32]=u,f[33]=s,f[34]=l,f[35]=k,f[36]=m,f[37]=t,f[38]=n,f[39]=v,f[40]=e,f[41]=x):x=f[41];return x}return e}g["default"]=a}),98);
__d("MWXComposerButtonGroupPopoverButton.react",["MWXComposerButtonGroupButton.react","react","withMWXPopover"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("withMWXPopover")(c("MWXComposerButtonGroupButton.react"));b=a;g["default"]=b}),98);
__d("MWXIconFaceHappy",["MWXSvgIcon","SVGIcon","cr:12413","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12413")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerEmojiButton.react",["fbt","JSResourceForInteraction","LexicalComposerContext","MWXComposerButtonGroupPopoverButton.react","MWXIconFaceHappy","Promise","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("JSResourceForInteraction")("cometAddEmojiToComposerForLexical").__setRef("MWXComposerEmojiButton.react");function a(){var a=d("react-compiler-runtime").c(4),e=d("LexicalComposerContext").useLexicalComposerContext(),f=e[0];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__450DFbxuM_0__JHASH__"),a[0]=e):e=a[0];var g;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=c("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWXComposerEmojiButton.react"),a[1]=g):g=a[1];a[2]!==f?(e=k.jsx(c("MWXComposerButtonGroupPopoverButton.react"),{icon:c("MWXIconFaceHappy"),label:e,onPress:m,popover:g,popoverProps:{onSelect:function(a){return c("promiseDone")(l.load(),function(c){c(a,f,16);return(i||(i=b("Promise"))).resolve()})},withArrow:!1},preloadTrigger:"button",testid:void 0}),a[2]=f,a[3]=e):e=a[3];return e}function m(){l.preload()}g["default"]=a}),226);
__d("useMAWGetSendEditActionForSecure",["FBLogger","LSMessagingThreadAttributionType","MAWBridgeSendAndReceive","MAWDbMsg","MAWExternalId","MAWGetProtocolMsgIdByMsgIdInUI","MAWLoggerUtils","MAWMessageSendReporter","MAWMessageSendReporterV2","MAWMiActOnActThreadReady","QPLUserFlow","ReQL","ReQLSuspense","promiseDone","qpl","react","react-compiler-runtime","sendToSentQPLLogger","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(10),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("MAWLoggerUtils").getInstanceKey(),b[0]=e):e=b[0];var g=e,i=(h||(h=c("useReStore")))(),k;b[1]!==i||b[2]!==a?(e=function(){return a!=null?d("ReQL").fromTableAscending(i.tables.threads).getKeyRange(a):d("ReQL").empty()},k=[i,a],b[1]=i,b[2]=a,b[3]=e,b[4]=k):(e=b[3],k=b[4]);var l=d("ReQLSuspense").useFirst(e,k,f.id+":45"),m=c("useLSMessagingSource")();b[5]!==i||b[6]!==m||b[7]!==l||b[8]!==a?(e=function(b,e){if(a==null||b==null)return;var f=d("MAWDbMsg").toMsgId(b);if(f==null)return;c("QPLUserFlow").start(c("qpl")._(1056849558,"2236"),{instanceKey:g});c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(i.tables,a,"MWV2ComposerEditContainer.react",function(a,b){return d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(f).then(function(a){if(a!=null){var b=d("MAWExternalId").generateExternalId(),f=a.chat,g=function(g){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendEditMsg",{args:{editMsgContent:{content:e,mentionedJids:[]},originalProtocolMsgId:a},chatJid:f,externalId:b,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:g})};if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())return d("MAWMessageSendReporterV2").MAWMessageSendReporterV2({composerEntrypoint:"useMAWGetSendEditActionForSecure",externalId:b,lsSource:m,thread:l},function(a){return g(a).then(j)},i);else{var h=d("sendToSentQPLLogger").markSendToSentStartWithAnnotation(l,{},c("LSMessagingThreadAttributionType").UNKNOWN);return d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:f,externalId:b},g(h),{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:h},i)}}}).then(function(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056849558,"2236"),{instanceKey:g})})["catch"](function(a){c("FBLogger")("messenger_web_messaging").catching(a).mustfix("Failed to edit message: %s.",a),c("QPLUserFlow").endFailure(c("qpl")._(1056849558,"2236"),"failure",{instanceKey:g})})}))},b[5]=i,b[6]=m,b[7]=l,b[8]=a,b[9]=e):e=b[9];return e}function j(a){return[a]}g["default"]=a}),98);
__d("useMAWGetSendEditActionforOpen",["LSFactory","LSOptimisticEditMessageStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(a,d){return c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticEditMessageStoredProcedure")(c("LSFactory")(b),{messageId:a,text:d})},"readwrite",void 0,void 0,f.id+":27"))},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useMWComposerEmojiTransform",["react","react-compiler-runtime","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("useMWComposerEmojiTransform");function a(a){var b=d("react-compiler-runtime").c(4),e=c("useDeferredModuleOnReady")(j),f,g;b[0]!==e||b[1]!==a?(f=function(){return e==null?void 0:e(a,16)},g=[a,e],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);i(f,g)}g["default"]=a}),98);
__d("useMWXComposerClearAndSendOnEnter",["Lexical","MLCKeyBindingUtil","gkx","justknobx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useInsertionEffect,j=b.useLayoutEffect,k=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(13),f=a.clearReplyState,g=a.editor,h=a.onSend,l=k(b),m;e[0]!==b?(a=function(){l.current=b},m=[b],e[0]=b,e[1]=a,e[2]=m):(a=e[1],m=e[2]);i(a,m);e[3]!==f||e[4]!==g||e[5]!==h?(a=function(){var a=h(l.current);f==null?void 0:f();(a||!c("justknobx")._("2597"))&&g.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND)},e[3]=f,e[4]=g,e[5]=h,e[6]=a):a=e[6];var n=a;e[7]!==g||e[8]!==n?(m=function(){return g.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(a){if(a!=null&&!a.shiftKey&&!a.altKey&&(!c("gkx")("23402")||d("MLCKeyBindingUtil").hasCommandModifier(a))){a.preventDefault();n();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},a=[g,n],e[7]=g,e[8]=n,e[9]=m,e[10]=a):(m=e[9],a=e[10]);j(m,a);e[11]!==n?(m={onSend:n},e[11]=n,e[12]=m):m=e[12];return m}g["default"]=a}),98);
__d("useMWXLexicalEditor",["CometLexicalEmojiNode","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","react-compiler-runtime","useLexicalInitializeEditor__DEPRECATED","useMWPLexicalClearEditor","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,b("cr:11494")==null?void 0:b("cr:11494").MessengerLexicalCommandNode,d("CometLexicalEmojiNode").EmojiNode];function a(){var a=d("react-compiler-runtime").c(2),b=c("useStable")(i);c("useMWPLexicalClearEditor")(b);c("useLexicalInitializeEditor__DEPRECATED")(b);var e;a[0]!==b?(e={editor:b},a[0]=b,a[1]=e):e=a[1];return e}function i(){return d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:j,theme:babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"})})}function j(){}g.useMWXLexicalEditor=a}),98);
__d("MWV2ComposerEditContainer.react",["fbt","LSMessagingThreadTypeUtil","Lexical","LexicalText","MAWEditMessageContext.react","MAWVault","MWLSThreadDisplayContext","MWPActor.react","MWXComposer.react","MWXComposerEmojiButton.react","MWXIconCheckmarkCircle","MWXIconCross","ReQL","ReQLSuspense","isStringNullOrEmpty","react","react-compiler-runtime","useLogMAWEditMessage","useMAWGetSendEditActionForSecure","useMAWGetSendEditActionforOpen","useMWComposerEmojiTransform","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","usePrepopulateLexicalEditor","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useEffect;b.useMemo;var n=b.useState;function a(a){var b=d("react-compiler-runtime").c(62),e=a.confirmationText,g=a.contentEditableProps,j=a.editMessageData,p=a.headerText,q=a.onEditCancelCallback;a=a.onEditTriggerCallback;e=e===void 0?null:e;p=p===void 0?null:p;var r=q===void 0?null:q,s=a===void 0?null:a,t=(i||(i=c("useReStore")))();q=l(d("MAWEditMessageContext.react").Context);var u=q.setEditMessageData,v=d("MWPActor.react").useActor();b[0]!==t.tables.messages||b[1]!==(j==null?void 0:j.messageId)||b[2]!==(j==null?void 0:j.threadKey)||b[3]!==(j==null?void 0:j.timestampMs)?(a=function(){return d("ReQL").fromTableAscending(t.tables.messages).getKeyRange(j==null?void 0:j.threadKey,j==null?void 0:j.timestampMs,j==null?void 0:j.messageId)},b[0]=t.tables.messages,b[1]=j==null?void 0:j.messageId,b[2]=j==null?void 0:j.threadKey,b[3]=j==null?void 0:j.timestampMs,b[4]=a):a=b[4];q=j==null?void 0:j.messageId;var w=j==null?void 0:j.threadKey,x=j==null?void 0:j.timestampMs,y;b[5]!==t||b[6]!==q||b[7]!==w||b[8]!==x?(y=[t,q,w,x],b[5]=t,b[6]=q,b[7]=w,b[8]=x,b[9]=y):y=b[9];var z=d("ReQLSuspense").useFirst(a,y,f.id+":55"),A=c("useMAWGetSendEditActionforOpen")(),B=c("useMAWGetSendEditActionForSecure")(z==null?void 0:z.threadKey);z==null?void 0:z.text;w=(q=z==null?void 0:z.text)!=null?q:"";b[10]!==w?(x=d("MAWVault").unvault(w).trim(),b[10]=w,b[11]=x):x=b[11];a=x;var C=a,D=c("useLogMAWEditMessage")();y=d("useMWXLexicalEditor").useMWXLexicalEditor();var E=y.editor;b[12]!==v||b[13]!==j||b[14]!==E||b[15]!==D||b[16]!==(z==null?void 0:z.messageId)||b[17]!==s||b[18]!==A||b[19]!==B||b[20]!==C||b[21]!==u?(q=function(){var a=E.getEditorState().read(d("LexicalText").$rootTextContent).trim();if(c("isStringNullOrEmpty")(a)||a===C)return!1;d("LSMessagingThreadTypeUtil").isArmadilloSecure(j.threadType)?B(z==null?void 0:z.messageId,a):A(j.messageId,a);D(j.threadType,j.threadKey,j.messageId,v,"EDIT_MESSAGE");u(null);s&&s();return!0},b[12]=v,b[13]=j,b[14]=E,b[15]=D,b[16]=z==null?void 0:z.messageId,b[17]=s,b[18]=A,b[19]=B,b[20]=C,b[21]=u,b[22]=q):q=b[22];var F=q;o(E,u,r);b[23]!==E||b[24]!==F?(w={clearReplyState:null,editor:E,onSend:F},b[23]=E,b[24]=F,b[25]=w):w=b[25];c("useMWXComposerClearAndSendOnEnter")(w);x=n(!1);a=x[0];var G=x[1];b[26]!==E||b[27]!==C?(y=function(){return E.registerTextContentListener(function(a){a=a.trim();G(!c("isStringNullOrEmpty")(a)&&a!==C)})},q=[E,C],b[26]=E,b[27]=C,b[28]=y,b[29]=q):(y=b[28],q=b[29]);m(y,q);c("usePrepopulateLexicalEditor")(E,C,!0);c("useMWComposerEmojiTransform")(E);w=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();x=w==="Inbox"?32:24;if(b[30]!==p){q=(y=p)!=null?y:h._(/*BTDS*/"__JHASH__36XeYdlCuO8__JHASH__");b[30]=p;b[31]=q}else q=b[31];b[32]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"__JHASH__NFQuJJERXoJ__JHASH__"),b[32]=w):w=b[32];b[33]!==r||b[34]!==u?(y=function(){u(null),r&&r()},b[33]=r,b[34]=u,b[35]=y):y=b[35];b[36]!==x||b[37]!==y?(p=k.jsx(d("MWXComposer.react").Button,{color:"primary",icon:c("MWXIconCross"),label:w,onPress:y,size:x}),b[36]=x,b[37]=y,b[38]=p):p=b[38];b[39]!==q||b[40]!==p?(w=k.jsx(d("MWXComposer.react").Header,{hasTopBorder:!0,headlineText:q,rightAddon:p},0),b[39]=q,b[40]=p,b[41]=w):w=b[41];b[42]!==g?(x=k.jsx(d("MWXComposer.react").TextEditor,{contentEditableProps:g,testid:void 0}),b[42]=g,b[43]=x):x=b[43];b[44]===Symbol["for"]("react.memo_cache_sentinel")?(y=k.jsx(c("MWXComposerEmojiButton.react"),{}),b[44]=y):y=b[44];b[45]!==x?(q=k.jsxs(d("MWXComposer.react").InputArea,{children:[x,y]}),b[45]=x,b[46]=q):q=b[46];p=!a;if(b[47]!==e){y=(g=e)!=null?g:h._(/*BTDS*/"__JHASH__645ugDJYeSD__JHASH__");b[47]=e;b[48]=y}else y=b[48];b[49]!==F?(x=function(){F()},b[49]=F,b[50]=x):x=b[50];b[51]!==p||b[52]!==y||b[53]!==x?(a=k.jsx(d("MWXComposer.react").Button,{disabled:p,icon:c("MWXIconCheckmarkCircle"),label:y,onPress:x,testid:void 0}),b[51]=p,b[52]=y,b[53]=x,b[54]=a):a=b[54];b[55]!==q||b[56]!==a?(g=k.jsxs(d("MWXComposer.react").Row,{children:[q,a]}),b[55]=q,b[56]=a,b[57]=g):g=b[57];b[58]!==E||b[59]!==w||b[60]!==g?(e=k.jsx(d("MWXComposer.react").Composer,{editor:E,header:w,children:g}),b[58]=E,b[59]=w,b[60]=g,b[61]=e):e=b[61];return e}function o(a,b,c){var e=d("react-compiler-runtime").c(5),f=c===void 0?null:c,g;e[0]!==a||e[1]!==f||e[2]!==b?(c=function(){return a.registerCommand(d("Lexical").KEY_ESCAPE_COMMAND,function(a){a.preventDefault();a.stopImmediatePropagation();a.stopPropagation();b(null);f&&f();return!0},d("Lexical").COMMAND_PRIORITY_CRITICAL)},g=[a,b,f],e[0]=a,e[1]=f,e[2]=b,e[3]=c,e[4]=g):(c=e[3],g=e[4]);m(c,g)}g["default"]=a}),226);
__d("MWV2ComposerReplyView.react",["fbt","ix","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MWXIcon.react","MWXText.react","MWXTextPairing.react","MessagingAttachmentType","ReQL","ReQLSuspense","cr:2472","cr:4471","fbicon","getFBTSafeGenderFromGenderConst","isMWBumpMessage","mwCMIsAnyCMThread","qex","react","react-compiler-runtime","useGetOriginalMsgFromBumpMsg","useIsSecureMessage","useMAWSeparateReadsSelector","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=k||(k=d("react"));e=k;var o=e.useContext,p=e.useEffect;function q(a,e,f,g){if(g===!0)return h._(/*BTDS*/"__JHASH__t6anprzsvcb__JHASH__");g=a.text;g=g!=null?b("cr:2472")==null?g:b("cr:2472").unvault(g):"";g=g==="\ud83d\udc4d"&&((l||(l=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(l||(l=d("I64"))).neg_one,(m||(m=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))||(l||(l=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(l||(l=d("I64"))).neg_one,(m||(m=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM))||(l||(l=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(l||(l=d("I64"))).neg_one,(m||(m=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))&&e;if(a.isUnsent)return h._(/*BTDS*/"__JHASH__OtyP2J0Nwkd__JHASH__");var i=c("isMWBumpMessage")(a.replyType);if(a.text!=null&&a.text!==""){return n.jsx(c("MWChatReplyText.react"),{isBumpMessage:i,isHotLike:g,mentionIds:e?a.mentionIds:null,text:(i=a.text)!=null?i:h._(/*BTDS*/"__JHASH__C1Hm6KH3mNE__JHASH__"),threadKey:a.threadKey})}if(f!=null){if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return h._(/*BTDS*/"__JHASH__vuq_ksOZBHO__JHASH__");if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return h._(/*BTDS*/"__JHASH__7zoxdliwH6N__JHASH__");if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._(/*BTDS*/"__JHASH__d9ky9I-E6BP__JHASH__");if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return h._(/*BTDS*/"__JHASH__i96Qg8bFARm__JHASH__");return(l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?h._(/*BTDS*/"__JHASH__omHtTlKW02d__JHASH__"):h._(/*BTDS*/"__JHASH__L554Fq7JwGo__JHASH__")}return h._(/*BTDS*/"__JHASH__C1Hm6KH3mNE__JHASH__")}function r(a,b,d,e,f){if(f===!0)return h._(/*BTDS*/"__JHASH__6IDa6GP9mPa__JHASH__");if(a)return h._(/*BTDS*/"__JHASH__iW_IRrZDexS__JHASH__");if(b!=null){return h._(/*BTDS*/"__JHASH__O5URXTVzEEM__JHASH__",[h._param("name",n.jsx(c("MWXText.react"),{type:"headlineEmphasized5",children:e?b.name:(a=(f=d)!=null?f:b.firstName)!=null?a:b.name}),[1,c("getFBTSafeGenderFromGenderConst")(c("LSContactGenderToGenderConst")(b.gender))])])}return h._(/*BTDS*/"__JHASH__Tq-wGwf_lB-__JHASH__")}function s(a){var b=d("react-compiler-runtime").c(23),e=a.isSecureThread,g=a.message,h=a.threadType;a=a.useContactFullname;var i=(j||(j=c("useReStore")))(),k=d("MWPActor.react").useActor(),m=(l||(l=d("I64"))).equal(g.senderId,k);b[0]!==i.tables.contacts||b[1]!==g.senderId?(k=function(){return d("ReQL").fromTableAscending(i.tables.contacts).getKeyRange(g.senderId)},b[0]=i.tables.contacts,b[1]=g.senderId,b[2]=k):k=b[2];var o;b[3]!==i||b[4]!==g.senderId?(o=[i,g.senderId],b[3]=i,b[4]=g.senderId,b[5]=o):o=b[5];var s=d("ReQLSuspense").useFirst(k,o,f.id+":253");k=c("useGetOriginalMsgFromBumpMsg")(g.replyType,g.replySourceId,g.threadKey);var u=(o=k)!=null?o:g;b[6]!==i.tables.attachments||b[7]!==u.messageId||b[8]!==u.threadKey?(k=function(){return d("ReQL").fromTableAscending(i.tables.attachments).getKeyRange(u.threadKey,u.messageId)},o=[i.tables.attachments,u.messageId,u.threadKey],b[6]=i.tables.attachments,b[7]=u.messageId,b[8]=u.threadKey,b[9]=k,b[10]=o):(k=b[9],o=b[10]);k=d("ReQLSuspense").useFirst(k,o,f.id+":265");o=d("ReQLSuspense").useFirst(function(){return s!=null&&!m?d("ReQL").fromTableAscending(i.tables.threads).getKeyRange(g.threadKey).map(function(a){var b=a.parentThreadKey;a=a.threadType;if(c("mwCMIsAnyCMThread")(a))return d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.tables.community_folders).getKeyRange(b).map(function(a){a=a.folderId;return d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.tables.contextual_profile_v1.index("associatedEntityIdAndOwner")).getKeyRange(a,s.id).map(v),f.id+":288")}),f.id+":284");else{a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.tables.participants).getKeyRange(g.threadKey,s.id),f.id+":302");return(b=a==null?void 0:a.nickname)!=null?b:null}}):d("ReQL").empty()},[i,g.threadKey,s,m],f.id+":278");var w;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(w=[],b[11]=w):w=b[11];p(t,w);b[12]!==h?(w={fallbackThreadType:h},b[12]=h,b[13]=w):w=b[13];h=c("useIsSecureMessage")(i,g,w);w=e&&!h;b[14]!==k||b[15]!==w||b[16]!==e||b[17]!==u?(h=q(u,e,k,w),b[14]=k,b[15]=w,b[16]=e,b[17]=u,b[18]=h):h=b[18];k=h;e=r(m,s,o,a,w);b[19]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"xmo9yow"},b[19]=h):h=b[19];b[20]!==k||b[21]!==e?(o=n.jsx("div",babelHelpers["extends"]({},h,{children:n.jsx(c("MWXTextPairing.react"),{body:k,headline:e,level:4})})),b[20]=k,b[21]=e,b[22]=o):o=b[22];return o}function t(){c("LsReplyRenderedFalcoEvent").log(u)}function u(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint").messageActions}}}function v(a){return a.profileName}function w(a){var b=d("react-compiler-runtime").c(15),e=a.isSecureThread,f=a.message,g=a.threadType;a=a.useContactFullname;e=e===void 0?!1:e;var j=o(d("MWPReplyContext.react").MWPReplyContext),k=j.clearReply,l=o(c("CometTriggerAccessibilityAlertContext"));b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x6s0dn4 xrdv0aw x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o x889kno"},b[0]=j):j=b[0];var m;b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==a?(m=n.jsx(c("CometErrorBoundary.react"),{fallback:x,children:n.jsx(s,{isSecureThread:e,message:f,threadType:g,useContactFullname:a})}),b[1]=e,b[2]=f,b[3]=g,b[4]=a,b[5]=m):m=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__jHl6Cj_8ioz__JHASH__"),b[6]=e):e=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("fbicon")._(i("478231"),12),b[7]=g):g=b[7];b[8]!==k||b[9]!==f.threadKey||b[10]!==l?(a=n.jsx(c("MWXIcon.react"),{"aria-label":e,color:"primary",icon:g,onPress:function(){k(f.threadKey,!0),l(h._(/*BTDS*/"__JHASH__I4cDESLQyuo__JHASH__").toString(),{assertive:!1})}}),b[8]=k,b[9]=f.threadKey,b[10]=l,b[11]=a):a=b[11];b[12]!==m||b[13]!==a?(e=n.jsxs("div",babelHelpers["extends"]({},j,{"data-testid":void 0,children:[m,a]})),b[12]=m,b[13]=a,b[14]=e):e=b[14];return e}function x(){return n.jsx(c("MWXText.react"),{type:"headlineEmphasized4",children:h._(/*BTDS*/"__JHASH__viMkwR52t0r__JHASH__")})}x.displayName=x.name+" [from "+f.id+"]";function a(a){var e=d("react-compiler-runtime").c(21),g=a.messageId,h=a.messageThreadKey,i=a.messageTimestamp,k=a.thread;a=a.useContactFullname;a=a===void 0?!1:a;var l=(j||(j=c("useReStore")))(),m;e[0]!==k.threadType?(m=d("LSMessagingThreadTypeUtil").isArmadilloSecure(k.threadType),e[0]=k.threadType,e[1]=m):m=e[1];m=m;var o;e[2]!==l.tables.messages||e[3]!==g||e[4]!==h||e[5]!==i?(o=function(){return d("ReQL").fromTableAscending(l.tables.messages).getKeyRange(h,i,g)},e[2]=l.tables.messages,e[3]=g,e[4]=h,e[5]=i,e[6]=o):o=e[6];var p;e[7]!==l||e[8]!==g||e[9]!==h||e[10]!==i?(p=[l,h,i,g],e[7]=l,e[8]=g,e[9]=h,e[10]=i,e[11]=p):p=e[11];o=d("ReQLSuspense").useFirst(o,p,f.id+":417");e[12]!==k.threadType?(p={fallbackThreadType:k.threadType},e[12]=k.threadType,e[13]=p):p=e[13];p=c("useIsSecureMessage")(l,o,p);var q=b("cr:4471")(g,k.threadKey,p);if(e[14]!==p){var r;r=p&&((r=c("qex")._("124"))!=null?r:!1);e[14]=p;e[15]=r}else r=e[15];p=d("useMAWSeparateReadsSelector").useMAWSeparateReadsSelector("Message",q,o,r);if(p!=null){e[16]!==m||e[17]!==p||e[18]!==k.threadType||e[19]!==a?(q=n.jsx(w,{isSecureThread:m,message:p,threadType:k.threadType,useContactFullname:a}),e[16]=m,e[17]=p,e[18]=k.threadType,e[19]=a,e[20]=q):q=e[20];return q}else return null}g.MWV2ComposerReplyViewContainer=w;g.MWV2ComposerReplyView=a}),226);
__d("MWXIconHdOutline",["MWXSvgIcon","SVGIcon","cr:12458","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12458")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerHdMediaButton.react",["fbt","MWXComposer.react","MWXIconHd","MWXIconHdOutline","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.isHdEnabled,f=a.onToggle,g=a.visible;a=a.wrapperXStyle;if(!g)return null;g=e?c("MWXIconHd"):c("MWXIconHdOutline");var i;b[0]!==e?(i=e?h._(/*BTDS*/"__JHASH__DvlIu2TbBRo__JHASH__"):h._(/*BTDS*/"__JHASH__6jXQcgH2CYa__JHASH__"),b[0]=e,b[1]=i):i=b[1];b[2]!==f?(e=function(){f()},b[2]=f,b[3]=e):e=b[3];var k;b[4]!==g||b[5]!==i||b[6]!==e||b[7]!==a?(k=j.jsx(d("MWXComposer.react").Button,{disableTooltip:!0,icon:g,label:i,onPress:e,testid:void 0,wrapperXStyle:a}),b[4]=g,b[5]=i,b[6]=e,b[7]=a,b[8]=k):k=b[8];return k}g["default"]=a}),226);
__d("useMWToggleHDMedia",["LSFactory","LSUpdateE2eeHdMediaSettings","promiseDone","react","react-compiler-runtime","useAsyncReStore","useDebouncedComet","useMWIsHDMediaEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;var i=1e3;function a(a){var b=d("react-compiler-runtime").c(5),e=c("useMWIsHDMediaEnabled")(),g=!e,h=c("useAsyncReStore")();b[0]!==h||b[1]!==g||b[2]!==a?(e=function(){c("promiseDone")(h,function(a){return a.runInTransaction(function(a){return c("LSUpdateE2eeHdMediaSettings")(g,c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":33")}),a(g)},b[0]=h,b[1]=g,b[2]=a,b[3]=e):e=b[3];e=e;var j;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(j={leading:!0,wait:i},b[4]=j):j=b[4];b=c("useDebouncedComet")(e,j);return b}g["default"]=a}),98);
__d("useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9552138191486161"}),null);
__d("useMWXComposerMaybeShowHDMediaNuxQuery.graphql",["useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_INTERSTITIAL"}],c=[{kind:"Literal",name:"supported",value:"4BtD9E"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"useMWXComposerMaybeShowHDMediaNuxQuery",fragmentName:"CometQuickPromotionMessengerWebHDImageRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebHDImageRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWXComposerMaybeShowHDMediaNuxQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"4BtD9E")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_INTERSTITIAL")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWXComposerMaybeShowHDMediaNuxQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"4BtD9E")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_INTERSTITIAL")'}],storageKey:null}]},params:{id:b("useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation"),metadata:{},name:"useMWXComposerMaybeShowHDMediaNuxQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useMWXComposerMaybeShowHDMediaNux",["CometRelay","JSResourceForInteraction","promiseDone","react","react-compiler-runtime","useMWXComposerMaybeShowHDMediaNuxQuery.graphql","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect,k=e.useState,l=c("JSResourceForInteraction")("MAWThreadComposerNUXQuickPromotion.react").__setRef("useMWXComposerMaybeShowHDMediaNux"),m=h!==void 0?h:h=b("useMWXComposerMaybeShowHDMediaNuxQuery.graphql");function a(a,b,e){var f=d("react-compiler-runtime").c(10),g=d("CometRelay").useRelayEnvironment(),h=k(!1),i=h[0],o=h[1];h=k(null);var p=h[0],q=h[1];h=c("useMWXLazyDialog")(l);var r=h[0],s;f[0]!==i||f[1]!==g||f[2]!==b||f[3]!==a?(h=function(){a&&!b&&!i&&(o(!0),c("promiseDone")(d("CometRelay").fetchQuery(g,m,{},{fetchPolicy:"network-only"}).toPromise().then(function(a){q(a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:(a=a.find(n))==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)})))},s=[i,g,b,a],f[0]=i,f[1]=g,f[2]=b,f[3]=a,f[4]=h,f[5]=s):(h=f[4],s=f[5]);j(h,s);f[6]!==e||f[7]!==p||f[8]!==r?(h=function(){if(p!=null){r({onClosed:e,rendererStrategy:p},function(){q(null)});return!0}return!1},f[6]=e,f[7]=p,f[8]=r,f[9]=h):h=f[9];return h}function n(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),98);
__d("useMWXComposerHdMediaButton",["I64","LSIntEnum","MessagingAttachmentType","gkx","react","react-compiler-runtime","useMWIsHDMediaEnabled","useMWToggleHDMedia","useMWXComposerMaybeShowHDMediaNux"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(h||d("react")).useCallback;function a(a,b,e){var f=d("react-compiler-runtime").c(11),g;f[0]!==a?(g=a.some(k),f[0]=a,f[1]=g):g=f[1];a=g;g=b&&a&&c("gkx")("9576");b=c("useMWIsHDMediaEnabled")();var h=c("useMWToggleHDMedia")(e);f[2]!==h?(a=function(a){a||h()},f[2]=h,f[3]=a):a=f[3];e=a;var i=c("useMWXComposerMaybeShowHDMediaNux")(g,b,e);f[4]!==i||f[5]!==h?(a=function(){var a=i();a||h()},f[4]=i,f[5]=h,f[6]=a):a=f[6];e=a;f[7]!==b||f[8]!==g||f[9]!==e?(a={isHdEnabled:b,isVisible:g,onToggled:e},f[7]=b,f[8]=g,f[9]=e,f[10]=a):a=f[10];return a}function k(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}g["default"]=a}),98);
__d("MWComposerInnerButtonsGroup.react",["MWV2ComposerEmojiButton.react","MWXComposerHdMediaButton.react","react","react-compiler-runtime","stylex","useMWXComposerHdMediaButton"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={fds:{marginStart:"x16hk5td",paddingBottom:"xjkvuk6",paddingEnd:"x150jy0e",$$css:!0},hdMediaButton:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1fgtraw",justifyContent:"xl56j7k",width:"xgd8bvy",$$css:!0},innerButtons:{alignItems:"x6s0dn4",alignSelf:"xpvyfi4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},mds:{marginStart:"x169t7cy",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.editor,f=a.isSecureThread,g=a.mediaStaging,i=a.onHdMediaToggled,l=a.renderExtraButtons;a=a.shouldUseMDS;l=l===void 0?null:l;g=c("useMWXComposerHdMediaButton")(g,f,i);f=g.isHdEnabled;i=g.isVisible;g=g.onToggled;var m;b[0]!==a?(m=(h||(h=c("stylex"))).props(k.innerButtons,a?k.mds:k.fds),b[0]=a,b[1]=m):m=b[1];b[2]!==e||b[3]!==l?(a=l!=null&&l(e),b[2]=e,b[3]=l,b[4]=a):a=b[4];b[5]!==f||b[6]!==i||b[7]!==g?(l=j.jsx(c("MWXComposerHdMediaButton.react"),{isHdEnabled:f,onToggle:g,visible:i,wrapperXStyle:k.hdMediaButton}),b[5]=f,b[6]=i,b[7]=g,b[8]=l):l=b[8];b[9]!==e?(f=j.jsx(c("MWV2ComposerEmojiButton.react"),{editor:e}),b[9]=e,b[10]=f):f=b[10];b[11]!==m||b[12]!==a||b[13]!==l||b[14]!==f?(i=j.jsxs("div",babelHelpers["extends"]({},m,{children:[a,l,f]})),b[11]=m,b[12]=a,b[13]=l,b[14]=f,b[15]=i):i=b[15];return i}g["default"]=a}),98);
__d("MWV2ComposerGifButton.react",["fbt","JSResourceForInteraction","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","react-compiler-runtime","useMWV2ComposerOnGifSelect"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("MWChatAnimatedImageFlyoutWithPopover.react").__setRef("MWV2ComposerGifButton.react"),l={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},m=h._(/*BTDS*/"__JHASH__J6q-Bfr0oTE__JHASH__");function a(a){var b=d("react-compiler-runtime").c(10),e=a.disabled,f=a.hidden,g=a.isSecureThread;a=a.onSendMessage;a=c("useMWV2ComposerOnGifSelect")(a,"MWV2ComposerGifButton");var h=c("MessengerWebUXLogger").useInteractionLogger(),i;b[0]!==g||b[1]!==a?(i={isSecureThread:g,onSelect:a,testid:"mw_gif_picker"},b[0]=g,b[1]=a,b[2]=i):i=b[2];b[3]!==e||b[4]!==f||b[5]!==h?(g=function(a,b,g,i,k,l,o){return j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:m,children:j.jsx(c("MWXPressable.react"),{"aria-hidden":f,"aria-label":m,disabled:e,onHoverIn:i,onHoverOut:k,onPress:function(){b(),h==null?void 0:h({eventName:"composer_open_gif_picker"})},onPressIn:l,overlayRadius:"50%",ref:a,xstyle:n,children:j.jsx(d("MWChatComposerIcons").MWChatComposerIconsGif,{fill:e?void 0:"var(--chat-composer-button-color)",size:20})})})},b[3]=e,b[4]=f,b[5]=h,b[6]=g):g=b[6];b[7]!==i||b[8]!==g?(a=j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:i,popoverResource:k,position:"above",children:g}),b[7]=i,b[8]=g,b[9]=a):a=b[9];return a}function n(){return[c("gkx")("23219")?l.buttonMDS:l.buttonFDS]}g["default"]=a}),226);
__d("MWV2ComposerStickerButtonModern.react",["FDSEntryPointPopoverTrigger.react","JSResourceForInteraction","MWChatComposerIcons","MWCometStickersFlyout.entrypoint","MWV2ComposerStickerCommon","MWXPopoverLoadingState.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","promiseDone","react","react-compiler-runtime","useMWV2ComposerOnStickerSelect"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j=c("JSResourceForInteraction")("logStickersFlyoutHasOpened").__setRef("MWV2ComposerStickerButtonModern.react"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},flyoutRoot:{height:"x1hie0zf",maxHeight:"x1n3te05",width:"x1fepime",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.color,f=a.disabled,g=a.hidden,h=a.isSecureThread;a=a.onSendMessage;var j=c("useMWV2ComposerOnStickerSelect")(a,h,"MWV2ComposerStickerButtonModern"),n=c("MessengerWebUXLogger").useInteractionLogger();b[0]!==j?(a=function(a,b,c){a=a.stickerID;j(a,b,c)},b[0]=j,b[1]=a):a=b[1];a=a;var o,p;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(o={feedbackID:null,flyoutTagsCount:10,stickerInterface:"MESSAGES"},p=i.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!0}),b[2]=o,b[3]=p):(o=b[2],p=b[3]);var q;b[4]!==h?(q=d("MWV2ComposerStickerCommon").getTabListOverrideForMessengerSticker(h),b[4]=h,b[5]=q):q=b[5];var r;b[6]!==a||b[7]!==h||b[8]!==q?(r={isSecureThread:h,onSelect:a,prioritisedTabList:q,stickerHeight:128,stickerWidth:128,xstyle:k.flyoutRoot},b[6]=a,b[7]=h,b[8]=q,b[9]=r):r=b[9];b[10]!==e||b[11]!==f||b[12]!==g||b[13]!==n?(a=function(a,b,h,j,k,m,o){return i.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:d("MWV2ComposerStickerCommon").LABEL,children:i.jsx(c("MWXPressable.react"),{"aria-hidden":g,"aria-label":d("MWV2ComposerStickerCommon").LABEL,disabled:f,onHoverIn:j,onHoverOut:k,onPress:function(){b(),n==null?void 0:n({eventName:"composer_open_sticker_picker"})},onPressIn:m,overlayRadius:"50%",ref:a,testid:void 0,xstyle:l,children:i.jsx(d("MWChatComposerIcons").MWChatComposerIconsSticker,{fill:f?void 0:e,size:20})})})},b[10]=e,b[11]=f,b[12]=g,b[13]=n,b[14]=a):a=b[14];b[15]!==r||b[16]!==a?(h=i.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,entryPointParams:o,fallback:p,onVisibilityChange:m,otherProps:r,popoverEntryPoint:c("MWCometStickersFlyout.entrypoint"),position:"above",children:a}),b[15]=r,b[16]=a,b[17]=h):h=b[17];return h}function l(){return[c("gkx")("23219")?k.buttonMDS:k.buttonFDS]}function m(a){a===!0&&c("promiseDone")(j.load().then(n))}function n(a){a()}g["default"]=a}),98);
__d("MWV2ComposerStickerButton.react",["MWV2ComposerStickerButtonModern.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MWV2ComposerStickerButtonModern.react")}),98);
__d("useMWV2ComposerOnPressVoiceClip",["$InternalEnum","JSResourceForInteraction","WAGetMediaDevicesSupportedConstraints","emptyFunction","react","react-compiler-runtime","requireDeferred","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState,j=c("requireDeferred")("MWChatAudioLog").__setRef("useMWV2ComposerOnPressVoiceClip"),k=b("$InternalEnum").Mirrored(["AWAITING","GRANTED","DENIED","FAILED"]);function a(a){var b=d("react-compiler-runtime").c(15),e=i(k.AWAITING),f=e[0],g=e[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog.react").__setRef("useMWV2ComposerOnPressVoiceClip"),b[0]=e):e=b[0];e=c("useMWXLazyDialog")(e);var h=e[0],n;if(b[1]===Symbol["for"]("react.memo_cache_sentinel")){n={channelCount:1};e=((e=d("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:e.sampleRate)===!0;e&&(n.sampleRate=44100);b[1]=n}else n=b[1];b[2]!==h?(e=function(){return h({contentType:"accessDenied",onAllow:c("emptyFunction")},c("emptyFunction"))},b[2]=h,b[3]=e):e=b[3];var o=e;b[4]!==o||b[5]!==a?(e=function(){var b;(b=navigator)==null?void 0:(b=b.mediaDevices)==null?void 0:b.getUserMedia({audio:n,video:!1}).then(function(b){g(k.GRANTED),a.start(b)})["catch"](function(a){a.name==="NotAllowedError"?(g(k.DENIED),o()):g(k.FAILED),j.onReady(m)})},b[4]=o,b[5]=a,b[6]=e):e=b[6];var p=e;b[7]!==h||b[8]!==p?(e=function(){return h({contentType:"askForAccess",onAllow:function(){return p()}},c("emptyFunction"))},b[7]=h,b[8]=p,b[9]=e):e=b[9];var q=e;b[10]!==f||b[11]!==o||b[12]!==q||b[13]!==p?(e=function(){switch(f){case k.AWAITING:var a;a=(a=navigator.permissions)==null?void 0:a.query({name:"microphone"});a!=null?a.then(function(a){a=a.state;bb61:switch(a){case"denied":g(k.DENIED);o();break bb61;case"granted":p();break bb61;case"prompt":q();break bb61;default:q()}})["catch"](function(){q()}):(p(),j.onReady(l));return;case k.DENIED:return o();case k.GRANTED:case k.FAILED:return p()}},b[10]=f,b[11]=o,b[12]=q,b[13]=p,b[14]=e):e=b[14];return e}function l(a){return a.logMicAccessCheckFailed()}function m(a){return a.logBrowserDenyAccess()}g["default"]=a}),98);
__d("MWComposerStartButtonsGroup.react",["CometPlaceholder.react","LSMessagingThreadTypeUtil","MWV2ComposerFileButton.react","MWV2ComposerGifButton.react","MWV2ComposerPollButton.react","MWV2ComposerPromptButton.react","MWV2ComposerStickerButton.react","MWV2ComposerVoiceClipButton.react","MWXTooltipGroup.react","QE2Logger","emptyFunction","qex","react","react-compiler-runtime","stylex","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWV2ComposerOnPressVoiceClip"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={button:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},buttonFDS:{marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},buttonHidden:{transform:"x1f85oc2",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},buttonMDS:{marginBottom:"xat24cr",$$css:!0},buttonShown:{transform:"x3oybdh",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},firstButtonHidden:{transitionDelay:"x1th4bbo",$$css:!0},firstButtonShown:{transitionDelay:"x1th4bbo",$$css:!0},secondButtonHidden:{transitionDelay:"x5zdck6",$$css:!0},secondButtonShown:{transitionDelay:"x5h36tt",$$css:!0},thirdButtonHidden:{transitionDelay:"x1ahifba",$$css:!0},thirdButtonShown:{transitionDelay:"x5w5eug",$$css:!0}},l="var(--chat-composer-button-color)";function a(a){var b=d("react-compiler-runtime").c(79),e=a.canSendAudioClipFinal,f=a.canSendFileFinal,g=a.canSendGifFinal,i=a.canSendRollcall,m=a.canSendSticker,n=a.composerLinkPreview,o=a.gifButtonPosition,p=a.isInputExpanded,q=a.isRTL,r=a.isSecureThread,s=a.localTimezoneInformation,t=a.onAttachmentsAdded,u=a.onSendMessage,v=a.shouldUseMDS,w=a.stickerButtonPosition,x=a.supportedFileTypes,y=a.threadKey,z=a.threadType;a=a.voiceRecorder;var A=c("useMWEntrypoint")(),B=c("useMWFalcoFeatureEventLogger")(y,z),C;b[0]!==A||b[1]!==B?(C=function(a,b){var c="select_sticker_book";a?c="sticker_search":b&&(c="recent_stickers");B(A,c)},b[0]=A,b[1]=B,b[2]=C):C=b[2];C=C;a=c("useMWV2ComposerOnPressVoiceClip")(a);var D;b[3]!==z?(D=d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(z),b[3]=z,b[4]=D):D=b[4];D=D;var E;b[5]!==q?(E=q?{right:"0px"}:{left:"0px"},b[5]=q,b[6]=E):E=b[6];E=E;var F;b[7]!==q||b[8]!==w?(F=q?{right:w.toString()+"px"}:{left:w.toString()+"px"},b[7]=q,b[8]=w,b[9]=F):F=b[9];w=F;b[10]!==o||b[11]!==q?(F=q?{right:o.toString()+"px"}:{left:o.toString()+"px"},b[10]=o,b[11]=q,b[12]=F):F=b[12];o=F;b[13]!==i||b[14]!==D?(q=D&&i&&c("qex")._("721")===!0,b[13]=i,b[14]=D,b[15]=q):q=b[15];F=q;D&&i&&d("QE2Logger").logExposureForUser("fb_msgr_bc_prompts_creator_side_universe",void 0,"can_create_prompts");q=v?k.buttonMDS:k.buttonFDS;i=p?k.buttonHidden:k.buttonShown;var G=p?k.firstButtonHidden:k.firstButtonShown,H;b[16]!==q||b[17]!==i||b[18]!==G?(H=(h||(h=c("stylex")))(k.button,q,i,G),b[16]=q,b[17]=i,b[18]=G,b[19]=H):H=b[19];q=!f;b[20]!==p||b[21]!==r||b[22]!==t||b[23]!==x||b[24]!==q||b[25]!==y?(i=j.jsx(c("MWV2ComposerFileButton.react"),{disabled:q,hidden:p,isSecureThread:r,onAttachmentsAdded:t,supportedFileTypes:x,threadKey:y}),b[20]=p,b[21]=r,b[22]=t,b[23]=x,b[24]=q,b[25]=y,b[26]=i):i=b[26];b[27]!==E||b[28]!==H||b[29]!==i?(G=j.jsx("div",{className:H,style:E,children:i}),b[27]=E,b[28]=H,b[29]=i,b[30]=G):G=b[30];f=v?k.buttonMDS:k.buttonFDS;t=p?k.buttonHidden:k.buttonShown;x=p?k.secondButtonHidden:k.secondButtonShown;b[31]!==f||b[32]!==t||b[33]!==x?(q=(h||(h=c("stylex")))(k.button,f,t,x),b[31]=f,b[32]=t,b[33]=x,b[34]=q):q=b[34];b[35]!==m||b[36]!==D||b[37]!==p||b[38]!==r||b[39]!==C||b[40]!==u||b[41]!==y||b[42]!==z?(E=D?j.jsx(c("MWV2ComposerPollButton.react"),{color:l,entryPoint:"composer",hidden:p,onClose:c("emptyFunction"),threadKey:y,threadType:z}):j.jsx(c("MWV2ComposerStickerButton.react"),{color:l,disabled:!m,hidden:p,isSecureThread:r,onSelectStickerPack:C,onSendMessage:u}),b[35]=m,b[36]=D,b[37]=p,b[38]=r,b[39]=C,b[40]=u,b[41]=y,b[42]=z,b[43]=E):E=b[43];b[44]!==w||b[45]!==q||b[46]!==E?(H=j.jsx("div",{className:q,style:w,children:E}),b[44]=w,b[45]=q,b[46]=E,b[47]=H):H=b[47];i=v?k.buttonMDS:k.buttonFDS;f=p?k.buttonHidden:k.buttonShown;t=p?k.thirdButtonHidden:k.thirdButtonShown;b[48]!==i||b[49]!==f||b[50]!==t?(x=(h||(h=c("stylex")))(k.button,i,f,t),b[48]=i,b[49]=f,b[50]=t,b[51]=x):x=b[51];b[52]!==F||b[53]!==e||b[54]!==g||b[55]!==D||b[56]!==p||b[57]!==r||b[58]!==a||b[59]!==u||b[60]!==y||b[61]!==z?(m=D?F?j.jsx(c("MWV2ComposerPromptButton.react"),{color:l,entryPoint:"composer",hidden:p,onClose:c("emptyFunction"),pushPage:c("emptyFunction"),threadKey:y,threadType:z}):j.jsx(c("MWV2ComposerVoiceClipButton.react"),{color:l,disabled:!e,entryPoint:"composer",hidden:p,onPress:a}):j.jsx(c("MWV2ComposerGifButton.react"),{disabled:!g,hidden:p,isSecureThread:r,onSendMessage:u}),b[52]=F,b[53]=e,b[54]=g,b[55]=D,b[56]=p,b[57]=r,b[58]=a,b[59]=u,b[60]=y,b[61]=z,b[62]=m):m=b[62];b[63]!==x||b[64]!==m||b[65]!==o?(C=j.jsx("div",{className:x,style:o,children:m}),b[63]=x,b[64]=m,b[65]=o,b[66]=C):C=b[66];b[67]!==G||b[68]!==H||b[69]!==C?(w=j.jsxs(c("MWXTooltipGroup.react"),{children:[G,H,C]}),b[67]=G,b[68]=H,b[69]=C,b[70]=w):w=b[70];b[71]!==s?(q=s!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWComposerStartButtonsGroup.LocalTimezoneInformation",children:s}):null,b[71]=s,b[72]=q):q=b[72];b[73]!==n?(E=n!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWComposerStartButtonsGroup.ComposerLinkPreview",children:n}):null,b[73]=n,b[74]=E):E=b[74];b[75]!==w||b[76]!==q||b[77]!==E?(v=j.jsxs(j.Fragment,{children:[w,q,E]}),b[75]=w,b[76]=q,b[77]=E,b[78]=v):v=b[78];return v}g["default"]=a}),98);
__d("MWV2ComposerPlusButton.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWPActor.react","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","emptyFunction","gkx","react","react-compiler-runtime","requireDeferred","useMWV2ComposerOnPressVoiceClip"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useMemo;var k=b.useState,l=c("requireDeferred")("MWChatAudioLog").__setRef("MWV2ComposerPlusButton.react"),m={plusButtonFDS:{marginTop:"x1gslohp",marginBottom:"x12nagc",marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},plusButtonMDS:{marginStart:"x1i64zmx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(39),e=a.canSendAudioClip,f=a.canSendFile,g=a.canSendPayment,i=a.editor,m=a.hasAudioClipsCapability,p=a.hasGIFCapability,q=a.hasPaymentCapability,r=a.hasPollCreationCapability,s=a.hasRollcallCapability,t=a.hasStickerCapability,u=a.isInputExpanded,v=a.onAttachmentsAdded,w=a.onSendMessage,x=a.renderExtraOverflowMenuItems,y=a.supportedFileTypes,z=a.threadKey,A=a.threadType,B=a.voiceRecorder;c("emptyFunction");a=k(!1);var C=a[0],D=a[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){return D(a)},b[0]=a):a=b[0];a=a;var E;b[1]!==A?(E=d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(A),b[1]=A,b[2]=E):E=b[2];A=E;E=q&&!c("gkx")("24133")&&g;b[3]!==r||b[4]!==A||b[5]!==u?(q=r&&(!A||c("gkx")("23422")||d("MWPActor.react").isPromode())&&(!A||u),b[3]=r,b[4]=A,b[5]=u,b[6]=q):q=b[6];g=q;r=s&&(!A||u);q=m&&e&&(!A||u);s=p&&(u||A);m=f&&u;e=A||t&&u;p=c("gkx")("23423");f=c("gkx")("23159");if(x!=null){b[7]!==v||b[8]!==x?(A=x("var(--chat-composer-button-color)",c("emptyFunction"),v),b[7]=v,b[8]=x,b[9]=A):A=b[9];t=A}else{b[10]===Symbol["for"]("react.memo_cache_sentinel")?(u=[],b[10]=u):u=b[10];t=u}x=t;A=c("useMWV2ComposerOnPressVoiceClip")(B);var F=B.state.stage!=="Unopen";b[11]!==C||b[12]!==F?(u=F?h._(/*BTDS*/"__JHASH__gaxHiFwvIGk__JHASH__"):C?h._(/*BTDS*/"__JHASH__SFruYEeI3S-__JHASH__"):h._(/*BTDS*/"__JHASH__PUPO-44z1pF__JHASH__"),b[11]=C,b[12]=F,b[13]=u):u=b[13];var G=u,H=c("MessengerWebUXLogger").useInteractionLogger();t=E||g||q||s||m||e||p||f||r||x.length>0;var I=!t;b[14]!==i||b[15]!==x||b[16]!==v||b[17]!==A||b[18]!==w||b[19]!==g||b[20]!==r||b[21]!==m||b[22]!==s||b[23]!==E||b[24]!==q||b[25]!==e||b[26]!==y||b[27]!==z?(C={color:"var(--chat-composer-button-color)",editor:i,extraItems:x,onAttachmentsAdded:v,onClose:c("emptyFunction"),onPressVoiceClip:A,onSendMessage:w,showCreatePoll:g,showCreatePrompt:r,showFile:m,showGenAICreate:p,showGenAICreateVideo:f,showGif:s,showPayment:E,showSendVoiceClip:q,showSticker:e,supportedFileTypes:y,threadKey:z},b[14]=i,b[15]=x,b[16]=v,b[17]=A,b[18]=w,b[19]=g,b[20]=r,b[21]=m,b[22]=s,b[23]=E,b[24]=q,b[25]=e,b[26]=y,b[27]=z,b[28]=C):C=b[28];b[29]===Symbol["for"]("react.memo_cache_sentinel")?(u=c("JSResourceForInteraction")("MWV2ComposerOverflowMenu.react").__setRef("MWV2ComposerPlusButton.react"),b[29]=u):u=b[29];b[30]!==I||b[31]!==F||b[32]!==G||b[33]!==H||b[34]!==B?(t=function(a,b,e,f,g,h){return j.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:G,children:j.jsx(c("MWXPressable.react"),{"aria-label":G,disabled:I,onHoverIn:f,onHoverOut:g,onPress:function(){if(F){B.reset();l.onReady(o);H==null?void 0:H({eventName:"composer_close_audio_recorder"});return}else H==null?void 0:H({eventName:"composer_open_overflow_menu"}),b()},onPressIn:h,overlayDisabled:I,overlayRadius:"50%",ref:a,testid:void 0,xstyle:n,children:j.jsx(d("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:I?void 0:"var(--chat-composer-button-color)",isRotated:F,size:20})})})},b[30]=I,b[31]=F,b[32]=G,b[33]=H,b[34]=B,b[35]=t):t=b[35];b[36]!==C||b[37]!==t?(p=j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"start",onVisibilityChange:a,popoverProps:C,popoverResource:u,position:"above",preloadTrigger:"button",children:t}),b[36]=C,b[37]=t,b[38]=p):p=b[38];return p}function n(){return[c("gkx")("23219")?m.plusButtonMDS:m.plusButtonFDS]}function o(a){return a.logDeleteRecording()}g["default"]=a}),226);
__d("useMWHasPollsCreationEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,h))!=null?a:!1;return a}function h(a){return d("LSThreadBitOffset").has(36,a)}g["default"]=a}),98);
__d("MWReQLComposerPlusButton.react",["LSThreadBitOffset","MWV2ComposerPlusButton.react","react","react-compiler-runtime","useMWHasPollsCreationEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(32),e=a.canSendAudioClip,f=a.canSendFile,g=a.canSendPayment,h=a.editor,j=a.isInputExpanded,k=a.onAttachmentsAdded,l=a.onSendMessage,m=a.renderExtraOverflowMenuItems,n=a.supportedFileTypes,o=a.thread;a=a.voiceRecorder;var p=c("useMWHasPollsCreationEnabled")(o.threadKey),q;b[0]!==o?(q=d("LSThreadBitOffset").has(14,o),b[0]=o,b[1]=q):q=b[1];var r;b[2]!==o?(r=d("LSThreadBitOffset").has(4,o),b[2]=o,b[3]=r):r=b[3];var s;b[4]!==o?(s=d("LSThreadBitOffset").has(0,o),b[4]=o,b[5]=s):s=b[5];var t;b[6]!==o?(t=d("LSThreadBitOffset").has(152,o),b[6]=o,b[7]=t):t=b[7];var u;b[8]!==o?(u=d("LSThreadBitOffset").has(3,o),b[8]=o,b[9]=u):u=b[9];var v;b[10]!==p||b[11]!==q||b[12]!==r||b[13]!==s||b[14]!==t||b[15]!==u?(v={hasAudioClipsCapability:q,hasGIFCapability:r,hasPaymentCapability:s,hasPollCreationCapability:p,hasRollcallCapability:t,hasStickerCapability:u},b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v):v=b[16];q=v;b[17]!==e||b[18]!==f||b[19]!==g||b[20]!==q||b[21]!==h||b[22]!==p||b[23]!==j||b[24]!==k||b[25]!==l||b[26]!==m||b[27]!==n||b[28]!==o.threadKey||b[29]!==o.threadType||b[30]!==a?(r=i.jsx(c("MWV2ComposerPlusButton.react"),babelHelpers["extends"]({canSendAudioClip:e,canSendFile:f,canSendPayment:g,editor:h,hasPollCreationCapability:p,isInputExpanded:j,onAttachmentsAdded:k,onSendMessage:l,renderExtraOverflowMenuItems:m,supportedFileTypes:n,threadKey:o.threadKey,threadType:o.threadType,voiceRecorder:a},q)),b[17]=e,b[18]=f,b[19]=g,b[20]=q,b[21]=h,b[22]=p,b[23]=j,b[24]=k,b[25]=l,b[26]=m,b[27]=n,b[28]=o.threadKey,b[29]=o.threadType,b[30]=a,b[31]=r):r=b[31];return r}g["default"]=a}),98);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWLSContactTypeExactUtils","MWPActor.react","MWWorkForeignEntityTypeUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a){var b=a.threadKey,e=d("MWPActor.react").useActor(),g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(b).map(function(a){return[d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(a.contactId),f.id+":43"),a]})},[g,b],f.id+":37"),l=k(function(){return j.reduce(function(a,b){var c=b[0];b=b[1];if(c!=null&&!(i||(i=d("I64"))).equal(c.id,e)){return a.concat([[babelHelpers["extends"]({},c,{name:(c=c.name)!=null?c:d("MAWSubscribeToContactNames").getUnknownUser()}),b]])}return a},[])},[j,e]);return k(function(){return new Map(l.map(function(a){var b,e=a[1];a=a[0];return[(i||(i=d("I64"))).to_string(a.id),{actualName:a.name,blockedByViewerStatus:a.blockedByViewerStatus,contactId:i.to_string(a.id),isAdmin:(b=e.isAdmin)!=null?b:!1,isContact:!0,jobTitle:a.workJobTitle,name:a.name,nickname:e.nickname,profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(a),secondaryName:d("MWLSContactTypeExactUtils").isIgContact(a.contactTypeExact)?a.secondaryName:void 0,workForeignEntityInfo:d("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(a.workForeignEntityType)}]}))},[l])}g["default"]=a}),98);
__d("MWV2ComposerView.react",["fbt","FBLogger","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","Locale","MWAudioRecorder.react","MWCMThreadTypes.react","MWComposerEndButtonsGroup.react","MWComposerInnerButtonsGroup.react","MWComposerStartButtonsGroup.react","MWReQLComposerInner.react","MWReQLComposerPlusButton.react","MWV2ComposerMediaStaging.react","MWV2ComposerSendButton.react","Promise","ReQL","ReQLSuspense","cr:8607","emptyFunction","gkx","react","react-compiler-runtime","requireDeferred","stylex","useDeferredModuleOnReady","useIsAdsAIChat","useIsMessengerPWA","useMWComposerAriaDescribedBy","useMWEntrypoint","useMWIsOffline","useParticipantsExcludingViewer","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,aa){"use strict";var ba,ca,da,h,i,j=i||(i=d("react"));e=i;var ea=e.useEffect,fa=e.useId,ga=e.useRef,k=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.react"),ha={container:{flexGrow:"x1iyjqo2",overflowX:"xw2csxc",position:"x1n2onr6",$$css:!0},hidden:{display:"x1s85apg",$$css:!0}};function ia(a){var b=d("react-compiler-runtime").c(4),e=c("useDeferredModuleOnReady")(k),f,g;b[0]!==e||b[1]!==a?(f=function(){if(e!=null)return e(a,16)},g=[a,e],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);ea(f,g)}function a(a){var e=d("react-compiler-runtime").c(152),g=a.ariaLabel,i=a.canSendAudioClip,k=a.canSendFile,l=a.canSendGif,m=a.canSendPayment,n=a.canSendSticker,o=a.composerLinkPreview,p=a.editor,q=a.editorElementRef,r=a.hasStuffToSend,s=a.hideAriaDescribedBy,t=a.isAiBotMentionsEnabled,u=a.isMentionsPluginEnabled,v=a.keepInputExpanded,w=a.localTimezoneInformation,x=a.mediaStaging,la=a.onAttachmentRemoved,y=a.onAttachmentsAdded,ma=a.onHdMediaToggled,z=a.onSendMessage,na=a.placeholderText,oa=a.policyProduct,A=a.renderExtraButtons,B=a.renderExtraOverflowMenuItems,pa=a.sendMessage,C=a.supportedFileTypes,qa=a.surface,D=a.thread,E=a.voiceRecorder;a=i===void 0?!0:i;i=k===void 0?!0:k;k=l===void 0?!0:l;l=m===void 0?!1:m;m=n===void 0?!0:n;n=s===void 0?!1:s;s=u===void 0?!0:u;u=v===void 0?!1:v;v=A===void 0?null:A;A=c("useMWIsOffline")();var F=c("useIsMessengerPWA")();A=A&&F;e[0]!==k||e[1]!==D?(F=k&&d("LSThreadBitOffset").has(4,D),e[0]=k,e[1]=D,e[2]=F):F=e[2];k=F;e[3]!==D.threadType?(F=d("MWCMThreadTypes.react").isBroadcastThread(D.threadType),e[3]=D.threadType,e[4]=F):F=e[4];F=F;var G;e[5]!==D.threadType?(G=d("LSMessagingThreadTypeUtil").isAiBot(D.threadType),e[5]=D.threadType,e[6]=G):G=e[6];G=G;var H=c("useIsAdsAIChat")(D.threadKey),I;e[7]!==i||e[8]!==H||e[9]!==G||e[10]!==F||e[11]!==D?(I=i&&(F||G||H?d("LSThreadBitOffset").has(56,D):!0),e[7]=i,e[8]=H,e[9]=G,e[10]=F,e[11]=D,e[12]=I):I=e[12];i=I;e[13]!==D.threadType?(G=d("LSMessagingThreadTypeUtil").isArmadilloSecure(D.threadType),e[13]=D.threadType,e[14]=G):G=e[14];F=G;e[15]!==m||e[16]!==D?(I=m&&d("LSThreadBitOffset").has(3,D),e[15]=m,e[16]=D,e[17]=I):I=e[17];G=I;m=c("useMWEntrypoint")();I=b("cr:8607")()===!0;var J=E.state.stage!=="Unopen",K;e[18]!==z||e[19]!==E?(K=function(){E.getVoiceClip().then(function(a){E.reset();z(void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"MWV2ComposerView.onSendVoiceClip");return(h||(h=b("Promise"))).resolve()})["catch"](ka)},e[18]=z,e[19]=E,e[20]=K):K=e[20];K=K;var ra=ga(null),L=c("usePrevious")(J),M,N;e[21]!==J||e[22]!==L?(M=function(){if(J===!0&&L===!1){var a;(a=ra.current)==null?void 0:a.focus()}},N=[J,ra,L],e[21]=J,e[22]=L,e[23]=M,e[24]=N):(M=e[23],N=e[24]);ea(M,N);e[25]!==D.threadKey?(M={threadKey:D.threadKey},e[25]=D.threadKey,e[26]=M):M=e[26];N=c("useParticipantsExcludingViewer")(M);e[27]!==D?(M=d("LSThreadBitOffset").has(43,D),e[27]=D,e[28]=M):M=e[28];M=M;var O;e[29]===Symbol["for"]("react.memo_cache_sentinel")?(O=d("Locale").isRTL(),e[29]=O):O=e[29];O=O;var P=c("gkx")("23219"),Q;e[30]===Symbol["for"]("react.memo_cache_sentinel")?(Q=P?[36,8]:[32,4],e[30]=Q):Q=e[30];Q=Q;var R=Q[0];Q=Q[1];var S=0+R|0,T;e[31]!==D.threadType?(T=d("LSMessagingThreadTypeUtil").isCMSubthread(D.threadType),e[31]=D.threadType,e[32]=T):T=e[32];T=T;u=r||u||T&&m==="inbox";m=S+R|0;e[33]!==u?(R=O?{marginRight:u?P?8..toString()+"px":"0":((m+R|0)+Q|0).toString()+"px"}:{marginLeft:u?P?8..toString()+"px":"0":((m+R|0)+Q|0).toString()+"px"},e[33]=u,e[34]=R):R=e[34];Q=R;R=c("useMWComposerAriaDescribedBy")(D);var U=fa();ia(p);var V;e[35]!==H||e[36]!==D?(V=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(D.threadType)||H&&!d("LSThreadBitOffset").has(109,D),e[35]=H,e[36]=D,e[37]=V):V=e[37];H=V;var W=(ba||(ba=c("useReStore")))();e[38]!==W.tables.custom_thread_commands||e[39]!==D.threadKey?(V=function(){return d("ReQL").fromTableAscending(W.tables.custom_thread_commands).getKeyRange(D.threadKey).filter(ja)},e[38]=W.tables.custom_thread_commands,e[39]=D.threadKey,e[40]=V):V=e[40];var X;e[41]!==W||e[42]!==D.threadKey?(X=[W,D.threadKey],e[41]=W,e[42]=D.threadKey,e[43]=X):X=e[43];V=d("ReQLSuspense").useFirst(V,X,f.id+":270")!=null;e[44]!==D?(X=d("LSThreadBitOffset").has(152,D),e[44]=D,e[45]=X):X=e[45];X=X;var Y,Z;e[46]===Symbol["for"]("react.memo_cache_sentinel")?(Y=aa._(/*BTDS*/"__JHASH__J510aPC_joc__JHASH__"),Z={className:"xuk3077 x57kliw x78zum5 x6prxxf xz9dl7a xsag5q8"},e[46]=Y,e[47]=Z):(Y=e[46],Z=e[47]);var $;e[48]!==a||e[49]!==i||e[50]!==l||e[51]!==p||e[52]!==I||e[53]!==u||e[54]!==y||e[55]!==z||e[56]!==B||e[57]!==C||e[58]!==D||e[59]!==E?($=!I&&j.jsx(c("MWReQLComposerPlusButton.react"),{canSendAudioClip:a,canSendFile:i,canSendPayment:l,editor:p,isInputExpanded:u,onAttachmentsAdded:y,onSendMessage:z,renderExtraOverflowMenuItems:B,supportedFileTypes:C,thread:D,voiceRecorder:E}),e[48]=a,e[49]=i,e[50]=l,e[51]=p,e[52]=I,e[53]=u,e[54]=y,e[55]=z,e[56]=B,e[57]=C,e[58]=D,e[59]=E,e[60]=$):$=e[60];e[61]!==r||e[62]!==J||e[63]!==K||e[64]!==E?(l=J?j.jsxs(j.Fragment,{children:[j.jsx(c("MWAudioRecorder.react"),{voiceRecorder:E}),j.jsx(c("MWV2ComposerSendButton.react"),{hasStuffToSend:r,onPress:K,ref:ra})]}):null,e[61]=r,e[62]=J,e[63]=K,e[64]=E,e[65]=l):l=e[65];e[66]!==J?(I=(da||(da=c("stylex"))).props(J?ha.hidden:!1,ha.container),e[66]=J,e[67]=I):I=e[67];e[68]!==a||e[69]!==i||e[70]!==k||e[71]!==X||e[72]!==G||e[73]!==o||e[74]!==u||e[75]!==F||e[76]!==w||e[77]!==y||e[78]!==z||e[79]!==C||e[80]!==D.threadKey||e[81]!==D.threadType||e[82]!==E?(B=j.jsx(c("MWComposerStartButtonsGroup.react"),{canSendAudioClipFinal:a,canSendFileFinal:i,canSendGifFinal:k,canSendRollcall:X,canSendSticker:G,composerLinkPreview:o,gifButtonPosition:m,isInputExpanded:u,isRTL:O,isSecureThread:F,localTimezoneInformation:w,onAttachmentsAdded:y,onSendMessage:z,shouldUseMDS:P,stickerButtonPosition:S,supportedFileTypes:C,threadKey:D.threadKey,threadType:D.threadType,voiceRecorder:E}),e[68]=a,e[69]=i,e[70]=k,e[71]=X,e[72]=G,e[73]=o,e[74]=u,e[75]=F,e[76]=w,e[77]=y,e[78]=z,e[79]=C,e[80]=D.threadKey,e[81]=D.threadType,e[82]=E,e[83]=B):B=e[83];e[84]===Symbol["for"]("react.memo_cache_sentinel")?(K="x78zum5 x1iyjqo2 x6q2ic0",e[84]=K):K=e[84];e[85]!==R||e[86]!==U||e[87]!==n?(m=!n&&j.jsx("div",babelHelpers["extends"]({className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s"},{id:U,children:R})),e[85]=R,e[86]=U,e[87]=n,e[88]=m):m=e[88];O=n?void 0:U;e[89]!==p||e[90]!==F||e[91]!==x||e[92]!==ma||e[93]!==v?(S=j.jsx(c("MWComposerInnerButtonsGroup.react"),{editor:p,isSecureThread:F,mediaStaging:x,onHdMediaToggled:ma,renderExtraButtons:v,shouldUseMDS:P}),e[89]=p,e[90]=F,e[91]=x,e[92]=ma,e[93]=v,e[94]=S):S=e[94];a=i?y:c("emptyFunction");e[95]!==T||e[96]!==D.parentThreadKey||e[97]!==D.threadKey?(k=(ca||(ca=d("I64"))).to_string(T?D.parentThreadKey:D.threadKey),e[95]=T,e[96]=D.parentThreadKey,e[97]=D.threadKey,e[98]=k):k=e[98];e[99]!==x||e[100]!==la||e[101]!==y||e[102]!==C?(X=j.jsx(c("MWV2ComposerMediaStaging.react"),{mediaStaging:x,onAttachmentRemoved:la,onAttachmentsAdded:y,supportedFileTypes:C}),e[99]=x,e[100]=la,e[101]=y,e[102]=C,e[103]=X):X=e[103];e[104]!==M||e[105]!==t||e[106]!==s||e[107]!==D.threadType?(G=s&&(t===!0?!0:M&&d("LSMessagingThreadTypeUtil").isGroup(D.threadType)),e[104]=M,e[105]=t,e[106]=s,e[107]=D.threadType,e[108]=G):G=e[108];e[109]!==g||e[110]!==p||e[111]!==q||e[112]!==t||e[113]!==F||e[114]!==N||e[115]!==na||e[116]!==oa||e[117]!==qa||e[118]!==O||e[119]!==S||e[120]!==a||e[121]!==k||e[122]!==X||e[123]!==G?(o=j.jsx(c("MWReQLComposerInner.react"),{ariaDescribedBy:O,ariaLabel:g,contentEditableRef:q,editor:p,endContent:S,handlePastedFiles:a,isAiBotMentionsEnabled:t,isSecureThread:F,participants:N,placeholderText:na,policyProduct:oa,surface:qa,testId:"chat_input:rich-input",threadID:k,topContent:X,useMentionsPlugin:G}),e[109]=g,e[110]=p,e[111]=q,e[112]=t,e[113]=F,e[114]=N,e[115]=na,e[116]=oa,e[117]=qa,e[118]=O,e[119]=S,e[120]=a,e[121]=k,e[122]=X,e[123]=G,e[124]=o):o=e[124];e[125]!==Q||e[126]!==m||e[127]!==o?(u=j.jsxs("div",{className:K,style:Q,children:[m,o]}),e[125]=Q,e[126]=m,e[127]=o,e[128]=u):u=e[128];e[129]!==I||e[130]!==B||e[131]!==u?(w=j.jsxs("div",babelHelpers["extends"]({},I,{children:[B,u]})),e[129]=I,e[130]=B,e[131]=u,e[132]=w):w=e[132];R=A?!0:void 0;e[133]!==p||e[134]!==V||e[135]!==r||e[136]!==A||e[137]!==J||e[138]!==z||e[139]!==pa||e[140]!==H||e[141]!==R||e[142]!==D.customEmoji||e[143]!==D.hasPersistentMenu||e[144]!==D.threadKey||e[145]!==D.threadType?(n=j.jsx(c("MWComposerEndButtonsGroup.react"),{customEmoji:D.customEmoji,disabled:R,editor:p,hasPersistentMenu:D.hasPersistentMenu,hasStuffToSend:r,isVoiceRecorderOpen:J,onSendMessage:z,sendMessage:pa,shouldHideHotLike:H,shouldHideTooltip:A,showCommands:V,threadKey:D.threadKey,threadType:D.threadType}),e[133]=p,e[134]=V,e[135]=r,e[136]=A,e[137]=J,e[138]=z,e[139]=pa,e[140]=H,e[141]=R,e[142]=D.customEmoji,e[143]=D.hasPersistentMenu,e[144]=D.threadKey,e[145]=D.threadType,e[146]=n):n=e[146];e[147]!==$||e[148]!==l||e[149]!==w||e[150]!==n?(U=j.jsxs("div",babelHelpers["extends"]({"aria-label":Y},Z,{"data-testid":void 0,role:"group",children:[$,l,w,n]})),e[147]=$,e[148]=l,e[149]=w,e[150]=n,e[151]=U):U=e[151];return U}function ja(a){return!a.isOpenPersistentMenu}function ka(a){c("FBLogger")("messenger_web_media").catching(a).warn("Failed to send voice clip in messenger composer ");return(h||(h=b("Promise"))).reject(a)}g.MWV2ComposerView=a}),226);
__d("useMWMediaManagerUploadFailedToast",["mwPushToast","react"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){return i}function i(a,b){d("mwPushToast").mwPushErrorToast({body:b,title:a})}g["default"]=a}),98);
__d("useMWMediaManager",["MWMediaManager","MWMediaManagerFileSizeLimit","justknobx","react-compiler-runtime","useMWMediaManagerUploadFailedToast"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(5),e=a.onUploadFailure;a=a.thread;var f=c("useMWMediaManagerUploadFailedToast")(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=c("justknobx")._("2538"),b[0]=g):g=b[0];g=g;b[1]!==e||b[2]!==f||b[3]!==a?(g={getMaxAttachmentSizeInMB:h,maxNumberOfAttachments:g,onUploadFailure:e,showUploadFailureToast:f,thread:a},b[1]=e,b[2]=f,b[3]=a,b[4]=g):g=b[4];return d("MWMediaManager").useMediaManager(g)}function h(a,b){return d("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB(b)}g["default"]=a}),98);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","LSTypingIndicatorSettingState","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","asyncToGeneratorRuntime","mwCMIsAnyCMThread","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(1))&&!(j||(j=d("I64"))).equal(e,g)){e=(yield (i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads,["typingIndicatorDisabled"]).getKeyRange(e)),d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(e),d("ReQL").fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(a){var b=a[0];a[1];return!(j||(j=d("I64"))).equal(b.contactId,g)}))]));a=e[0];e=e[1];a=a==null?void 0:a.typingIndicatorDisabled;a=a!=null?(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSTypingIndicatorSettingState").DISABLED),a):!1;return e!=null&&!a}else return!c("mwCMIsAnyCMThread")(f)});return m.apply(this,arguments)}function a(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),i=c("MessengerWebUXLogger").useInteractionLogger(),m,n;b[0]!==g||b[1]!==e||b[2]!==i||b[3]!==a.authorityLevel||b[4]!==a.threadKey||b[5]!==a.threadType?(m=function(b){if(!(j||(j=d("I64"))).ge(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;c("promiseDone")(l(e,a.threadKey,a.threadType,g).then(function(g){if(g){i==null?void 0:i({eventName:"send_typing_indicators",threadKey:a.threadKey,threadType:a.threadType});return e.runInTransaction(function(e){return c("LSSendTypingIndicatorStoredProcedure")(c("LSFactory")(e),{isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(a.threadType),isTyping:b,threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":134")}}))},n=[a.authorityLevel,a.threadKey,a.threadType,e,g,i],b[0]=g,b[1]=e,b[2]=i,b[3]=a.authorityLevel,b[4]=a.threadKey,b[5]=a.threadType,b[6]=m,b[7]=n):(m=b[6],n=b[7]);return d("Int64Hooks").useCallbackInt64(m,n)}g["default"]=a}),98);
__d("useMWOnTypingStateChanged",["MWChatViewerChatVisibilityHook","react","useOnTypingStateChanged"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i=function(a){return void 0};function a(a){a=c("useOnTypingStateChanged")(a);var b=d("MWChatViewerChatVisibilityHook").useViewerChatVisibility();b=b?a:i;return b}g["default"]=a}),98);
__d("MWV2OpenComposer.react",["LSMessagingThreadTypeUtil","MWPReplyContext.react","MWPUseVoiceRecorder","MWV2ComposerEditContainer.react","MWV2ComposerReplyView.react","MWV2ComposerView.react","MessengerMSplitFlag","WebUXLoggingSurfaceContextProvider","emptyFunction","gkx","react","react-compiler-runtime","requireDeferred","useMAWEditMessageData","useMWMediaManager","useMWOnTypingStateChanged","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=c("requireDeferred")("MWChatAudioLog").__setRef("MWV2OpenComposer.react"),l=c("gkx")("23426");function m(){k.onReady(function(a){return a.logClickStartRecording()})}function n(){k.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var b=d("react-compiler-runtime").c(37),e=a.afterSendMessage,f=a.isPreviewThread;a=a.thread;e=e===void 0?c("emptyFunction"):e;var g=j(d("MWPReplyContext.react").MWPReplyContext);g=g.reply;var h=c("useMAWEditMessageData")(),k;b[0]!==a?(k={thread:a},b[0]=a,b[1]=k):k=b[1];k=c("useMWMediaManager")(k);var o=k.handleFileRemove,p=k.handleFileSelect,q=k.mediaStaging;k=k.onHdMediaToggled;var r;b[2]!==e||b[3]!==a?(r={afterSendMessage:e,skipUrlPreviewGen:!1,thread:a},b[2]=e,b[3]=a,b[4]=r):r=b[4];e=c("useMWV2OnSendOpenMessage")(r);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(r={logBrowserDenyAccess:n,logClickStartRecording:m,maxDuration:void 0},b[5]=r):r=b[5];r=d("MWPUseVoiceRecorder").useVoiceRecorder(r);var s=c("useMWOnTypingStateChanged")(a);c("useMWV2FileDropzoneRegisterHandler")(p);var t;b[6]!==a?(t=d("LSMessagingThreadTypeUtil").isAiBotSummoning(a),b[6]=a,b[7]=t):t=b[7];t=t;var u;b[8]!==f||b[9]!==q||b[10]!==e||b[11]!==s||b[12]!==a.threadKey?(u={composerEntrypointForLogging:"MWV2OpenComposer",isPreviewThread:f,mediaStaging:q,onSendMessage:e,onTypingStateChanged:s,threadKey:a.threadKey},b[8]=f,b[9]=q,b[10]=e,b[11]=s,b[12]=a.threadKey,b[13]=u):u=b[13];f=c("useMWPComposerEditor")(u);s=f.editor;u=f.editorElementRef;var v=f.hasStuffToSend;f=f.sendMessage;var w;b[14]!==g||b[15]!==a?(w=g!=null?i.jsx(d("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:g.messageId,messageThreadKey:g.threadKey,messageTimestamp:g.timestampMs,thread:a}):null,b[14]=g,b[15]=a,b[16]=w):w=b[16];b[17]!==h?(g=h!=null&&i.jsx(c("MWV2ComposerEditContainer.react"),{editMessageData:h}),b[17]=h,b[18]=g):g=b[18];var x;b[19]!==h||b[20]!==s||b[21]!==u||b[22]!==v||b[23]!==t||b[24]!==q||b[25]!==o||b[26]!==p||b[27]!==k||b[28]!==e||b[29]!==f||b[30]!==a||b[31]!==r?(x=h!=null?null:i.jsx(d("MWV2ComposerView.react").MWV2ComposerView,{editor:s,editorElementRef:u,hasStuffToSend:v,isAiBotMentionsEnabled:t&&l&&!c("MessengerMSplitFlag").is_msplit_account,mediaStaging:q,onAttachmentRemoved:o,onAttachmentsAdded:p,onHdMediaToggled:k,onSendMessage:e,policyProduct:"messaging_lightswitch",sendMessage:f,supportedFileTypes:void 0,surface:"mwp_mwv2_composer",thread:a,voiceRecorder:r}),b[19]=h,b[20]=s,b[21]=u,b[22]=v,b[23]=t,b[24]=q,b[25]=o,b[26]=p,b[27]=k,b[28]=e,b[29]=f,b[30]=a,b[31]=r,b[32]=x):x=b[32];b[33]!==w||b[34]!==g||b[35]!==x?(h=i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"open_composer",children:i.jsxs("div",{children:[w,g,x]})}),b[33]=w,b[34]=g,b[35]=x,b[36]=h):h=b[36];return h}g["default"]=a}),98);
__d("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability",["FBLogger","LSContactBitOffset","LSMessagingThreadTypeUtil","MAWDefaultE2eeOneToOneEligibility","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("react-compiler-runtime").c(28),g=(h||(h=c("useReStore")))(),j;e[0]!==g.tables._user_info?(j=function(){return d("ReQL").fromTableAscending(g.tables._user_info).map(i)},e[0]=g.tables._user_info,e[1]=j):j=e[1];var k;e[2]!==g?(k=[g],e[2]=g,e[3]=k):k=e[3];var l=d("ReQLSuspense").useFirst(j,k,f.id+":38");e[4]!==g.tables.contacts||e[5]!==l?(j=function(){return l!=null?d("ReQL").fromTableAscending(g.tables.contacts,d("LSContactBitOffset").contactCapabilityFields).getKeyRange(l):d("ReQL").empty()},e[4]=g.tables.contacts,e[5]=l,e[6]=j):j=e[6];e[7]!==g||e[8]!==l?(k=[g,l],e[7]=g,e[8]=l,e[9]=k):k=e[9];j=d("ReQLSuspense").useFirst(j,k,f.id+":43");k=j!=null&&d("LSContactBitOffset").has(80,j);var m;e[10]!==g.tables.contacts||e[11]!==a||e[12]!==b?(m=function(){return a!=null&&b!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)?d("ReQL").fromTableAscending(g.tables.contacts,[].concat(d("LSContactBitOffset").contactCapabilityFields,["id"])).getKeyRange(a):d("ReQL").empty()},e[10]=g.tables.contacts,e[11]=a,e[12]=b,e[13]=m):m=e[13];var n;e[14]!==g||e[15]!==a||e[16]!==b?(n=[g,a,b],e[14]=g,e[15]=a,e[16]=b,e[17]=n):n=e[17];m=d("ReQLSuspense").useFirst(m,n,f.id+":62");e[18]!==m||e[19]!==a?(n=d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({contactId:a,maybeContact:m}),e[18]=m,e[19]=a,e[20]=n):n=e[20];n=n;if(b==null||!d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)){var o;e[21]===Symbol["for"]("react.memo_cache_sentinel")?(o=[!1,!0,null],e[21]=o):o=e[21];return o}if(j==null){c("FBLogger")("default_e2ee").info("Viewer is null when checking default e2ee thread capability");e[22]===Symbol["for"]("react.memo_cache_sentinel")?(o=[!1,!1,null],e[22]=o):o=e[22];return o}if(!k){n&&c("FBLogger")("default_e2ee").warn("Viewer has no DEFAULT_E2EE_THREADS capability but other participant has DEFAULT_E2EE_THREAD_ONE_TO_ONE");e[23]===Symbol["for"]("react.memo_cache_sentinel")?(j=[!1,!0,null],e[23]=j):j=e[23];return j}if(m==null){e[24]===Symbol["for"]("react.memo_cache_sentinel")?(o=[!1,!1,null],e[24]=o):o=e[24];return o}e[25]!==n||e[26]!==m.id?(k=[n,!0,m.id],e[25]=n,e[26]=m.id,e[27]=k):k=e[27];return k}function i(a){return a.facebookUserId}g["default"]=a}),98);
__d("useIsDefaultE2eeOpenThread",["LSMessagingThreadTypeUtil","react-compiler-runtime","useCometSubscribeMessengerHasDefaultThreadOneToOneCapability"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(3),e=c("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability")(a.threadKey,a.threadType);e=e[0];var f;b[0]!==e||b[1]!==a.threadType?(f=d("LSMessagingThreadTypeUtil").isOpenOneToOne(a.threadType)&&e,b[0]=e,b[1]=a.threadType,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("useMWDefaultE2eeComposerConfiguration",["FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSThreadAttributionStore","lazyLoadComponent","react","react-compiler-runtime","useIsDefaultE2eeOpenThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useEffect,m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDefaultE2eeThreadBlockedComposer.react").__setRef("useMWDefaultE2eeComposerConfiguration"));function a(a){var b=d("react-compiler-runtime").c(6),e=c("useIsDefaultE2eeOpenThread")(a),f,g;b[0]!==e||b[1]!==a.threadKey?(f=function(){if(e){var b=d("LSThreadAttributionStore").getSource(void 0,(i||(i=d("I64"))).to_string(a.threadKey));b=b.type==="MWLSEntrypoint"?b.value:(j||(j=d("LSIntEnum"))).toNumber(b.value);c("FBLogger")("maw_default_e2ee_composer_block").info("Default e2ee composer block showing up from non-meteora with entrypoint %s",b)}},g=[a.threadKey,e],b[0]=e,b[1]=a.threadKey,b[2]=f,b[3]=g):(f=b[2],g=b[3]);l(f,g);if(e){b[4]!==a?(f=k.jsx(m,{thread:a}),b[4]=a,b[5]=f):f=b[5];return f}}g["default"]=a}),98);
__d("MWPComposerPlaceholder.react",["CometPlaceholder.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(3);a=a.height;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x1exxf4d x13fuv20 x178xt8z",b[0]=c):c=b[0];a=a.toString()+"px";b[1]!==a?(c=i.jsx("div",{className:c,style:{height:a}}),b[1]=a,b[2]=c):c=b[2];return c}function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.height;var f;b[0]!==a?(f=i.jsx(j,{height:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==e||b[3]!==f?(a=i.jsx(c("CometPlaceholder.react"),{fallback:f,name:"MWPComposerPlaceholder",children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useMWPAdultMinorRestrictionLogging",["I64","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MwbActorExperienceEventFalcoEvent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useEffect;function l(a){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),c=d("LSMessagingThreadTypeUtil").isOneToOne(a);a=d("LSMessagingThreadTypeUtil").isGroup(a);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";return a?b?"messenger_encrypted_group_thread":"messenger_group_thread_details":"unknown"}function m(a){switch(a){case c("LSContactReachabilityStatusType").UNREACHABLE_USER_TYPE:return 12;case c("LSContactReachabilityStatusType").UNREACHABLE_ADULT_TYPE:return 21;default:return 0}}var n=function(a){return a?(i||(i=d("LSIntEnum"))).toNumber(a):c("LSContactReachabilityStatusType").REACHABLE};function a(a,b){var e=d("react-compiler-runtime").c(11),f;e[0]!==b?(f=n(b),e[0]=b,e[1]=f):f=e[1];var g=f;e[2]!==a?(b=l(a),e[2]=a,e[3]=b):b=e[3];var h=b;e[4]!==a?(f=(j||(j=d("I64"))).to_string(a),e[4]=a,e[5]=f):f=e[5];var i=f;e[6]!==h||e[7]!==g||e[8]!==i?(b=function(){g!==c("LSContactReachabilityStatusType").REACHABLE&&g!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&g!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY&&c("MwbActorExperienceEventFalcoEvent").log(function(){return{action:1,restriction_type:m(g),surface:h,thread_id:i}})},a=[i,g,h],e[6]=h,e[7]=g,e[8]=i,e[9]=b,e[10]=a):(b=e[9],a=e[10]);k(b,a)}g["default"]=a}),98);
__d("useMWPBlockedComposerConfiguration",["fbt","I64","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSContactUtils","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWGetLSThreadReportingTokenFromThread","MWPActor.react","MWPComposerPlaceholder.react","MWXLink.react","ReQL","ReQLSuspense","lazyLoadComponent","react","useMWPAdultMinorRestrictionLogging","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n="https://www.facebook.com/help/messenger-app/2258699540867663/?helpref=uf_share",o=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPReQLBlockedComposer.react").__setRef("useMWPBlockedComposerConfiguration"));function a(a,b){var e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),l=(j||(j=d("I64"))).equal(g,a.threadKey),p=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a[0];a=a[1];return l||!(j||(j=d("I64"))).equal(a.id,g)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[e,a.threadKey,a.threadType,g,l],f.id+":50"),q=d("LSContactUtils").getUserReachability(p);c("useMWPAdultMinorRestrictionLogging")(a.threadKey,p==null?void 0:p.contactReachabilityStatusType);if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&p!=null){var r=c("MWGetLSThreadReportingTokenFromThread")(a),s=!(j||(j=d("I64"))).equal(p.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(q!==c("LSContactReachabilityStatusType").REACHABLE&&q!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&q!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY){var t,u=h._(/*BTDS*/"__JHASH__6xAG31n9hza__JHASH__");q===c("LSContactReachabilityStatusType").UNREACHABLE_INVITE_BLOCK?(t=h._(/*BTDS*/"__JHASH__JkBfzTduzvJ__JHASH__"),u=h._(/*BTDS*/"__JHASH__uoHFfFcMxzY__JHASH__",[h._param("learn_more_link",m.jsx(c("MWXLink.react"),{href:n,target:"_blank",children:"Learn more"}))])):q===c("LSContactReachabilityStatusType").UNREACHABLE_MR_LIMIT_BLOCK&&(t=h._(/*BTDS*/"__JHASH__rXNZmFzbPda__JHASH__"),u=h._(/*BTDS*/"__JHASH__P-AUqVlI57w__JHASH__"));return m.jsx(c("MWPComposerPlaceholder.react"),{height:35,children:m.jsx(o,{fbid:(j||(j=d("I64"))).to_string(p.id),isReachable:!1,reason:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_UNREACHABLE,reportingToken:void 0,thread:a,unreachableHeader:t,unreachableTitle:u})})}if(s)return m.jsx(c("MWPComposerPlaceholder.react"),{height:189,children:m.jsx(o,{buttonsOverride:b,fbid:(j||(j=d("I64"))).to_string(p.id),reason:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED,reportingToken:r,thread:a})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconDragHandle",["MWXSvgIcon","SVGIcon","cr:12401","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12401")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWV2DisabledPageComposerSendMenuItem",["LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MessagePowerUp","promiseDone","react","react-compiler-runtime","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=c("useLSMessagingSource")(),j;a[0]!==e||a[1]!==g||a[2]!==b?(j=function(a,h,j){c("promiseDone")(b.runInTransaction(function(b){var f=d("LSThreadAttributionTypeUtil").getSource(a,g);return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(b),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:j,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:i.ofNumber(c("LSMessageReplySourceType").MESSAGE),reply_source_type_v2:i.ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),snippet_has_emoji:!1,source:f}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:e,snippet:h,text:h,threadKey:a,threadType:i.ofNumber(1)})},"readwrite",void 0,void 0,f.id+":41"))},a[0]=e,a[1]=g,a[2]=b,a[3]=j):j=a[3];return j}g["default"]=a}),98);
__d("MWV2DisabledPageComposer.react",["fbt","JSResourceForInteraction","MWBlockedComposerLogging","MWXButton.react","MWXIconDragHandle","MWXLazyPopoverTrigger.react","react","react-compiler-runtime","useMWV2DisabledPageComposerSendMenuItem"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2DisabledPageComposer.react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.threadKey;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(e,d("MWBlockedComposerLogging").ComposerBlockingReason.PAGE_THREAD_DISABLED);var f=c("useMWV2DisabledPageComposerSendMenuItem")();b[0]!==f||b[1]!==e?(a=function(a){var b=a.title;a=a.id;if(a!=null)return f(e,b,a)},b[0]=f,b[1]=e,b[2]=a):a=b[2];a=a;var g;b[3]!==a?(g=j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:{onClose:m,onSelect:a},popoverResource:k,children:l}),b[3]=a,b[4]=g):g=b[4];return g}function l(a,b){return j.jsx("div",babelHelpers["extends"]({className:"x78zum5 xu06os2 xvijh9v xz9dl7a xn6708d xsag5q8 x1ye3gou"},{ref:a,children:j.jsx(c("MWXButton.react"),{icon:c("MWXIconDragHandle"),label:h._(/*BTDS*/"__JHASH__pzPWkkyVYqg__JHASH__"),onPress:b,reduceEmphasis:!0})}))}l.displayName=l.name+" [from "+f.id+"]";function m(){}g["default"]=a}),226);
__d("useMWPDisablePageComposerConfiguration",["MWV2DisabledPageComposer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);if(a.disableComposerInput&&a.hasPersistentMenu){var e;b[0]!==a.threadKey?(e=i.jsx(c("MWV2DisabledPageComposer.react"),{threadKey:a.threadKey}),b[0]=a.threadKey,b[1]=e):e=b[1];return e}}g["default"]=a}),98);
__d("MWPFeatureLimitLoggingUtils",["I64","Int64Hooks","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MwbActorExperienceEventFalcoEvent").__setRef("MWPFeatureLimitLoggingUtils");function a(a,b,c){var e=d("react-compiler-runtime").c(7),f;e[0]!==c?(f=k(c),e[0]=c,e[1]=f):f=e[1];var g=f;e[2]!==a||e[3]!==g||e[4]!==b?(c=function(){var c;l({action:1,restriction_type:a,surface:g,thread_id:(h||(h=d("I64"))).to_string((c=b)!=null?c:(h||(h=d("I64"))).zero)})},f=[b,a,g],e[2]=a,e[3]=g,e[4]=b,e[5]=c,e[6]=f):(c=e[5],f=e[6]);return d("Int64Hooks").useCallbackInt64(c,f)}function b(a,b,c){var e=d("react-compiler-runtime").c(7),f;e[0]!==c?(f=k(c),e[0]=c,e[1]=f):f=e[1];var g=f;e[2]!==a||e[3]!==g||e[4]!==b?(c=function(){var c;l({action:2,restriction_type:a,surface:g,thread_id:(h||(h=d("I64"))).to_string((c=b)!=null?c:(h||(h=d("I64"))).zero)})},f=[b,a,g],e[2]=a,e[3]=g,e[4]=b,e[5]=c,e[6]=f):(c=e[5],f=e[6]);return d("Int64Hooks").useCallbackInt64(c,f)}function e(a){if(a)if((h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PRIVATE)))return 40;else if((h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC)))return 39;else return 6;return 0}function k(a){if(a){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),c=d("LSMessagingThreadTypeUtil").isOneToOne(a);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";c=d("LSMessagingThreadTypeUtil").isGroup(a);a=d("LSMessagingThreadTypeUtil").isPublicCMThread(a);if(c)return b?"messenger_encrypted_group_thread":a?"messenger_public_cm_chat":"messenger_group_thread_details"}return"unknown"}function l(a){var b=a.action,c=a.restriction_type,d=a.surface,e=a.thread_id;j.onReady(function(a){return a.log(function(){return{action:b,restriction_type:c,surface:d,thread_id:e}})})}g.useLogFeatureLimitComposerImpression=a;g.useLogViewCommunityStandards=b;g.getRestrictionTypeFromFeatureLimit=e}),98);
__d("useMWCMFetchSafetyInterventions",["I64","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(6),e=a===void 0?"prompt":a,g=(i||(i=c("useReStore")))(),l=d("MWPActor.react").useActor(),m=e==="composer_block",n=k,o;b[0]!==l||b[1]!==g.tables.mwb_safety_interventions||b[2]!==m||b[3]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.mwb_safety_interventions).filter(function(a){var b=a.logOnlySafetyInterventionType,c=a.mutImpressionsCount,f=a.userId;return a.uiType===e&&n(b)&&f===(h||(h=d("I64"))).to_string(l)&&(m||(h||(h=d("I64"))).equal(c,(h||(h=d("I64"))).zero))}).map(j)},o=[g.tables.mwb_safety_interventions,e,l,m],b[0]=l,b[1]=g.tables.mwb_safety_interventions,b[2]=m,b[3]=e,b[4]=a,b[5]=o):(a=b[4],o=b[5]);b=d("ReQLSuspense").useArray(a,o,f.id+":35");return b}function j(a){return(h||(h=d("I64"))).to_string(a.interventionId)}function k(a){return a==="education_notice_cm"||a==="education_notice_cm_unbatched"}g["default"]=a}),98);
__d("useMWPFeatureLimitComposerBlockHeaderText",["fbt","I64","react-compiler-runtime","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=60*60*1e3,k=24*j,l=23*j,m=1e3;function a(a,b){var e=d("react-compiler-runtime").c(7),f=c("useServerTime")().valueOf();a=a!=null?(i||(i=d("I64"))).to_float(a.expirationTimestampSeconds)*1e3:f;a=a-f;if(a<=l){f=Math.ceil(Math.max(a,j)/j);var g;e[0]!==b||e[1]!==f?(g=b?h._(/*BTDS*/"__JHASH__MtDrzd4mllU__JHASH__",[h._plural(f,"number")]):h._(/*BTDS*/"__JHASH__Oh7AJclyvOB__JHASH__",[h._plural(f,"number")]),e[0]=b,e[1]=f,e[2]=g):g=e[2];return g}else{f=Math.ceil(Math.max(a,k)/k);if(f>=m){e[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"__JHASH__XJkVHKZY5be__JHASH__"),e[3]=g):g=e[3];return g}e[4]!==b||e[5]!==f?(a=b?h._(/*BTDS*/"__JHASH__DoFdcIuVM_E__JHASH__",[h._plural(f,"number")]):h._(/*BTDS*/"__JHASH__RWH0KbM4haJ__JHASH__",[h._plural(f,"number")]),e[4]=b,e[5]=f,e[6]=a):a=e[6];return a}}g["default"]=a}),226);
__d("MWPFeatureLimitsBlockedComposer.react",["fbt","I64","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWCMContentTakedownEnforcementNoticeDialog.entrypoint","MWCMThreadTypes.react","MWPActor.react","MWPFeatureLimitLoggingUtils","MWPFeatureLimitedData","MWXComposerBanner.react","react","react-compiler-runtime","useMWCMFetchSafetyInterventions","useMWPFeatureLimitComposerBlockHeaderText","useMWXEntryPointDialog","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a){var b=d("react-compiler-runtime").c(35);a=a.thread;var e=c("useMWCMFetchSafetyInterventions")("composer_block"),f;b[0]!==a.threadType?(f=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType),b[0]=a.threadType,b[1]=f):f=b[1];f=f;var g;b[2]!==a.threadType?(g=d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType),b[2]=a.threadType,b[3]=g):g=b[3];g=g;g=(g||f)&&e.length>0;b[4]!==e?(f={interventions_ids:e},b[4]=e,b[5]=f):f=b[5];f=c("useMWXEntryPointDialog")(c("MWCMContentTakedownEnforcementNoticeDialog.entrypoint"),f);var i=f[0];d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a==null?void 0:a.threadKey,d("MWBlockedComposerLogging").ComposerBlockingReason.FEATURE_LIMITED_TO_READONLY);f=d("MWPFeatureLimitedData").useReadOnlyFeatureLimitDataWithThreadType(a==null?void 0:a.threadType);var n;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(n=d("MWPActor.react").isAPPlus(),b[6]=n):n=b[6];n=n;b[7]!==f?(n=f!=null&&(j||(j=d("I64"))).equal(f.type_,(k||(k=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC))&&n,b[7]=f,b[8]=n):n=b[8];n=n;var o=c("useMWPFeatureLimitComposerBlockHeaderText")(f,n),p;b[9]!==f?(p=d("MWPFeatureLimitLoggingUtils").getRestrictionTypeFromFeatureLimit(f),b[9]=f,b[10]=p):p=b[10];f=p;p=d("MWPFeatureLimitLoggingUtils").useLogFeatureLimitComposerImpression(f,a==null?void 0:a.threadKey,a==null?void 0:a.threadType);f=d("MWPFeatureLimitLoggingUtils").useLogViewCommunityStandards(f,a==null?void 0:a.threadKey,a==null?void 0:a.threadType);b[11]!==p?(a={onImpressionStart:p},b[11]=p,b[12]=a):a=b[12];p=c("useSinglePartialViewImpression")(a);b[13]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__7_EenTF_FJG__JHASH__"),b[13]=a):a=b[13];a=a;var q;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__phCVAIUGUlz__JHASH__"),b[14]=q):q=b[14];q=q;var r;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(r={target:"_blank",url:"https://www.facebook.com/communitystandards/"},b[15]=r):r=b[15];r=r;var s;b[16]!==g||b[17]!==n?(s=n||g?h._(/*BTDS*/"__JHASH__9oilSt_qVYo__JHASH__"):h._(/*BTDS*/"__JHASH___Q1doHhXtgm__JHASH__"),b[16]=g,b[17]=n,b[18]=s):s=b[18];s=s;n=n?q:a;q=g?void 0:r;b[19]!==g||b[20]!==e||b[21]!==f||b[22]!==i?(a=g?function(){i({interventionsIds:e},m)}:f,b[19]=g,b[20]=e,b[21]=f,b[22]=i,b[23]=a):a=b[23];b[24]!==s||b[25]!==q||b[26]!==a?(r=[{label:s,linkProps:q,onPress:a}],b[24]=s,b[25]=q,b[26]=a,b[27]=r):r=b[27];b[28]!==o||b[29]!==n||b[30]!==r?(g=l.jsx(c("MWXComposerBanner.react"),{bodyText:n,buttons:r,headerText:o}),b[28]=o,b[29]=n,b[30]=r,b[31]=g):g=b[31];b[32]!==p||b[33]!==g?(f=l.jsx("div",{ref:p,children:g}),b[32]=p,b[33]=g,b[34]=f):f=b[34];return f}function m(){}g["default"]=a}),226);
__d("useMWPFeatureLimitsBlockedComposerConfiguration",["MWPFeatureLimitsBlockedComposer.react","isFeatureLimitEnabled","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b,e){var f=d("react-compiler-runtime").c(2);b=b&&(!a||c("isFeatureLimitEnabled")());if(b){f[0]!==e?(a=i.jsx(c("MWPFeatureLimitsBlockedComposer.react"),{thread:e}),f[0]=e,f[1]=a):a=f[1];return a}}g["default"]=a}),98);
__d("useMWPReQLFeatureLimitsBlockedComposerConfiguration",["LSMessagingThreadTypeUtil","react","react-compiler-runtime","useIsReadOnlyFeatureLimitedWithThreadType","useMWPFeatureLimitsBlockedComposerConfiguration"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a.threadType?(e=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),b[0]=a.threadType,b[1]=e):e=b[1];b=e;e=c("useIsReadOnlyFeatureLimitedWithThreadType")(a.threadType);return c("useMWPFeatureLimitsBlockedComposerConfiguration")(b,e,a)}g["default"]=a}),98);
__d("useMWPNullComposerConfiguration",["I64","LSNullstateCTAType","MWBlockedComposerLogging","MWPreloadedText","justknobx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useContext;function l(a){var b=a.reason;a=a.threadKey;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,b);return null}function a(a,b,e,f){var g=d("react-compiler-runtime").c(3),h=k(c("MWPreloadedText"));f=f!=null&&(i||(i=d("I64"))).equal(f,(i||(i=d("I64"))).of_float(c("LSNullstateCTAType").GET_STARTED))&&!h.text;h=!(i||(i=d("I64"))).equal(b,i.zero);b=c("justknobx")._("926");if(f&&!h||!b&&e){f=e?d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GAME_BOT:d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GET_STARTED_CTA;g[0]!==f||g[1]!==a?(h=j.jsx(l,{reason:f,threadKey:a}),g[0]=f,g[1]=a,g[2]=h):h=g[2];return h}}g["default"]=a}),98);
__d("useMWPReQLNullComposerConfiguration",["LSThreadBitOffset","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWPNullComposerConfiguration","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.thread_nullstate||b[1]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.thread_nullstate).getKeyRange(a.threadKey)},b[0]=e.tables.thread_nullstate,b[1]=a.threadKey,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a.threadKey?(i=[e,a.threadKey],b[3]=e,b[4]=a.threadKey,b[5]=i):i=b[5];g=d("ReQLSuspense").useFirst(g,i,f.id+":27");b[6]!==a?(i=d("LSThreadBitOffset").has(44,a),b[6]=a,b[7]=i):i=b[7];b=i;return c("useMWPNullComposerConfiguration")(a.threadKey,a.lastActivityTimestampMs,b,g==null?void 0:g.ctaType)}g["default"]=a}),98);
__d("MWXComposerGlimmer.react",["MWXColumn.react","MWXColumnItem.react","MWXGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={block:{paddingBottom:"x1l90r2v",$$css:!0},container:{alignSelf:"xkh2ocl",backgroundColor:"x57kliw",borderTopColor:"x1epquy7",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},glimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"xh8yej3",$$css:!0}};b=i.forwardRef(a);function a(a,b){a=d("react-compiler-runtime").c(4);var e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[j.container,j.block],a[0]=e):e=a[0];var f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmer})}),a[1]=f):f=a[1];a[2]!==b?(e=i.jsx(c("MWXColumn.react"),{paddingHorizontal:16,paddingVertical:16,ref:b,spacing:20,xstyle:e,children:f}),a[2]=b,a[3]=e):e=a[3];return e}e=b;g["default"]=e}),98);
__d("getMWPUnavailableComposerConfiguration",["I64","LSAuthorityLevel","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWChatUnavailableComposer.react","MWXComposerGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a,b,e){if(d("LSMessagingThreadTypeUtil").isOneToOne(b)&&e!=null){b=!e.isPage&&(!e.hasMessageCapability||!e.hasReplyMessageCapability);if(e.blockedSinceTimestampMs==null&&b)return(i||(i=d("I64"))).lt(e.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))?j.jsx(c("MWXComposerGlimmer.react"),{}):j.jsx(c("MWChatUnavailableComposer.react"),{reason:e.hasMessageCapability?d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_REPLY:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_MESSAGE,thread:{threadKey:a}})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPReQLUnavailableComposerConfiguration",["I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","getMWPUnavailableComposerConfiguration","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;k||d("react");function a(a){var b=d("react-compiler-runtime").c(16),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),k;b[0]!==g||b[1]!==a.threadKey?(k=(i||(i=d("I64"))).equal(g,a.threadKey),b[0]=g,b[1]=a.threadKey,b[2]=k):k=b[2];var m=k,n;b[3]!==g||b[4]!==e||b[5]!==m||b[6]!==a.threadKey||b[7]!==a.threadType?(k=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a=a[1];return m||!(i||(i=d("I64"))).equal(a.id,g)}).map(l):d("ReQL").empty()},n=[e,a.threadKey,a.threadType,g,m],b[3]=g,b[4]=e,b[5]=m,b[6]=a.threadKey,b[7]=a.threadType,b[8]=k,b[9]=n):(k=b[8],n=b[9]);k=d("ReQLSuspense").useFirst(k,n,f.id+":33");if(k==null)return;n=k==null?void 0:k.authorityLevel;var o=k==null?void 0:k.blockedSinceTimestampMs,p;b[10]!==k||b[11]!==n||b[12]!==o||b[13]!==a.threadKey||b[14]!==a.threadType?(p=c("getMWPUnavailableComposerConfiguration")(a.threadKey,a.threadType,{authorityLevel:n,blockedSinceTimestampMs:o,hasMessageCapability:d("LSContactBitOffset").has(0,k),hasReplyMessageCapability:d("LSContactBitOffset").has(1,k),isPage:(i||(i=d("I64"))).equal(k.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))}),b[10]=k,b[11]=n,b[12]=o,b[13]=a.threadKey,b[14]=a.threadType,b[15]=p):p=b[15];return p}function l(a){a=a[1];return a}g["default"]=a}),98);
__d("useMWPShouldShowRestrictedComposer",["LSMessagingThreadTypeUtil","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==b||c[1]!==a?(e=d("LSMessagingThreadTypeUtil").isOneToOne(a)&&b,c[0]=b,c[1]=a,c[2]=e):e=c[2];return e}g["default"]=a}),98);
__d("useMWPRestrictedComposerConfiguration",["I64","JSResourceForInteraction","LSContactBitOffset","MWPComposerPlaceholder.react","lazyLoadComponent","react","react-compiler-runtime","useMWGetOtherUserContact","useMWIsContactRestricted","useMWPShouldShowRestrictedComposer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPReQLRestrictedComposer.react").__setRef("useMWPRestrictedComposerConfiguration"));function a(a){var b=d("react-compiler-runtime").c(7),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=["id"].concat(d("LSContactBitOffset").contactCapabilityFields),b[0]=e):e=b[0];e=c("useMWGetOtherUserContact")(a.threadKey,a.threadType,e);var f=c("useMWIsContactRestricted")(e);f=c("useMWPShouldShowRestrictedComposer")(a.threadType,f);if(f&&e!=null){b[1]!==e.id?(f=(i||(i=d("I64"))).to_string(e.id),b[1]=e.id,b[2]=f):f=b[2];b[3]!==f||b[4]!==a.threadKey||b[5]!==a.threadType?(e=j.jsx(c("MWPComposerPlaceholder.react"),{height:128,children:j.jsx(k,{fbid:f,threadKey:a.threadKey,threadType:a.threadType})}),b[3]=f,b[4]=a.threadKey,b[5]=a.threadType,b[6]=e):e=b[6];return e}}g["default"]=a}),98);
__d("useMWCutoverComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","cr:13127","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),l=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWOnDemandCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDualThreadCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration"));function a(a,c,e,f,g,h){var n=d("react-compiler-runtime").c(15),o=j(!1),p=o[0];o=o[1];var q=b("cr:13127")(a);if((h||g||q||p)&&(!d("LSMessagingThreadTypeUtil").isOneToOne(c)||e!=null))if(f){n[0]!==a?(h={threadKey:a},n[0]=a,n[1]=h):h=n[1];n[2]!==e||n[3]!==h?(g=i.jsx(m,{otherUser:e,thread:h}),n[2]=e,n[3]=h,n[4]=g):g=n[4];return g}else if(q||p){n[5]!==a?(c={threadKey:a},n[5]=a,n[6]=c):c=n[6];n[7]!==p||n[8]!==c?(f=i.jsx(l,{isODCutoverNavigationInProgress:p,reason:d("MWBlockedComposerLogging").ComposerBlockingReason.ON_DEMAND_CUTOVER,setIsODCutoverNavigationInProgress:o,thread:c}),n[7]=p,n[8]=c,n[9]=f):f=n[9];return f}else{h=e!=null?d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_THREAD_ALREADY_CUTOVER:d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_GROUP_THREAD_CUTOVER;n[10]!==a?(g={threadKey:a},n[10]=a,n[11]=g):g=n[11];n[12]!==h||n[13]!==g?(q=i.jsx(k,{reason:h,thread:g}),n[12]=h,n[13]=g,n[14]=q):q=n[14];return q}}g["default"]=a}),98);
__d("useMWReQLCutoverComposerConfiguration",["LSContactBitOffset","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWCutoverComposerConfiguration","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.contacts||b[1]!==a.threadKey||b[2]!==a.threadType?(g=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(a.threadKey):d("ReQL").empty()},b[0]=e.tables.contacts,b[1]=a.threadKey,b[2]=a.threadType,b[3]=g):g=b[3];var i;b[4]!==e||b[5]!==a?(i=[e,a],b[4]=e,b[5]=a,b[6]=i):i=b[6];g=d("ReQLSuspense").useFirst(g,i,f.id+":33");i=((i=(i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.messages_ranges_v2__generated).getKeyRange(a.threadKey)},[e,a.threadKey],f.id+":44"))==null?void 0:i.minMessageId)!=null?i:"")==="";var j;b[7]!==g?(j=g!=null&&d("LSContactBitOffset").has(76,g),b[7]=g,b[8]=j):j=b[8];b=j;j=b&&i;b=d("MAWThreadCutover").useIsCutoverOpenThread(a.threadKey)||d("LSThreadBitOffset").has(128,a);i=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(a.threadKey);return c("useMWCutoverComposerConfiguration")(a.threadKey,a.threadType,g,i,b,j)}g["default"]=a}),98);
__d("MWComposerGating.react",["LSMessagingThreadTypeUtil","MWPComposerGating.react","MWV2OpenComposer.react","cr:9773","emptyFunction","react","react-compiler-runtime","useMAWEditMessageData","useMWDefaultE2eeComposerConfiguration","useMWPBlockedComposerConfiguration","useMWPDisablePageComposerConfiguration","useMWPReQLFeatureLimitsBlockedComposerConfiguration","useMWPReQLNullComposerConfiguration","useMWPReQLUnavailableComposerConfiguration","useMWPRestrictedComposerConfiguration","useMWReQLCutoverComposerConfiguration"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.memo;function k(a){var b=d("react-compiler-runtime").c(9),e=c("useMWPReQLNullComposerConfiguration")(a),f=c("useMWPDisablePageComposerConfiguration")(a),g=c("useMWPReQLFeatureLimitsBlockedComposerConfiguration")(a),h=c("useMWReQLCutoverComposerConfiguration")(a),i=c("useMWPBlockedComposerConfiguration")(a),j=c("useMWPRestrictedComposerConfiguration")(a),k=c("useMWPReQLUnavailableComposerConfiguration")(a);a=c("useMWDefaultE2eeComposerConfiguration")(a);var l;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==i||b[5]!==j||b[6]!==k||b[7]!==a?(l=[e,f,g,h,i,j,k,a],b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=i,b[5]=j,b[6]=k,b[7]=a,b[8]=l):l=b[8];return l}function a(a){var e=d("react-compiler-runtime").c(8),f=a.afterSendMessage,g=a.isPreviewThread;a=a.thread;var h=c("useMAWEditMessageData")();h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(h!=null?h.threadType:a.threadType);if(b("cr:9773")!=null&&h){e[0]!==f||e[1]!==g||e[2]!==a?(h=i.jsx(b("cr:9773"),{afterSendMessage:f,isPreviewThread:g,thread:a}),e[0]=f,e[1]=g,e[2]=a,e[3]=h):h=e[3];return h}else{e[4]!==f||e[5]!==g||e[6]!==a?(h=i.jsx(c("MWV2OpenComposer.react"),{afterSendMessage:f,isPreviewThread:g,thread:a}),e[4]=f,e[5]=g,e[6]=a,e[7]=h):h=e[7];return h}}var l=j(a);function e(a){var b=d("react-compiler-runtime").c(8),e=a.afterSendMessage,f=a.isPreviewThread,g=a.thread,h=e===void 0?c("emptyFunction"):e;a=k(g);b[0]!==h||b[1]!==f||b[2]!==g?(e=function(){return i.jsx(l,{afterSendMessage:h,isPreviewThread:f,thread:g})},b[0]=h,b[1]=f,b[2]=g,b[3]=e):e=b[3];var j;b[4]!==a||b[5]!==e||b[6]!==g?(j=i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!1,renderComposer:e,thread:g}),b[4]=a,b[5]=e,b[6]=g,b[7]=j):j=b[7];return j}function f(a){var b=d("react-compiler-runtime").c(8),e=a.afterSendMessage,f=a.isPreviewThread,g=a.thread;a=k(g);var h;b[0]!==e||b[1]!==f||b[2]!==g?(h=function(){return i.jsx(l,{afterSendMessage:e,isPreviewThread:f,thread:g})},b[0]=e,b[1]=f,b[2]=g,b[3]=h):h=b[3];var j;b[4]!==a||b[5]!==h||b[6]!==g?(j=i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!0,renderComposer:h,thread:g}),b[4]=a,b[5]=h,b[6]=g,b[7]=j):j=b[7];return j}g.MWChatComposerGating=e;g.MWInboxComposerGating=f}),98);
__d("useMWCMEditChatInfoDialogEntrypoint",["GroupsCometChatEditChatDialog.entrypoint","I64","MWXCardedDialogLoadingState.react","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a,b){var e=d("react-compiler-runtime").c(7),f;e[0]!==a?(f=(i||(i=d("I64"))).to_string(a),e[0]=a,e[1]=f):f=e[1];e[2]!==f?(a={threadID:f},e[2]=f,e[3]=a):a=e[3];f=c("useMWXEntryPointDialog")(c("GroupsCometChatEditChatDialog.entrypoint"),a,void 0,k);var g=f[0];e[4]!==b||e[5]!==g?(a=function(){return g({enableEditNameOrDescription:!0,entryPoint:b})},e[4]=b,e[5]=g,e[6]=a):a=e[6];return a}function k(){return j.jsx(c("MWXCardedDialogLoadingState.react"),{})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWContextBannerQuickActionsEditChatInfo.react",["MWXCircleButton.react","react","react-compiler-runtime","useMWCMEditChatInfoDialogEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.icon,f=a.label;a=a.threadKey;var g=c("useMWCMEditChatInfoDialogEntrypoint")(a);b[0]!==g?(a=function(){return g()},b[0]=g,b[1]=a):a=b[1];var h;b[2]!==e||b[3]!==f||b[4]!==a?(h=i.jsx(c("MWXCircleButton.react"),{icon:e,label:f,onPress:a,size:36}),b[2]=e,b[3]=f,b[4]=a,b[5]=h):h=b[5];return h}g["default"]=a}),98);
__d("MWCopyLinkPublicChatQuickAction.react",["fbt","MWPBumpEntityKey","MWVerticalRhythm","MWXCircleButton.react","MWXIconLink","MWXText.react","cometPushToast","react","react-compiler-runtime","useCopyText"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;var k=h._(/*BTDS*/"__JHASH__6ygymPD56Yw__JHASH__"),l=h._(/*BTDS*/"__JHASH__NNt0oNKP6tq__JHASH__");function a(a){var b=d("react-compiler-runtime").c(11);a=a.threadInviteLink;var e;b[0]!==a?(e={value:a},b[0]=a,b[1]=e):e=b[1];a=c("useCopyText")(e);var f=a[2];b[2]!==f?(e=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","copy_link"),f(),d("cometPushToast").cometPushSimpleToast(l)},b[2]=f,b[3]=e):e=b[3];a=e;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},b[4]=e):e=b[4];var g;b[5]!==a?(g=j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconLink"),label:k,onPress:a,size:36}),b[5]=a,b[6]=g):g=b[6];var h;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWVerticalRhythm"),{height:8}),h=j.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:k}),b[7]=a,b[8]=h):(a=b[7],h=b[8]);b[9]!==g?(e=j.jsxs("li",babelHelpers["extends"]({},e,{children:[g,a,h]})),b[9]=g,b[10]=e):e=b[10];return e}g["default"]=a}),226);
__d("MWEditChannelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6185531621550317"}),null);
__d("MWEditChannelDialogQuery$Parameters",["MWEditChannelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWEditChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWEditChannelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWEditChannelDialog.entrypoint",["JSResourceForInteraction","MWEditChannelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MWEditChannelDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("MWEditChannelDialog.react").__setRef("MWEditChannelDialog.entrypoint")};g["default"]=a}),98);
__d("MWEditChannelDialogTrigger.react",["I64","MWEditChannelDialog.entrypoint","promiseDone","react","react-compiler-runtime","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;j||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,f=a.threadKey,g=(h||(h=c("useReStore")))();b[0]!==f?(a=(i||(i=d("I64"))).to_string(f),b[0]=f,b[1]=a):a=b[1];var j;b[2]!==a?(j={threadID:a},b[2]=a,b[3]=j):j=b[3];a=j;j=c("useMWXEntryPointDialog")(c("MWEditChannelDialog.entrypoint"),a);var k=j[0];b[4]!==g||b[5]!==k||b[6]!==f?(a=function(){c("promiseDone")(g.tables.threads.get(f),function(a){if(a==null)return;k({thread:a})})},b[4]=g,b[5]=k,b[6]=f,b[7]=a):a=b[7];j=a;b[8]!==e||b[9]!==j?(a=e(j),b[8]=e,b[9]=j,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWEditThreadNameDialogTrigger.react",["JSResourceForInteraction","promiseDone","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||(i=d("react"));var j=i.useRef,k=c("JSResourceForInteraction")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.react");function a(a){var b=a.children,d=a.threadKey;a=j(null);var e=(h||(h=c("useReStore")))(),f=c("useMWXLazyDialog")(k),g=f[0];f=function(){c("promiseDone")(e.tables.threads.get(d),function(a){if(a==null)return;g({thread:a})})};return b(f,a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxInfoMembersSectionStorageKey",[],(function(a,b,c,d,e,f){"use strict";a="__MWInboxInfoMembersSection.isOpen__";f.storageKey=a}),66);
__d("MWShareThreadQuickActionButton.react",["fbt","MWXCircleButton.react","MWXColumnItem.react","MWXIconShare","MWXText.react","MWXTooltip.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"__JHASH__zzzD0_ypABg__JHASH__");function a(a){var b=d("react-compiler-runtime").c(5);a=a.onPress;var e;b[0]!==a?(e=j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconShare"),label:k,onPress:a,size:36})}),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWXColumnItem.react"),{paddingTop:8,children:j.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:k})}),b[2]=a):a=b[2];b[3]!==e?(a=j.jsxs(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:k,children:[e,a]}),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("MWSharePublicChatQuickAction.react",["ChannelShareDialogLoggingContext","MWChannelInviteDialog.entrypoint","MWShareThreadQuickActionButton.react","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.thread;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MWChannelInviteDialog.entrypoint"),a);var f=a[0];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},b[1]=a):a=b[1];b[2]!==f||b[3]!==e?(a=i.jsx("li",babelHelpers["extends"]({},a,{children:i.jsx(c("MWShareThreadQuickActionButton.react"),{onPress:function(){f({channelThread:e,loggingContext:c("ChannelShareDialogLoggingContext").CONTEXT_BANNER_QUICK_ACTION})}})})),b[2]=f,b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("MWContextBannerQuickActions.react",["fbt","CommunityMessagingEnableState","I64","LSCommunityBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWAddMemberToGroupCircleButton.react","MWCMBulkInviteDialog.entrypoint","MWCMShortLinkShare.react","MWCMThreadTypes.react","MWContextBannerQuickActionsEditChatInfo.react","MWCopyLinkPublicChatQuickAction.react","MWEditChannelDialogTrigger.react","MWEditThreadNameDialogTrigger.react","MWGroupLimitContainer.react","MWInboxInfoMembersSectionStorageKey","MWInboxPersistedUIState","MWLSGroupMembershipDialog.entrypoint","MWPBumpEntityKey","MWSharePublicChatQuickAction.react","MWVerticalRhythm","MWXCircleButton.react","MWXIconFriendGenericAdd","MWXIconGroup","MWXIconLink","MWXIconPencil","MWXText.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","canMWAddMemberToGroupThread","emptyFunction","isFeatureLimitEnabled","justknobx","mwCMIsAnyCMThread","mwCMisStandAloneCommunity","promiseDone","react","react-compiler-runtime","useCommunityFolder","useCommunityMembers","useIsReadOnlyFeatureLimitedWithThreadType","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useMemo,n=b.useRef,o=h._(/*BTDS*/"__JHASH__4Z6iwQf0KqP__JHASH__"),p=h._(/*BTDS*/"__JHASH__a3y4zGfm_2Z__JHASH__");function q(a){var b=a.thread;a=n(null);var e=c("useCommunityFolder")(b),f=c("mwCMIsAnyCMThread")(b.threadType),g=c("mwCMisStandAloneCommunity")(e==null?void 0:e.communityType),i=d("MWCMThreadTypes.react").isBroadcastThread(b.threadType),q=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(b.threadType),r=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType);r=c("useIsReadOnlyFeatureLimitedWithThreadType")(b.threadType)&&(!r||c("isFeatureLimitEnabled")());var s=d("useCommunityMembers").useClearMemberList(),t=m(function(){if(e!=null&&f)return[e.enableState,d("LSThreadBitOffset").has(120,b),d("LSCommunityBitOffset").has(17,e),e.fbGroupId];else return[void 0,!1,!1,(j||(j=d("I64"))).zero]},[f,e,b]),u=t[0],v=t[1];t=t[2];u=f&&(j||(j=d("I64"))).equal((u=u)!=null?u:(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));var w=d("MWInboxPersistedUIState").usePersistedUIState(!1,d("MWInboxInfoMembersSectionStorageKey").storageKey),x=w[0];w=c("useMWXEntryPointDialog")(c("MWCMBulkInviteDialog.entrypoint"),{});var y=w[0];w=c("useMWXEntryPointDialog")(c("MWLSGroupMembershipDialog.entrypoint"),{groupID:(j||(j=d("I64"))).to_string((w=e==null?void 0:e.fbGroupId)!=null?w:(j||(j=d("I64"))).zero)});var z=w[0];w=m(function(){return[f?h._(/*BTDS*/"__JHASH__6ygymPD56Yw__JHASH__"):h._(/*BTDS*/"__JHASH__5q5wieIjbh7__JHASH__"),f?h._(/*BTDS*/"__JHASH__um66LGyp2bC__JHASH__"):h._(/*BTDS*/"__JHASH___jI2RJo8mJV__JHASH__"),e!=null&&i?h._(/*BTDS*/"__JHASH__1cAdDa3Rt1T__JHASH__"):h._(/*BTDS*/"__JHASH__1Av2Yy1o2_Y__JHASH__")]},[i,f,e]);var A=w[0],B=w[1];w=w[2];var C=d("LSThreadBitOffset").has(60,b),D=d("LSThreadBitOffset").has(81,b);r=c("canMWAddMemberToGroupThread")(b,r);var E=d("LSThreadBitOffset").has(26,b),F=d("LSThreadBitOffset").has(108,b),G=C&&D,H=c("MessengerWebUXLogger").useInteractionLogger();return l.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:l.jsxs("ul",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xl56j7k xsag5q8 x1y1aw1k"},{children:[f&&!u?v?l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconFriendGenericAdd"),label:o,onPress:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","quick_actions_direct_invite");return y({fbThreadId:(j||(j=d("I64"))).to_string(b.threadKey),parentSurface:"thread_view",source:"invite_button",surface:"thread_view"},c("emptyFunction"))},size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:o})]})):l.jsx(c("MWCMShortLinkShare.react"),{thread:b,children:function(a,b){return l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconLink"),label:A,onPress:b,size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:A})]}))}}):null,!f&&q&&F&&(j||(j=d("I64"))).equal(b.threadInvitesEnabledV2,(k||(k=d("LSIntEnum"))).ofNumber(1))?l.jsxs(l.Fragment,{children:[b.threadInviteLink!=null&&l.jsx(c("MWSharePublicChatQuickAction.react"),{thread:b}),b.threadInviteLink!=null&&l.jsx(c("MWCopyLinkPublicChatQuickAction.react"),{threadInviteLink:b.threadInviteLink})]}):null,!f&&r?l.jsx(c("MWGroupLimitContainer.react"),{groupLimitReachedContent:null,thread:b,children:l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWAddMemberToGroupCircleButton.react"),{label:A,threadKey:b.threadKey,threadType:b.threadType}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:A})]}))}):null,q&&G?l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWEditChannelDialogTrigger.react"),{threadKey:b.threadKey,children:function(a,b){return l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconPencil"),label:p,onPress:function(){return a()},ref:b,size:36})}}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:p})]})):null,!f&&C&&!G?l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWEditThreadNameDialogTrigger.react"),{threadKey:b.threadKey,children:function(a,d){return l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconPencil"),label:B,onPress:function(){a(),H==null?void 0:H({eventName:"open_edit_thread_name_dialog",threadKey:b.threadKey,threadType:b.threadType})},ref:d,size:36})}}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:B})]})):null,f&&D&&!u&&t&&!g?l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWContextBannerQuickActionsEditChatInfo.react"),{icon:c("MWXIconPencil"),label:p,threadKey:b.threadKey}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:p})]})):c("justknobx")._("1116")?null:E?l.jsxs("li",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},{children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconGroup"),label:w,onPress:function(){return z({folder:e},function(){f&&!x&&c("promiseDone")(s())})},ref:a,size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:w})]})):null]}))})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=l.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:l.jsx(q,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=c):c=b[1];return c}g["default"]=a}),226);
__d("MWEBRestoreGapUI.react",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBEntrypointsKillswitch.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWEBBackupState","useMWEBGetUpsellState","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useRef,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreGapUI.react"),o={banner:{backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingStart:"x1xfsgkm",paddingEnd:"xqmdsaz",paddingLeft:null,paddingRight:null,$$css:!0}};function a(){var a=d("react-compiler-runtime").c(21),b=(i||(i=c("useReStore")))(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={entrypoint:c("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI},a[0]=e):e=a[0];e=c("useMWEBBackupState")(e);var f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f={},a[1]=f):f=a[1];f=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),f);var g=f[0];f=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var j=f.startFlow;f=c("useMWEBGetUpsellState")();f=f.isRestoreUpsellsDismissed;var p=c("MWChatEncryptedBackupsQPLSource.enum").IN_THREAD_GAP_UI,q=m(!1),r=m(!1),s;a[2]!==j||a[3]!==b?(s=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:b,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,k=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;j({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:k,has_user_restored_before_temp:b,restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:p});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);r.current===!1&&(r.current=!0,c("promiseDone")(n.load(),function(a){return a(g)}))}})},a[2]=j,a[3]=b,a[4]=s):s=a[4];var t=s;a[5]!==t?(s={onVisible:function(){t("RESTORE_IN_THREAD_MISSING_MESSAGE_GAP_UI_IMPRESSION")}},a[5]=t,a[6]=s):s=a[6];s=c("useVisibilityObserver")(s);var u=e===4&&!f;a[7]!==u||a[8]!==t?(e=function(){q.current===!1&&u&&(q.current=!0,t("RESTORE_IN_THREAD_MISSING_MESSAGE_GAP_UI_MOUNT"))},f=[u,t],a[7]=u,a[8]=t,a[9]=e,a[10]=f):(e=a[9],f=a[10]);l(e,f);if(!u)return null;a[11]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__4WMqcKoHbeS__JHASH__"),a[11]=e):e=a[11];a[12]!==g||a[13]!==t?(f=function(){t("RESTORE_IN_THREAD_GAP_UI_CTA_CLICK"),g({source:p})},a[12]=g,a[13]=t,a[14]=f):f=a[14];var v;a[15]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._(/*BTDS*/"__JHASH__KfRv84gajDv__JHASH__"),a[15]=v):v=a[15];a[16]!==f?(e=k.jsx(c("MWXRowItem.react"),{xstyle:o.banner,children:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:k.jsxs(k.Fragment,{children:[e," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:f,target:"_blank",testid:void 0,children:v})})]})})}),a[16]=f,a[17]=e):e=a[17];a[18]!==s||a[19]!==e?(v=k.jsx(c("MWXRow.react"),{align:"center",paddingHorizontal:16,paddingVertical:4,ref:s,spacing:0,children:e}),a[18]=s,a[19]=e,a[20]=v):v=a[20];return v}g["default"]=a}),226);
__d("MWEBRestoreInThreadScrollPersistentBanner.react",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXLink.react","MWXText.react","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useRef,m=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreInThreadScrollPersistentBanner.react");function a(){var a=d("react-compiler-runtime").c(17),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),b);var e=b[0];b=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var f=b.startFlow,g=(i||(i=c("useReStore")))(),j=l(!1),n=c("MWChatEncryptedBackupsQPLSource.enum").IN_THREAD_SCROLL_PERSISTENT_BANNER;a[1]!==g||a[2]!==f?(b=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:g,onFetch:function(b){var e=b.ebsmWiped,g=b.firstUpsellTime,h=b.hasEbKeysLocally,i=b.hasEBSM,k=b.hasPDB,l=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;f({additionalAnnotations:{eb_session_identifier:g,ebsm_wiped:e,has_eb_keys_locally:h,has_ebsm:i,has_pdb:k,has_user_restored_before:l,has_user_restored_before_temp:b,restore_upsell_first_impression_time:g},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:n});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);j.current===!1&&(j.current=!0,c("promiseDone")(m.load(),function(a){return a(h)}))}})},a[1]=g,a[2]=f,a[3]=b):b=a[3];var o=b;a[4]!==o?(b={onVisible:function(){o("RESTORE_IN_THREAD_PERSISTENT_BANNER_IMPRESSION")}},a[4]=o,a[5]=b):b=a[5];b=c("useVisibilityObserver")(b);var p;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"xfpmyvw x80vd3b x1q0q8m5 xso031l xt0psk2 x1o1nzlu x10b6aqq x889kno x10l6tqk x1wo2wf3 xh8yej3 x1vjfegm"},a[6]=p):p=a[6];var q;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__4WMqcKoHbeS__JHASH__"),a[7]=q):q=a[7];var r;a[8]!==e||a[9]!==o?(r=function(){o("RESTORE_IN_THREAD_PERSISTENT_BANNER_CTA_CLICKED"),e({source:n})},a[8]=e,a[9]=o,a[10]=r):r=a[10];var s;a[11]===Symbol["for"]("react.memo_cache_sentinel")?(s=k.jsx("div",{style:{color:"var(--mwp-header-button-color)",display:"inline"},children:h._(/*BTDS*/"__JHASH__KfRv84gajDv__JHASH__")}),a[11]=s):s=a[11];a[12]!==r?(q=k.jsxs(c("MWXText.react"),{align:"center",color:"secondary",numberOfLines:2,type:"meta4",children:[q," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:r,target:"_blank",testid:void 0,weight_DEPRECATED:"semibold",children:s})})]}),a[12]=r,a[13]=q):q=a[13];a[14]!==b||a[15]!==q?(s=k.jsx("div",babelHelpers["extends"]({},p,{ref:b,children:q})),a[14]=b,a[15]=q,a[16]=s):s=a[16];return s}g["default"]=a}),226);
__d("MWEBRestoreInThreadScrollPersistentBannerWrapper.react",["MWEBEntrypointsKillswitch.enum","MWEBRestoreInThreadScrollPersistentBanner.react","react","react-compiler-runtime","useCometRouterState","useMWEBBackupState","useMWEBGetUpsellState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(2),b=c("useCometRouterState")();b=b==null?void 0:b.main.route.tabKey;var e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={entrypoint:c("MWEBEntrypointsKillswitch.enum").IN_THREAD_SCROLL_BANNER},a[0]=e):e=a[0];e=c("useMWEBBackupState")(e);var f=c("useMWEBGetUpsellState")();f=f.isRestoreUpsellsDismissed;if(b!=="messenger"&&e===4&&f===!1){a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("MWEBRestoreInThreadScrollPersistentBanner.react"),{}),a[1]=b):b=a[1];return b}return null}g["default"]=a}),98);
__d("MWEncryptedBackupsDetermineInitialEBState",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("23914");function a(a){var b=a.clientStateData,c=a.hasArmadilloError;a=a.xfb_backup;if(!h||c)return 0;if(a==null)return 2;return b.length>0?3:4}g.determineInitialEBState=a}),98);
__d("MWXIconChevronDown",["MWXSvgIcon","SVGIcon","cr:12364","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12364")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMAWFetchSecureMessageByPinnedExternalId",["LSMEBTaskCreationSource","MAWStateContext.react","MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","fetchSecureMissingMessage","promiseDone","react","react-compiler-runtime","useMWEBBackupState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useContext;function a(a){var b=d("react-compiler-runtime").c(9),e=(h||(h=c("useReStore")))(),g=j(d("MAWStateContext.react").MAWDispatchContext),i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={entrypoint:c("MWEBEntrypointsKillswitch.enum").PINNED_MESSAGES},b[0]=i):i=b[0];i=c("useMWEBBackupState")(i);var m=i===3,n;b[1]!==e||b[2]!==g||b[3]!==m||b[4]!==a?(i=function(){return d("ReQL").fromTableDescending(e.tables.client_web_pinned_messages.index("pinnedMessageDisplayOrder")).getKeyRange(a).map(function(b){b=b.offlineThreadingId;var h=d("ReQLSuspense").first(d("ReQL").fromTableDescending(e.tables.messages.index("optimistic")).getKeyRange(b),f.id+":52");h==null&&c("promiseDone")(c("fetchSecureMissingMessage")(e,a,b,m,g,c("LSMEBTaskCreationSource").EB_POINT_QUERY_PINNED_MESSAGES,"MAWFetchPinnedMessage"));return{message:h,pinnedOfflineThreadingId:b}})},n=[e,a,m,g],b[1]=e,b[2]=g,b[3]=m,b[4]=a,b[5]=i,b[6]=n):(i=b[5],n=b[6]);i=d("ReQLSuspense").useArray(i,n,f.id+":42");b[7]!==i?(n=i.map(l).filter(k),b[7]=i,b[8]=n):n=b[8];return n}function k(a){return!(a==null?void 0:a.isUnsent)}function l(a){return a.message}g["default"]=a}),98);
__d("useMWFetchMessageByPinnedMessageId",["LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","fetchOpenMissingMessage","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(22),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.threads||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(a)},b[0]=e.tables.threads,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];g=d("ReQLSuspense").useFirst(g,j,f.id+":34");j=d("MAWThreadCutover").useGetCutoverOpenThreadKey(a);var k=j!=null,l=j||a;j=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(j);var m;b[6]!==g?(m=g!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType),b[6]=g,b[7]=m):m=b[7];g=m;var n=g&&(!k||j);b[8]!==e.tables.threads||b[9]!==l?(m=function(){return d("ReQL").fromTableDescending(e.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(l)},b[8]=e.tables.threads,b[9]=l,b[10]=m):m=b[10];b[11]!==e||b[12]!==l?(g=[e,l],b[11]=e,b[12]=l,b[13]=g):g=b[13];var o=d("ReQLSuspense").useFirst(m,g,f.id+":54");b[14]!==e||b[15]!==n||b[16]!==l||b[17]!==o?(k=function(){return n?d("ReQL").empty():d("ReQL").fromTableDescending(e.tables.msg_pinned_messages_v2.index("pinnedMessageDisplayOrder")).getKeyRange(l).map(function(a){a=a.messageId;var b=d("ReQLSuspense").first(d("ReQL").fromTableDescending(e.tables.messages.index("messageId")).getKeyRange(a),f.id+":73");o!=null&&b==null&&c("promiseDone")(c("fetchOpenMissingMessage")(e,o,a));return{message:b,pinnedMessageId:a}})},j=[e,l,n,o],b[14]=e,b[15]=n,b[16]=l,b[17]=o,b[18]=k,b[19]=j):(k=b[18],j=b[19]);m=d("ReQLSuspense").useArray(k,j,f.id+":64");b[20]!==m?(g=m.map(i),b[20]=m,b[21]=g):g=b[21];return g}function i(a){return a.message}g["default"]=a}),98);
__d("MWInboxPinnedMessagesBanner.react",["fbt","BaseMiddot.react","CometErrorBoundary.react","CometPageletWithDiv.react","FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWBroadcastChannelLoggingShapes","MWLSThreadDisplayContext","MWLogBroadcastChannelFalcoEvent","MWPActor.react","MWUnvaultedText","MWXColumn.react","MWXColumnItem.react","MWXIconChevronDown","MWXIconForListCell.react","MWXIconPushpin","MWXIconStrict.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","ReQL","ReQLSuspense","isMWBumpMessage","react","react-compiler-runtime","useGetOriginalMsgFromBumpMsg","useMAWFetchSecureMessageByPinnedExternalId","useMWFetchMessageByPinnedMessageId","useMWJumpToMessageWrapper","useMWXLazyDialog","useReStore","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useMemo,o={pinnedMessagesWrapper:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},pinnedMessagesWrapperChatTabs:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},pinnedMessagesWrapperInbox:{borderTopColor:"x1pdss0j",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},row:{height:"x10wjd1d",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},rowText:{height:"xlup9mm",$$css:!0}},p=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWInboxPinnedMessagesBanner.react");function q(a,b,e){var f=a==null?void 0:a.text,g=b&&a!=null?(k||(k=d("I64"))).equal(e,a.threadKey):!1;b=n(function(){var b;return new Set(g?(b=a==null?void 0:(b=a.mentionIds)==null?void 0:b.split==null?void 0:b.split(","))!=null?b:[]:[])},[g,a==null?void 0:a.mentionIds]);f=d("MWUnvaultedText").getMWUnvaultedText(g,f);b=(b=(b=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(f,[],b,e))==null?void 0:b.textWithSubstitutions)!=null?b:f;e=(e=d("useStringWithSubstitutions").useStringWithSubstitutions(f,e))!=null?e:f;f=c("isMWBumpMessage")(a==null?void 0:a.replyType);return f?e:b}function r(a){if(a==null)return"";if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(2)))return h._(/*BTDS*/"__JHASH__xgjHlv2kQPY__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(4)))return h._(/*BTDS*/"__JHASH__X9DncealQbJ__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(4096))||(k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(134217728)))return h._(/*BTDS*/"__JHASH__rZqTMZ7dJmB__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(16384)))return h._(/*BTDS*/"__JHASH__qqvxkP_nlPB__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(64)))return h._(/*BTDS*/"__JHASH__BbHS9IlclMk__JHASH__");return h._(/*BTDS*/"__JHASH__KsTQ68TZNpQ__JHASH__")}function s(a){c("FBLogger")("messenger_web_pinned_messages").catching(a).mustfix("uncaught exception in MWInboxPinnedMessagesBanner.react. Error:%s",a.message)}function a(a){var b=d("react-compiler-runtime").c(2);a=a.thread;var e;b[0]!==a?(e=m.jsx(c("CometErrorBoundary.react"),{fallback:t,onError:s,children:m.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPinnedMessagesBanner",children:m.jsx(u,{thread:a})})}),b[0]=a,b[1]=e):e=b[1];return e}function t(){return null}function u(a){var b=d("react-compiler-runtime").c(65),e=a.thread;a=c("useMWXLazyDialog")(p);var g=a[0],j=(i||(i=c("useReStore")))();a=c("useMWFetchMessageByPinnedMessageId")(e.threadKey);var l=c("useMAWFetchSecureMessageByPinnedExternalId")(e.threadKey);if(b[0]!==a||b[1]!==l){var n=l.concat(a),s=[];n=n.reduce(v,s);b[0]=a;b[1]=l;b[2]=n}else n=b[2];var t=n;s=d("MWPActor.react").useActor();b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={source:"Pinned"},b[3]=a):a=b[3];var u=c("useMWJumpToMessageWrapper")(a),w=(t==null?void 0:t.length)>0?t[0]:null;b[4]!==j||b[5]!==w?(l=function(){return(w==null?void 0:w.senderId)!=null?d("ReQL").fromTableAscending(j.tables.contacts).getKeyRange(w.senderId):d("ReQL").empty()},b[4]=j,b[5]=w,b[6]=l):l=b[6];n=w==null?void 0:w.senderId;b[7]!==j||b[8]!==n?(a=[n,j],b[7]=j,b[8]=n,b[9]=a):a=b[9];n=d("ReQLSuspense").useFirst(l,a,f.id+":245");b[10]!==j||b[11]!==w||b[12]!==e.threadKey?(l=function(){return(w==null?void 0:w.senderId)!=null?d("ReQL").fromTableAscending(j.tables.participants).getKeyRange(e.threadKey,w.senderId):d("ReQL").empty()},b[10]=j,b[11]=w,b[12]=e.threadKey,b[13]=l):l=b[13];a=w==null?void 0:w.senderId;var x;b[14]!==j||b[15]!==a||b[16]!==e.threadKey?(x=[a,j,e.threadKey],b[14]=j,b[15]=a,b[16]=e.threadKey,b[17]=x):x=b[17];a=d("ReQLSuspense").useFirst(l,x,f.id+":255");b[18]!==e.threadType?(l=d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType),b[18]=e.threadType,b[19]=l):l=b[19];x=l;l=c("useGetOriginalMsgFromBumpMsg")(w==null?void 0:w.replyType,w==null?void 0:w.replySourceId,w==null?void 0:w.threadKey);l=(l=l)!=null?l:w;x=q(l,x,e.threadKey);var y;b[20]!==l||b[21]!==x?(y=x!=null&&x!==""?x:r(l),b[20]=l,b[21]=x,b[22]=y):y=b[22];l=y;x=l;y=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox";if(t.length===0)return null;b[23]!==e.threadKey||b[24]!==e.threadType?(l={eventName:"open_view_pinned_messages_dialog",threadKey:e.threadKey,threadType:e.threadType},b[23]=e.threadKey,b[24]=e.threadType,b[25]=l):l=b[25];l=l;var z;b[26]!==e.threadType?(z=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType),b[26]=e.threadType,b[27]=z):z=b[27];var A=z;if(b[28]!==s||b[29]!==w||b[30]!==(n==null?void 0:n.name)||b[31]!==(a==null?void 0:a.nickname)){z=(w==null?void 0:w.senderId)!=null&&(k||(k=d("I64"))).equal(s,w.senderId)?"You":(z=(z=a==null?void 0:a.nickname)!=null?z:n==null?void 0:n.name)!=null?z:"";b[28]=s;b[29]=w;b[30]=n==null?void 0:n.name;b[31]=a==null?void 0:a.nickname;b[32]=z}else z=b[32];s=z;b[33]!==A||b[34]!==x?(n=A?h._(/*BTDS*/"__JHASH__uKLUxuQU_CD__JHASH__",[h._param("lastPinnedMessage",x)]):h._(/*BTDS*/"__JHASH__YIRbXxGdt3C__JHASH__",[h._param("lastPinnedMessage",x)]),b[33]=A,b[34]=x,b[35]=n):n=b[35];b[36]!==A||b[37]!==u||b[38]!==t[0]||b[39]!==t.length||b[40]!==g||b[41]!==e.threadKey?(a=function(){if(t.length===1){var a=t[0];a!=null&&a.messageId!=null&&a.timestampMs!=null&&u(a.messageId,a.timestampMs)}else g({threadKey:e.threadKey});A&&d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers["extends"]({},d("MWBroadcastChannelLoggingShapes").VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER,{clientExtras:{isDialogOpened:(t.length>1).toString()},threadFbid:e.threadKey}))},b[36]=A,b[37]=u,b[38]=t[0],b[39]=t.length,b[40]=g,b[41]=e.threadKey,b[42]=a):a=b[42];z=y?o.pinnedMessagesWrapperInbox:o.pinnedMessagesWrapperChatTabs;b[43]!==z?(y=[o.pinnedMessagesWrapper,z],b[43]=z,b[44]=y):y=b[44];b[45]===Symbol["for"]("react.memo_cache_sentinel")?(z=m.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:m.jsx(c("MWXIconForListCell.react"),{color:"secondary",icon:c("MWXIconPushpin"),size:"medium"})}),b[45]=z):z=b[45];var B;b[46]!==A||b[47]!==s?(B=m.jsx(c("MWXColumnItem.react"),{verticalAlign:"center",xstyle:o.rowText,children:m.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta3",children:A?h._(/*BTDS*/"__JHASH__Dezv4EV21yi__JHASH__",[h._param("channel_creator_name",s),h._param("middot",m.jsx(c("BaseMiddot.react"),{}))]):h._(/*BTDS*/"__JHASH__5htmo3zfvNj__JHASH__",[h._param("message_sender_name",s)])})}),b[46]=A,b[47]=s,b[48]=B):B=b[48];b[49]!==x?(s=m.jsx(c("MWXColumnItem.react"),{verticalAlign:"center",xstyle:o.rowText,children:m.jsx(c("MWXText.react"),{numberOfLines:1,type:"bodyLink4",children:x})}),b[49]=x,b[50]=s):s=b[50];b[51]!==B||b[52]!==s?(x=m.jsx(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:m.jsxs(c("MWXColumn.react"),{children:[B,s]})}),b[51]=B,b[52]=s,b[53]=x):x=b[53];b[54]!==t.length?(B=t.length>1&&m.jsx(c("MWXRowItem.react"),{children:m.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconChevronDown"),size:16})}),b[54]=t.length,b[55]=B):B=b[55];b[56]!==x||b[57]!==B?(s=m.jsxs(c("MWXRow.react"),{expanding:!0,paddingHorizontal:8,paddingVertical:0,verticalAlign:"center",xstyle:o.row,children:[z,x,B]}),b[56]=x,b[57]=B,b[58]=s):s=b[58];b[59]!==l||b[60]!==n||b[61]!==a||b[62]!==y||b[63]!==s?(z=m.jsx(c("MWXPressable.react"),{"aria-label":n,display:"inline",expanding:!0,loggingEvent:l,onPress:a,overlayDisabled:!0,overlayFocusRingPosition:"inset",testid:void 0,xstyle:y,children:s}),b[59]=l,b[60]=n,b[61]=a,b[62]=y,b[63]=s,b[64]=z):z=b[64];return z}function v(a,b){return b!=null?[].concat(a,[b]):a}g["default"]=a}),226);
__d("useInThreadBannerWithCta",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a,b){return b!=null?a.get((i||(i=d("I64"))).to_string(b)):null};function k(a,b,c){return{banner:a,bannerAction:j(b,a.bannerCtaId),leftButton:j(b,a.cta1Id),overflowMenuActions:(c!=null?[c.cta1Id,c.cta2Id,c.cta3Id,c.cta4Id,c.cta5Id]:[]).map(function(a){return j(b,a)}).filter(Boolean),rightButton:j(b,a.cta2Id)}}function a(a,b){var e=d("react-compiler-runtime").c(18),g=(h||(h=c("useReStore")))(),i;e[0]!==a.bannerId||e[1]!==g.tables.in_thread_banner_overflow_menu||e[2]!==b?(i=function(){return d("ReQL").fromTableAscending(g.tables.in_thread_banner_overflow_menu).getKeyRange(b,a.bannerId)},e[0]=a.bannerId,e[1]=g.tables.in_thread_banner_overflow_menu,e[2]=b,e[3]=i):i=e[3];var j;e[4]!==a.bannerId||e[5]!==g||e[6]!==b?(j=[g,b,a.bannerId],e[4]=a.bannerId,e[5]=g,e[6]=b,e[7]=j):j=e[7];i=d("ReQLSuspense").useFirst(i,j,f.id+":67");e[8]!==a.bannerId||e[9]!==g.tables.in_thread_banner_ctas?(j=function(){return d("ReQL").fromTableAscending(g.tables.in_thread_banner_ctas).getKeyRange(a.bannerId).map(l)},e[8]=a.bannerId,e[9]=g.tables.in_thread_banner_ctas,e[10]=j):j=e[10];var m;e[11]!==a.bannerId||e[12]!==g?(m=[g,a.bannerId],e[11]=a.bannerId,e[12]=g,e[13]=m):m=e[13];j=d("ReQLSuspense").useArray(j,m,f.id+":74");if(e[14]!==a||e[15]!==i||e[16]!==j){m=new Map(j);m=k(a,m,i);e[14]=a;e[15]=i;e[16]=j;e[17]=m}else m=e[17];return m}function l(a){return[(i||(i=d("I64"))).to_string(a.ctaId),a]}g.createBanner=k;g.useInThreadBannerWithCta=a}),98);
__d("useMWLSEnsureAdContextExists",["LSFactory","LSRequestAdContextFromThreadKeyStoredProcedure","MWThreadKey.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g,i;a[0]!==b||a[1]!==e?(g=function(){c("promiseDone")(b.runInTransaction(function(a){return c("LSRequestAdContextFromThreadKeyStoredProcedure")(c("LSFactory")(a),{threadKey:e})},"readwrite",void 0,void 0,f.id+":24"))},i=[e,b],a[0]=b,a[1]=e,a[2]=g,a[3]=i):(g=a[2],i=a[3]);j(g,i)}g["default"]=a}),98);
__d("useMWLSEnsureInThreadBannerExists",["LSFactory","LSFetchBannersStoredProcedure","MWThreadKey.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g,i;a[0]!==b||a[1]!==e?(g=function(){var a=b.runInTransaction(function(a){return c("LSFetchBannersStoredProcedure")(c("LSFactory")(a),{threadKey:e})},"readwrite",void 0,void 0,f.id+":23");c("promiseDone")(a)},i=[e,b],a[0]=b,a[1]=e,a[2]=g,a[3]=i):(g=a[2],i=a[3]);j(g,i)}g["default"]=a}),98);
__d("useMWCMMemberRequestsCtaParser.react",["GroupsCometChatsEngagementLogger","I64","MWCMMemberRequestsDialog.entrypoint","MWInboxInfoPanelContext.react","MWLSThreadDisplayContext","react-compiler-runtime","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(11),b=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),e=b.isOnMemberRequestsPageRef,f=b.pushMemberRequestsPage,g=b.setShouldNavToMemberRequests,i=b.setThreadInfoVisible,j=b.threadInfoVisible;b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var k=b==="ChatTab";a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("MWCMMemberRequestsDialog.entrypoint"),b);var l=b[0];a[1]!==l?(b=function(a){l({parentSurface:"request_to_join_activity_banner",threadKey:a})},a[1]=l,a[2]=b):b=a[2];var m=b;a[3]!==k||a[4]!==e||a[5]!==m||a[6]!==f||a[7]!==g||a[8]!==i||a[9]!==j?(b=function(a,b){var c=function(){d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(h||(h=d("I64"))).to_string(a.banner.threadKey)})};if(b.ctaType!=="cm_thread_member_requests_view")return{type:"unimplemented"};return k?{onPress:function(){c(),m(a.banner.threadKey)},type:"action"}:{onPress:function(){c();if(e.current===!0)return;j===!0?f("request_to_join_activity_banner"):(g(!0),i(!0))},type:"action"}},a[3]=k,a[4]=e,a[5]=m,a[6]=f,a[7]=g,a[8]=i,a[9]=j,a[10]=b):b=a[10];return b}g["default"]=a}),98);
__d("useMWLSAdContextCtaParser",["JSResourceForInteraction","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("JSResourceForInteraction")("MWCTMAdContextDialog.react").__setRef("useMWLSAdContextCtaParser"),a[0]=b):b=a[0];b=c("useMWXLazyDialog")(b);var e=b[0];a[1]!==e?(b=function(a,b){return b.ctaType!=="ads_context"?{type:"unimplemented"}:{onPress:function(){return e({adId:b.ctaId,threadKey:a.banner.threadKey})},type:"action"}},a[1]=e,a[2]=b):b=a[2];return b}g["default"]=a}),98);
__d("useMWLSExecuteInThreadBannerCta",["LSExecuteCTAStoredProcedure","LSFactory","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(a){c("promiseDone")(b.runInTransaction(function(b){return c("LSExecuteCTAStoredProcedure")(c("LSFactory")(b),{ctaId:a})},"readwrite",void 0,void 0,f.id+":34"))},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useMWLSMarketplaceServerMutationCta",["LSFactory","LSServerMutationCtaStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(a,d){c("promiseDone")(b.runInTransaction(function(b){return c("LSServerMutationCtaStoredProcedure")(c("LSFactory")(b),{marketplaceCtaType:d,threadKey:a})},"readwrite",void 0,void 0,f.id+":28"))},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useMWLSMarketplaceCtaParser",["CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","FBLogger","I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","MWXLazyPopoverTrigger.react","ReQL","ReQLSuspense","react","react-compiler-runtime","recoverableViolation","useMWLSExecuteInThreadBannerCta","useMWLSMarketplaceServerMutationCta","useMWXEntryPointDialog","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useMemo;b=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var m=new Set(b);e=new Set(b.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function n(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),j;b[0]!==g||b[1]!==e.tables.participants||b[2]!==a?(j=function(){return d("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,g)}).map(o)},b[0]=g,b[1]=e.tables.participants,b[2]=a,b[3]=j):j=b[3];var k;b[4]!==g||b[5]!==e||b[6]!==a?(k=[g,a,e],b[4]=g,b[5]=e,b[6]=a,b[7]=k):k=b[7];return d("ReQLSuspense").useFirst(j,k,f.id+":81")}function o(a){return(i||(i=d("I64"))).to_string(a.contactId)}function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),b=c("useMWLSMarketplaceServerMutationCta")(),e=c("useMWLSExecuteInThreadBannerCta")(),f=n(a),g=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometFRX_DEPRECATED.react").__setRef("useMWLSMarketplaceCtaParser")),h=g[0],j=(i||(i=d("I64"))).to_string(a);g=c("useMWXEntryPointDialog")(c("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:j});var o=g[0];a=c("useMWXEntryPointDialog")(c("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:j});var p=a[0];g=c("useMWXEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:j});var q=g[0];return l(function(){var a=function a(g,l){var n=l.ctaId,r=l.ctaType,s=l.deeplinkUrl,t=l.webviewUrl;if(r==="marketplace_see_details"||r==="marketplace_banner_open_native"){var u;u=(u=t)!=null?u:s;if(u!=null)return{type:"link",url:u};c("recoverableViolation")("Marketplace see details cta without url","mp_messaging")}if(r==="marketplace_view_profile"){u=(u=t)!=null?u:s;if(u!=null)return{type:"link",url:u};c("recoverableViolation")("Marketplace view profile cta without url","mp_messaging")}if(r==="marketplace_scaled_rate_seller"&&t!=null)return{type:"link",url:t};if(r==="marketplace_more_options"&&g.overflowMenuActions.length>0)return{popoverTrigger:function(b){return k.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{ctaParser:function(b){return a(g,b)},menu:g.overflowMenuActions},popoverResource:c("JSResourceForInteraction")("MWLSMarketplacePopoverMenu.react").__setRef("useMWLSMarketplaceCtaParser"),children:b})},type:"popover"};if(r==="marketplace_report_buyer"||r==="marketplace_report_seller"){if(f!=null)return{onPress:function(){return h({entryPoint:"REPORT_BUTTON",id:f,location:r==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(){})},type:"action"};c("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","mp_messaging")}if(m.has(r))return{onPress:function(){return e(n)},type:"action"};if(r==="marketplace_label_chat")return{onPress:function(){return o({threadID:j},function(){return e(n)})},type:"action"};if(r==="marketplace_mark_as_paid")return{onPress:function(){return p({threadID:j},function(){return e(n)})},type:"action"};if(r==="marketplace_create_discount")return{onPress:function(){d("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return q({},function(){return e(n)})},type:"action"};if(r==="marketplace_server_mutation"){s=l.actionContentBlob;var v="";if(s!=null){t=((u=JSON.parse(s))!=null?u:{}).marketplace_cta_type;typeof t==="string"?v=t:c("FBLogger")("mp_messaging").mustfix("blob marketplace_cta_type is not a valid string type")}return{onPress:function(){return b((i||(i=d("I64"))).of_string(j),v)},type:"action"}}return{type:"unimplemented"}};return a},[e,b,f,h,q,o,p,j])}g.marketplaceCta=e;g.useMWLSMarketplaceCtaParser=a}),98);
__d("useMWLSInThreadBannerCtaParser",["react-compiler-runtime","useMWCMMemberRequestsCtaParser.react","useMWLSAdContextCtaParser","useMWLSMarketplaceCtaParser"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(4),b=d("useMWLSMarketplaceCtaParser").useMWLSMarketplaceCtaParser(),e=c("useMWLSAdContextCtaParser")(),f=c("useMWCMMemberRequestsCtaParser.react")(),g;a[0]!==e||a[1]!==f||a[2]!==b?(g=function(a,c){var g=c.ctaType;if(d("useMWLSMarketplaceCtaParser").marketplaceCta.has(g))return b(a,c);else if(g==="ads_context")return e(a,c);else if(g==="cm_thread_member_requests_view")return f(a,c);return{type:"unimplemented"}},a[0]=e,a[1]=f,a[2]=b,a[3]=g):g=a[3];return g}g["default"]=a}),98);
__d("MWLSInThreadBannerComponent.react",["GroupsCometChatsEngagementLogger","I64","MWChatInThreadBanner.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useInThreadBannerWithCta","useMWLSEnsureAdContextExists","useMWLSEnsureInThreadBannerExists","useMWLSInThreadBannerCtaParser","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function l(a){var b=d("react-compiler-runtime").c(4),e=a.banner,f=a.impressionRef;a=a.threadKey;e=d("useInThreadBannerWithCta").useInThreadBannerWithCta(e,a);a=c("useMWLSInThreadBannerCtaParser")();var g;b[0]!==e||b[1]!==a||b[2]!==f?(g=k.jsx(c("MWChatInThreadBanner.react"),{banner:e,ctaParser:a,impressionRef:f}),b[0]=e,b[1]=a,b[2]=f,b[3]=g):g=b[3];return g}function a(a){var b=d("react-compiler-runtime").c(13),e=a.threadKey;c("useMWLSEnsureInThreadBannerExists")();c("useMWLSEnsureAdContextExists")();var g=(h||(h=c("useReStore")))();b[0]!==g.tables.in_thread_banner||b[1]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.in_thread_banner).getKeyRange(e)},b[0]=g.tables.in_thread_banner,b[1]=e,b[2]=a):a=b[2];var j;b[3]!==g||b[4]!==e?(j=[g,e],b[3]=g,b[4]=e,b[5]=j):j=b[5];var m=d("ReQLSuspense").useFirst(a,j,f.id+":56");a=m==null?void 0:m.cta1Type;j=m==null?void 0:m.cta2Type;var n;b[6]!==(m==null?void 0:m.bannerCtaType)||b[7]!==e?(n={onImpressionStart:function(){(m==null?void 0:m.bannerCtaType)==="cm_thread_member_requests_view"&&d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(e)})}},b[6]=m==null?void 0:m.bannerCtaType,b[7]=e,b[8]=n):n=b[8];n=c("useSinglePartialViewImpression")(n);if(m==null||a==="proactive_warning_affirmative"||a==="proactive_warning_negative"||j==="proactive_warning_affirmative"||j==="proactive_warning_negative"||a==="ctx_whatsapp_redirect_banner"||j==="ctx_whatsapp_redirect_banner")return null;b[9]!==m||b[10]!==n||b[11]!==e?(a=k.jsx(l,{banner:m,impressionRef:n,threadKey:e}),b[9]=m,b[10]=n,b[11]=e,b[12]=a):a=b[12];return a}g["default"]=a}),98);
__d("MWMDotMeReferrerContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e();function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.referrer;var e;b[0]!==c||b[1]!==a?(e=i.jsx(k.Provider,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function b(){return j(k)}g.MWMDotMeReferrerContextProvider=a;g.useMDotMeReferrer=b}),98);
__d("MWMediaComposerLinkPreviewXMARenderQpl",["I64","LSIntEnum","MAWLoggerUtils","MWMediaRenderQplUtils","MessagingAttachmentType","QPLUserFlow","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useEffect,l=b.useMemo,m=b.useRef;function a(a,b,e,f){a===void 0&&(a="");b===void 0&&(b="");var g=d("MAWLoggerUtils").getInstanceKeyFromId(a.concat(b)),h=m(!1),n=l(function(){if(a==null||b==null)return null;var k=(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA);c("QPLUserFlow").start(d("MWMediaRenderQplUtils").event,{annotations:{string:{attachment_type:d("MWMediaRenderQplUtils").getAttachmentTypeStringFromEnum(k),content_type:d("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(k),entry_point:"composer_view",linkPreviewDataType:d("MWMediaRenderQplUtils").getE2EELinkPreviewXMADataTypeStringFromEnum((k=e)!=null?k:(j||(j=d("I64"))).zero),thread_type:d("MWMediaRenderQplUtils").getThreadTypeStringFromEnum((k=f)!=null?k:(j||(j=d("I64"))).zero)}},cancelOnUnload:!0,instanceKey:g,timeoutInMs:d("MWMediaRenderQplUtils").QPL_TIMEOUT});h.current=!1;return babelHelpers["extends"]({},d("MWMediaRenderQplUtils").createQplFlowCommon(d("MWMediaRenderQplUtils").event,g,h))},[g]);k(function(){return function(){h.current===!1&&(n==null?void 0:n.getInstanceKey())!=null&&(n==null?void 0:n.endCancel(706))}},[n]);return n}g.useMediaComposerLinkPreviewXMARenderQpl=a}),98);
__d("MWMessageList",["CometPageletWithDiv.react","I64","Int64Hooks","LSCommunityBitOffset","LSMessageRenderingType","LSMessagingThreadTypeUtil","MWBlockingProtectionContext.react","MWChatInteraction","MWClickedMessageContext.react","MWCollapsibleAdminMessages.react","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWMessageListLoggingContext","MWMessageRow.react","MWMessageSendingContext.react","MWMessageTranslationContext.react","MWPMessageListFocusTable.react","MWPRelayBaseMessageList.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWPVisibleMessageContext.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","WebUXLoggingSurfaceContextProvider","cr:3907","cr:6714","isMWNewSearchUXEnabled","mwCMIsAnyCMThread","react","react-compiler-runtime","useCommunityFolder","useIsReactionsV2Enabled","useMWPAriaLabelForMessageListGrid","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useEffect,l=e.useId,m=e.useState;function n(a){return d("MWV2ChatAdminMessage.react").isAdminMessage(a)&&a!=null&&(a.messageRenderingType==null||!(i||(i=d("I64"))).equal(a.messageRenderingType,(i||(i=d("I64"))).of_int32(c("LSMessageRenderingType").NON_COLLAPSIBLE_ADMIN_MESSAGE)))}function o(a){return j.jsx(c("MWInboxThreadMessagesSpinner.react"),{vcIgnore:a})}o.displayName=o.name+" [from "+f.id+"]";function p(a){return j.jsx(c("MWJumpToMostRecentMessageButton.react"),{onPress:a})}p.displayName=p.name+" [from "+f.id+"]";e=j.forwardRef(a);function a(a,e){var f=d("react-compiler-runtime").c(54),g=a.entryPoint,h=a.renderFooter,q=a.renderHeader,r=a.thread,s=d("MWV2MessageActionsVisibility.react").useStopHoveringRef();a=m("");var t=a[0];a=a[1];var u=l(),v;f[0]!==r.threadType?(v=d("LSMessagingThreadTypeUtil").isArmadilloSecure(r.threadType),f[0]=r.threadType,f[1]=v):v=f[1];var w=v;v=c("useMWPAriaLabelForMessageListGrid")(r);var x=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),y=x.setVisibleMessage,z=x.visibleMessage,A;f[2]!==r.threadType?(x=function(){return r.threadType},A=[r.threadType],f[2]=r.threadType,f[3]=x,f[4]=A):(x=f[3],A=f[4]);var B=d("Int64Hooks").useMemoInt64(x,A),C=c("useCommunityFolder")(r);f[5]!==C?(x=C!=null?d("LSCommunityBitOffset").has(9,C):!1,f[5]=C,f[6]=x):x=f[6];var D=x,E=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(r.threadKey),F=b("cr:6714")(r.threadKey);A=m(!1);var G=A[0],H=A[1];f[7]!==F||f[8]!==y||f[9]!==G?(x=function(){F&&!G&&y(function(a){return(a=a)!=null?a:{contextLine:"",highlights:[],messageId:F.messageId,source:"LastReadWatermark",timestamp:F.timestampMs}})},A=[F,y,G],f[7]=F,f[8]=y,f[9]=G,f[10]=x,f[11]=A):(x=f[10],A=f[11]);k(x,A);f[12]!==h||f[13]!==r.threadKey||f[14]!==B?(x=function(){return j.jsxs(j.Fragment,{children:[j.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:r.threadKey,threadType:B}),h&&h()]})},A=[h,r.threadKey,B],f[12]=h,f[13]=r.threadKey,f[14]=B,f[15]=x,f[16]=A):(x=f[15],A=f[16]);x=d("Int64Hooks").useCallbackInt64(x,A);f[17]===Symbol["for"]("react.memo_cache_sentinel")?(A=new Map(),f[17]=A):A=f[17];var I=A;f[18]!==r.threadKey?(A=function(a,b,c,e){a=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(r.threadKey));if(a==null)return;a.addMarkerPoint("page_loaded","AppTiming",void 0,{page_index:e,page_size:c,total_number_of_messages:b.length})},f[18]=r.threadKey,f[19]=A):A=f[19];var J;f[20]===Symbol["for"]("react.memo_cache_sentinel")?(J=function(){return H(!0)},f[20]=J):J=f[20];var K;f[21]!==E||f[22]!==(F==null?void 0:F.messageId)||f[23]!==D||f[24]!==w||f[25]!==(C==null?void 0:C.fbGroupId)||f[26]!==t||f[27]!==s||f[28]!==r.threadKey||f[29]!==r.threadType||f[30]!==B||f[31]!==z?(K=function(a){var b=a.domElementRef,e=a.message,f=a.nextMessage,g=a.prevMessage;a=a.rowIndexFromBottom;var h=w?(i||(i=d("I64"))).equal(r.threadKey,e.threadKey):!1,k=(F==null?void 0:F.messageId)===e.messageId,l=!n(g)&&!n(f),m=z==null?!1:z.messageId===e.messageId&&(z.source==="Reply"||z.source==="Pinned"||z.source==="Bump"||z.source==="Search"&&c("isMWNewSearchUXEnabled")());if((c("mwCMIsAnyCMThread")(r.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(r.threadType))&&n(e)&&!l){I.set(e.messageId,e);l=n(g)&&!n(f);if(l){l=Array.from(I.values());I.clear();return j.jsx(c("MWCollapsibleAdminMessages.react"),{domElementRef:b,fbGroupId:C==null?void 0:C.fbGroupId,hasMessageEmphasisRing:m,isCMAdmin:D,isModal:t===e.messageId,isSecureMessage:h,messages:l,rowIndexFromBottom:a,shouldRenderUnreadIndicator:k,threadType:B,useReactionsV2:E})}else return null}return j.jsx(d("MWMessageRow.react").MWMessageRow,{containerThreadKey:r.threadKey,domElementRef:b,fbGroupId:C==null?void 0:C.fbGroupId,hasMessageEmphasisRing:m,isCMAdmin:D,isModal:t===e.messageId,isSecureMessage:h,message:e,nextMessage:f,prevMessage:g,rowIndexFromBottom:a,shouldRenderUnreadIndicator:k,stopHoveringRef:s,threadType:B,useReactionsV2:E})},f[21]=E,f[22]=F==null?void 0:F.messageId,f[23]=D,f[24]=w,f[25]=C==null?void 0:C.fbGroupId,f[26]=t,f[27]=s,f[28]=r.threadKey,f[29]=r.threadType,f[30]=B,f[31]=z,f[32]=K):K=f[32];f[33]!==g||f[34]!==e||f[35]!==x||f[36]!==q||f[37]!==A||f[38]!==K||f[39]!==r?(J=j.jsx(c("MWPRelayBaseMessageList.react"),{entryPoint:g,onPageLoaded:A,onUserScroll:J,pageSize:15,ref:e,renderFooter:x,renderHeader:q,renderJumpToMostRecentMessageButton:p,renderLoadingAnimation:o,renderRow:K,thread:r}),f[33]=g,f[34]=e,f[35]=x,f[36]=q,f[37]=A,f[38]=K,f[39]=r,f[40]=J):J=f[40];g=J;f[41]===Symbol["for"]("react.memo_cache_sentinel")?(e="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",x=j.jsx(c("MWInboxThreadMessagesSpinner.react"),{}),f[41]=e,f[42]=x):(e=f[41],x=f[42]);f[43]===Symbol["for"]("react.memo_cache_sentinel")?(q=c("uuidv4")(),f[43]=q):q=f[43];f[44]!==g||f[45]!==u?(A=j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"message_list",children:j.jsx(d("MWMessageListLoggingContext").MWMessageListLoggingContext,{flowInstanceId:q,children:b("cr:3907")==null?g:j.jsx(b("cr:3907"),{id:u,children:g})})}),f[44]=g,f[45]=u,f[46]=A):A=f[46];f[47]!==v||f[48]!==t||f[49]!==A?(K=j.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:v,modal:t,setModal:a,children:A}),f[47]=v,f[48]=t,f[49]=A,f[50]=K):K=f[50];f[51]!==K||f[52]!==r?(J=j.jsx(c("MWMessageSendingContext.react").Provider,{children:j.jsx(c("MWMessageTranslationContext.react").Provider,{children:j.jsx(c("MWClickedMessageContext.react").Provider,{children:j.jsx(c("MWBlockingProtectionContext.react").Provider,{children:j.jsx(d("CometPageletWithDiv.react").Placeholder,{className:e,fallback:x,name:"MWMessageList",children:j.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:r,children:K})})})})})}),f[51]=K,f[52]=r,f[53]=J):J=f[53];return J}f=e;g["default"]=f}),98);
__d("MWMessageSeenCountTooltip.react",["fbt","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWClickedMessageContext.react","MWLSThread","MWLogBroadcastChannelFalcoEvent","MWMessageDeliveryStatus","MWMessageUnsentTimestampText.react","MWXTooltip.react","ReQL","ReQLSuspense","getMessengerPreciseTimestamp","gkx","justknobx","react","react-compiler-runtime","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useMemo,n=c("gkx")("23219")?3:11;function o(a){var b,e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.community_chat_message_seen_count).getKeyRange(a.threadKey,a.messageId)},[e,a.threadKey,a.messageId],f.id+":46"),k=(b=d("MWLSThread").useThread(a.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}))!=null?b:!1,o=g?(j||(j=d("I64"))).to_int32(g.seenCount):null;b=d("Int64Hooks").useCallbackInt64(function(){if(!k)return;d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({action:2,event:16,parentSurface:n,source:15,surface:7,threadFbid:a.threadKey})},[k,a.threadKey]);var p=c("useSinglePartialViewImpression")({onImpressionStart:b});return m(function(){var b=a.isUnsent,e=a.timestampMs,f=a.unsentTimestampMs;if(f!=null&&b)return[l.jsx(c("MWMessageUnsentTimestampText.react"),{timestampMs:a.timestampMs,unsentTimestampMs:f},"first"),h._(/*BTDS*/"__JHASH__8eZEd_EeDsx__JHASH__")];b=o!=null?d("MWMessageDeliveryStatus").getSeenCount(o):d("MWMessageDeliveryStatus").Titles.loading;return[l.jsxs("div",{children:[l.jsx("div",{children:h._(/*BTDS*/"__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",c("getMessengerPreciseTimestamp")((j||(j=d("I64"))).to_float(e)))])}),(!c("justknobx")._("2943")||o!==0)&&l.jsx("div",{ref:p,children:b})]},"first"),b]},[a,p,o])}function a(a){var b=d("react-compiler-runtime").c(8),e=a.children,f=a.message;a=c("MWClickedMessageContext.react").useHook();var g=a.fetchMessageSeenCount;a=o(f);var h=a[0];a=a[1];var i;b[0]!==g||b[1]!==f?(i=function(a){a&&g(f.threadKey,f.messageId)},b[0]=g,b[1]=f,b[2]=i):i=b[2];var j;b[3]!==e||b[4]!==h||b[5]!==a||b[6]!==i?(j=l.jsx(c("MWXTooltip.react"),{align:"middle",label:a,onVisibilityChange:i,position:"start",tooltip:h,children:e}),b[3]=e,b[4]=h,b[5]=a,b[6]=i,b[7]=j):j=b[7];return j}g["default"]=a}),226);
__d("MWV2ThreadNullstatePill.react",["MWXPressable.react","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dark_mode_legible_text_pill:{backgroundColor:"xmd5bsh",color:"xi81zsa",$$css:!0},pill:{alignItems:"x6s0dn4",backgroundColor:"x1eb86dx",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"x1mvi0mv",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e=a.children;a=a.onClick;var f=c("useCurrentDisplayMode")()==="dark";f=f&&j.dark_mode_legible_text_pill;var g;b[0]!==f?(g=[j.pill,f],b[0]=f,b[1]=g):g=b[1];b[2]!==e||b[3]!==a||b[4]!==g?(f=i.jsx(c("MWXPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:g,children:e}),b[2]=e,b[3]=a,b[4]=g,b[5]=f):f=b[5];return f}g["default"]=a}),98);
__d("useMWV2SendIcebreakerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSNullstateCTAType","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint","MWMDotMeReferrerContext.react","MWPActor.react","MessagePowerUp","MessageSendClickFalcoEvent","gkx","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,e,g){var l=d("react-compiler-runtime").c(9),m=(j||(j=c("useReStore")))(),n=d("MWPActor.react").useActor(),o=d("MWMDotMeReferrerContext.react").useMDotMeReferrer(),p,q;l[0]!==n||l[1]!==m||l[2]!==g||l[3]!==e||l[4]!==o||l[5]!==a||l[6]!==b?(p=function(j,l){var p=d("LSThreadAttributionTypeUtil").getSource(a,e),q=j!=null?(h||(h=d("I64"))).equal(j.ctaType,(i||(i=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED))&&j.ctaId===l.ctaId:!1;j=c("gkx")("6771")&&j!=null&&(h||(h=d("I64"))).equal(j.ctaType,(i||(i=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").ICEBREAKER))&&j.ctaId===l.ctaId;var r=q||j?o:void 0;c("promiseDone")(m.runInTransaction(function(e){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(e),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(e=g)!=null?e:void 0,mark_read:!0,platform_ref:r,platform_token:l.platformToken,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),source:p}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:n,text:l.title,threadKey:a,threadType:b})},"readwrite",void 0,void 0,f.id+":76"));var s=(h||(h=d("I64"))).to_string(a);if(q)c("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(){return{page:{id:s}}});else{var t=(j=l.ctaIdentifier)!=null?j:"";c("LsBotComposerQuickReplyTappedFalcoEvent").log(function(){return{display:void 0,page:{id:s},quick_reply:{id:t,type:64}}})}c("MessageSendClickFalcoEvent").log(k)},q=[a,e,o,m,n,b,g],l[0]=n,l[1]=m,l[2]=g,l[3]=e,l[4]=o,l[5]=a,l[6]=b,l[7]=p,l[8]=q):(p=l[7],q=l[8]);return d("Int64Hooks").useCallbackInt64(p,q)}function k(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint").icebreaker}}}g["default"]=a}),98);
__d("MWPersistentIcebreakers",["I64","Int64Hooks","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","ReQL","ReQLSuspense","ServerTime","react","react-compiler-runtime","useMWV2SendIcebreakerMessage","useReStore","useStable","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useState;function m(a){var b=d("react-compiler-runtime").c(21),e=a.initiatingSource,f=a.lsSource,g=a.nullstateCtas,h=a.threadKey;a=a.threadType;f=f===void 0?"unknown":f;var i=c("useMWV2SendIcebreakerMessage")(h,a,f,e);b[0]!==g?(a=g.map(n),b[0]=g,b[1]=a):a=b[1];var m=a;f=l(!1);var o=f[0],p=f[1];b[2]!==m||b[3]!==o||b[4]!==h?(e=function(){if(!o&&m.length>0){p(!0);var a=(j||(j=d("I64"))).to_string(h);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:m,num_items:m.length,type:60},page:{id:a}}})}},a=[o,m,h],b[2]=m,b[3]=o,b[4]=h,b[5]=e,b[6]=a):(e=b[5],a=b[6]);f=d("Int64Hooks").useCallbackInt64(e,a);b[7]!==f?(e={onVisible:f},b[7]=f,b[8]=e):e=b[8];a=c("useVisibilityObserver")(e);b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1n2onr6 xh8yej3 x1eb86dx"},b[9]=f):f=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"xuk3077 x1eb86dx x78zum5 xdt5ytf xm7lytj"},b[10]=e):e=b[10];if(b[11]!==g||b[12]!==i){var q;b[14]!==i?(q=function(a){if(a.ctaType==="nullstate_icebreaker")return k.createElement("li",babelHelpers["extends"]({className:"xamitd3 xsag5q8 xn6708d x1ye3gou x2b8uid"},{key:(j||(j=d("I64"))).to_string(a.ctaId)}),k.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return i(void 0,a)},children:a.title}));else return null},b[14]=i,b[15]=q):q=b[15];q=g.map(q);b[11]=g;b[12]=i;b[13]=q}else q=b[13];b[16]!==q?(g=k.jsx("ul",babelHelpers["extends"]({},e,{children:q})),b[16]=q,b[17]=g):g=b[17];b[18]!==a||b[19]!==g?(e=k.jsx("div",babelHelpers["extends"]({},f,{ref:a,children:g})),b[18]=a,b[19]=g,b[20]=e):e=b[20];return e}function n(a){return a.ctaIdentifier}function a(a){var b=d("react-compiler-runtime").c(8),e=c("useStable")(o),g=(h||(h=c("useReStore")))(),i;b[0]!==g.tables.threads||b[1]!==a.threadKey?(i=function(){return d("ReQL").fromTableAscending(g.tables.threads,["lastActivityTimestampMs"]).getKeyRange(a.threadKey)},b[0]=g.tables.threads,b[1]=a.threadKey,b[2]=i):i=b[2];var l;b[3]!==g||b[4]!==a.threadKey?(l=[g,a.threadKey],b[3]=g,b[4]=a.threadKey,b[5]=l):l=b[5];i=d("ReQLSuspense").useFirst(i,l,f.id+":127");if(i==null)return null;if(a.nullstateCtas.length===0||e-(j||(j=d("I64"))).to_int32(i.lastActivityTimestampMs)<216e5)return null;b[6]!==a?(l=k.jsx(m,babelHelpers["extends"]({},a)),b[6]=a,b[7]=l):l=b[7];return l}function o(){return d("ServerTime").getMillis()}g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBanner_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3bJogu"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3bJogu")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("MWQuickPromotionThreadViewBanner.react",["CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(6);a=a.eligiblePromotions;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql"),a);a=a==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={context_surface_id:8783,context_trigger:"messenger_thread_open"},e[0]=f):f=e[0];f=c("useQuickPromotionFalcoEvent")(f);if(a==null)return null;var g;e[1]!==a?(g=j.jsx(d("CometRelay").MatchContainer,{match:a}),e[1]=a,e[2]=g):g=e[2];e[3]!==f||e[4]!==g?(a=j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:f,children:g}),e[3]=f,e[4]=g,e[5]=a):a=e[5];return a}g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBannerContainerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"community_id"},{defaultValue:null,kind:"LocalArgument",name:"fb_group_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"trigger"}],b=[{kind:"Literal",name:"surface_nux_id",value:10999},{kind:"Variable",name:"trigger",variableName:"trigger"},{fields:[{fields:[{kind:"Variable",name:"community_id",variableName:"community_id"},{kind:"Variable",name:"fb_group_id",variableName:"fb_group_id"},{kind:"Variable",name:"thread_id",variableName:"thread_id"}],kind:"ObjectValue",name:"community_messaging_context"}],kind:"ObjectValue",name:"trigger_context_v2"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWQuickPromotionThreadViewBanner_eligiblePromotions"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3bJogu"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3bJogu")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"25202797479365985",metadata:{},name:"MWQuickPromotionThreadViewBannerContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWQuickPromotionThreadViewBannerContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","I64","MWCMGetValidId","MWLSThreadDisplayContext","MWQuickPromotionThreadViewBanner.react","MWQuickPromotionThreadViewBannerContainerQuery.graphql","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l="CHAT_TAB_OPEN",m="MESSENGER_THREAD_OPEN";function n(a){switch(a){case"ChatTab":return l;default:return m}}function o(a){var e=a.communityId,f=a.fbGroupId;a=a.threadId;var g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();g=n(g);e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWQuickPromotionThreadViewBannerContainerQuery.graphql"),{community_id:e!=null?(j||(j=d("I64"))).to_string(e):null,fb_group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(f)?(j||(j=d("I64"))).to_string(f):null,thread_id:(j||(j=d("I64"))).to_string(a),trigger:g});a=e==null?void 0:(f=e.viewer)==null?void 0:f.eligible_promotions;return a==null?null:k.jsx(c("MWQuickPromotionThreadViewBanner.react"),{eligiblePromotions:a})}o.displayName=o.name+" [from "+f.id+"]";function a(a){return k.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWQuickPromotionThreadViewBannerContainer",children:k.jsx(o,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadNullstateGreetingAndInstruction.react",["fbt","MWPreloadedText","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=d("react-compiler-runtime").c(13),e=a.nullstate;a=a.nullstateCtas;e=e.welcomeText;var f=k(c("MWPreloadedText")),g,i;b[0]!==a||b[1]!==e?(g=h._(/*BTDS*/"__JHASH__zLWQrS74qZX__JHASH__"),i=e!==g.toString()&&a.length>0,b[0]=a,b[1]=e,b[2]=g,b[3]=i):(g=b[2],i=b[3]);a=i;if(f.text!=null||!a&&e==null)return null;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xurb0ha x1sxyh0"},b[4]=i):i=b[4];b[5]!==e?(f=e!=null&&j.jsx("div",babelHelpers["extends"]({className:"x1hhzuzn"},{children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:e})})),b[5]=e,b[6]=f):f=b[6];b[7]!==g||b[8]!==a?(e=a&&j.jsx("div",babelHelpers["extends"]({className:"x1hhzuzn"},{children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:g})})),b[7]=g,b[8]=a,b[9]=e):e=b[9];b[10]!==f||b[11]!==e?(g=j.jsxs("div",babelHelpers["extends"]({},i,{children:[f,e]})),b[10]=f,b[11]=e,b[12]=g):g=b[12];return g}g["default"]=a}),226);
__d("MWThreadNullstatePrivacyText.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSNullstateCTAType","MWPreloadedText","MWXLink.react","MWXText.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","gkx","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useContext;function a(a){var b=d("react-compiler-runtime").c(22),e=a.nullstate,f=a.threadKey;a=a.threadTitle;var g=m(c("MWPreloadedText")),i=e.privacyText,o=e.privacyTextCtaTitle,p=e.privacyTextNonWelcomeScreen,q;b[0]!==a?(q=h._(/*BTDS*/"__JHASH__pMA_7iE0GY1__JHASH__",[h._param("name",a),h._param("= public info link",l.jsx(c("MWXLink.react"),{color_DEPRECATED:"primary",href:"https://www.facebook.com/help/messenger-app/719578818758231",role:"link",target:"_blank",children:l.jsx(c("MWXText.react"),{type:"body4",children:h._(/*BTDS*/"__JHASH__WAqQCKR95Tr__JHASH__")})}))]),b[0]=a,b[1]=q):q=b[1];a=q;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(q=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWThreadNullstatePrivacyText.react"),b[2]=q):q=b[2];q=c("useMWXLazyDialog")(q);var r=q[0];b[3]!==r||b[4]!==f?(q=function(){r({entryPoint:"NULL_STATE",threadKey:f},n),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"NULL_STATE",page_id:(j||(j=d("I64"))).to_string(f)}})},b[3]=r,b[4]=f,b[5]=q):q=b[5];var s;b[6]!==o?(s=o!=null?l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:o}):null,b[6]=o,b[7]=s):s=b[7];b[8]!==q||b[9]!==s?(o=l.jsx(c("MWXLink.react"),{color_DEPRECATED:"primary",onClick:q,role:"link",target:"_blank",children:s}),b[8]=q,b[9]=s,b[10]=o):o=b[10];q=o;s=g.text!=null&&!!p;b[11]!==i||b[12]!==p||b[13]!==s?(o=s||i!=null?l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:s?p:i}):null,b[11]=i,b[12]=p,b[13]=s,b[14]=o):o=b[14];g=o;b[15]!==a||b[16]!==e.privacyTextCtaType||b[17]!==g||b[18]!==q?(i=c("gkx")("24144")&&(j||(j=d("I64"))).equal(e.privacyTextCtaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").PRIVACY_DISCLOSURE))?l.jsxs(l.Fragment,{children:[g," ",q]}):a,b[15]=a,b[16]=e.privacyTextCtaType,b[17]=g,b[18]=q,b[19]=i):i=b[19];b[20]!==i?(p=l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:i}),b[20]=i,b[21]=p):p=b[21];return p}function n(){}g["default"]=a}),226);
__d("MWV2ThreadNullstateCTAs.react",["I64","Int64Hooks","LSIntEnum","LSNullstateCTAType","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","react","react-compiler-runtime","stylex","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i.useState,n={cta_list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},cta_list_item_center:{alignSelf:"xamitd3",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(20),e=a.initiatingSource,f=a.lsSource,g=a.nullstate,i=a.nullstateCtas,p=a.threadKey;a=a.threadType;var q=c("useMWV2SendIcebreakerMessage")(p,a,f,e);b[0]!==i?(a=i.map(o).filter(Boolean),b[0]=i,b[1]=a):a=b[1];var r=a;f=m(!1);var s=f[0],t=f[1];b[2]!==r||b[3]!==s||b[4]!==p?(e=function(){if(!s&&r.length>0){t(!0);var a=(j||(j=d("I64"))).to_string(p);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:r,num_items:String(r.length),type:60},page:{id:a}}})}},a=[s,r,p],b[2]=r,b[3]=s,b[4]=p,b[5]=e,b[6]=a):(e=b[5],a=b[6]);f=d("Int64Hooks").useCallbackInt64(e,a);b[7]!==f?(e={onVisible:f},b[7]=f,b[8]=e):e=b[8];a=c("useVisibilityObserver")(e);b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xuk3077 x78zum5 xdt5ytf xl56j7k xdj266r x11i5rnm xat24cr x1mh8g0r"},b[9]=f):f=b[9];if(b[10]!==g||b[11]!==i||b[12]!==q){b[14]!==g||b[15]!==q?(e=function(a){var b=(j||(j=d("I64"))).equal(g.ctaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED))&&g.ctaId!=null&&(j||(j=d("I64"))).equal(g.ctaId,a.ctaId);return l.createElement("li",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(n.cta_list_item,b?n.cta_list_item_center:!1),{key:(j||(j=d("I64"))).to_string(a.ctaId)}),l.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return q(g,a)},children:a.title}))},b[14]=g,b[15]=q,b[16]=e):e=b[16];e=i.map(e);b[10]=g;b[11]=i;b[12]=q;b[13]=e}else e=b[13];b[17]!==a||b[18]!==e?(i=l.jsx("ul",babelHelpers["extends"]({},f,{ref:a,children:e})),b[17]=a,b[18]=e,b[19]=i):i=b[19];return i}function o(a){return a.ctaIdentifier}g["default"]=a}),98);
__d("MWV2ThreadNullstate.react",["Int64Hooks","LSThreadTitle.react","MWPreloadedText","MWThreadNullstateGreetingAndInstruction.react","MWThreadNullstatePrivacyText.react","MWV2ThreadNullstateCTAs.react","MWXScrollableArea.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={privacy_text_offset:{backgroundColor:"x1eb86dx",paddingBottom:"xg8j3zb",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(23),e=a.initiatingSource,f=a.lsSource,g=a.nullstate,h=a.nullstateCtas,m=a.threadKey,n=a.threadName;a=a.threadType;f=f===void 0?"unknown":f;var o=j(c("MWPreloadedText")),p=g.privacyText,q;b[0]!==g||b[1]!==h?(q=i.jsx(c("MWThreadNullstateGreetingAndInstruction.react"),{nullstate:g,nullstateCtas:h}),b[0]=g,b[1]=h,b[2]=q):q=b[2];var r;b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==h||b[7]!==o.text||b[8]!==m||b[9]!==a?(r=o.text!=null?null:i.jsx(c("MWV2ThreadNullstateCTAs.react"),{initiatingSource:e,lsSource:f,nullstate:g,nullstateCtas:h,threadKey:m,threadType:a}),b[3]=e,b[4]=f,b[5]=g,b[6]=h,b[7]=o.text,b[8]=m,b[9]=a,b[10]=r):r=b[10];b[11]!==g||b[12]!==p||b[13]!==m||b[14]!==n||b[15]!==a?(e=p!=null?i.jsx("div",babelHelpers["extends"]({className:"xx6bls6 xurb0ha x1sxyh0"},{children:i.jsx(c("MWThreadNullstatePrivacyText.react"),{nullstate:g,threadKey:m,threadTitle:i.jsx(c("LSThreadTitle.react"),{thread:{threadKey:m,threadName:n,threadType:a},wrapOutput:l})})})):null,b[11]=g,b[12]=p,b[13]=m,b[14]=n,b[15]=a,b[16]=e):e=b[16];b[17]!==q||b[18]!==r||b[19]!==e?(f=i.jsxs("div",{children:[q,r,e]}),b[17]=q,b[18]=r,b[19]=e,b[20]=f):f=b[20];h=f;b[21]!==h?(o=i.jsx(c("MWXScrollableArea.react"),{xstyle:k.privacy_text_offset,children:h}),b[21]=h,b[22]=o):o=b[22];return o}function l(a,b){return b}b=i.memo(a,d("Int64Hooks").mostlyShallowEqual);g["default"]=b}),98);
__d("SelectiveSyncTTRCLogger.react",["CometPlaceholder.react","I64","Int64Hooks","LSIntEnum","LSThreadPointQueryTTRCStatus","MWCMSelectiveSyncTTRCQPLLoggingUtils","Random","ReQL","ReQLSuspense","areEqual","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react")),n=l.useRef;function o(a){var b=d("react-compiler-runtime").c(40),e=a.instanceKey,g=a.isReportThreadViewOpenSprocCalled,l=a.reportThreadViewOpenCalledTimestamp,m=a.setInstanceKey,o=a.threadKey,p=a.threadSubtype,q=a.threadType,r=n(!1);a=(h||(h=c("useReStore")))();var s;b[0]!==a.tables.messages||b[1]!==o?(s=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.tables.messages.index("messageDisplayOrder")).getKeyRange(o).take(20),f.id+":56"),b[0]=a.tables.messages,b[1]=o,b[2]=s):s=b[2];var t=s;b[3]!==a.tables.reactions||b[4]!==o?(s=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.tables.reactions).getKeyRange(o).take(20),f.id+":61"),b[3]=a.tables.reactions,b[4]=o,b[5]=s):s=b[5];var u=s;b[6]!==a.tables.reactions_v2||b[7]!==o?(s=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.tables.reactions_v2).getKeyRange(o).take(20),f.id+":64"),b[6]=a.tables.reactions_v2,b[7]=o,b[8]=s):s=b[8];var v=s;b[9]!==e||b[10]!==g||b[11]!==o||b[12]!==p||b[13]!==q?(a=function(){g===!1&&(r.current=!0,d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logEventStreamStart(e,o,q,p))},b[9]=e,b[10]=g,b[11]=o,b[12]=p,b[13]=q,b[14]=a):a=b[14];b[15]!==e||b[16]!==g||b[17]!==l||b[18]!==o||b[19]!==p||b[20]!==q?(s=[e,g,l,o,p,q],b[15]=e,b[16]=g,b[17]=l,b[18]=o,b[19]=p,b[20]=q,b[21]=s):s=b[21];d("Int64Hooks").useEffectInt64(a,s);var w=n(t),x=n(u),y=n(v),z=d("MWCMSelectiveSyncTTRCQPLLoggingUtils").useTPQEntry(o);b[22]!==e||b[23]!==t||b[24]!==u||b[25]!==v||b[26]!==l||b[27]!==m||b[28]!==(z==null?void 0:z.dasmExecutionTimestampMs)||b[29]!==(z==null?void 0:z.deltaInsertionTimestampMs)||b[30]!==(z==null?void 0:z.status)?(a=function(){var a=z==null?void 0:z.status,b=z==null?void 0:z.deltaInsertionTimestampMs,f=z==null?void 0:z.dasmExecutionTimestampMs;if(r.current===!0&&l!==0)if(a&&(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadPointQueryTTRCStatus").SKIPPED)))d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logSkippedEndSuccess(e),r.current=!1,m(c("Random").uint32());else if(a!=null&&(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadPointQueryTTRCStatus").COMPLETED))&&b!=null&&(j||(j=d("I64"))).to_float(b)>l){d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logPoint(e,"selective_sync_remediation_end");a=!d("MWCMSelectiveSyncTTRCQPLLoggingUtils").isMessageDataUnchanged(w.current,t);var g=!(i||(i=c("areEqual")))(x.current,u),h=!i(y.current,v);a||g||h?d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logCompleteEndSuccess(e,"true",f!=null?(j||(j=d("I64"))).to_float(f):void 0):d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logCompleteEndSuccess(e,"false",b!=null?(j||(j=d("I64"))).to_float(b):void 0);w.current=t;x.current=u;y.current=v;r.current=!1;m(c("Random").uint32())}},b[22]=e,b[23]=t,b[24]=u,b[25]=v,b[26]=l,b[27]=m,b[28]=z==null?void 0:z.dasmExecutionTimestampMs,b[29]=z==null?void 0:z.deltaInsertionTimestampMs,b[30]=z==null?void 0:z.status,b[31]=a):a=b[31];b[32]!==e||b[33]!==t||b[34]!==u||b[35]!==v||b[36]!==l||b[37]!==m||b[38]!==z?(s=[e,t,u,v,l,m,z],b[32]=e,b[33]=t,b[34]=u,b[35]=v,b[36]=l,b[37]=m,b[38]=z,b[39]=s):s=b[39];d("Int64Hooks").useEffectInt64(a,s);return null}function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"SelectiveSyncTTRCLogger",children:m.jsx(o,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("useReportThreadViewOpenDebounced",["LSFactory","LSReportThreadViewOpenStoredProcedure","promiseDone","react-compiler-runtime","useDebouncedComet","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("react-compiler-runtime").c(5),g=(h||(h=c("useReStore")))(),i;e[0]!==g||e[1]!==a?(i=function(){c("promiseDone")(g.runInTransaction(function(b){return c("LSReportThreadViewOpenStoredProcedure")(c("LSFactory")(b),{threadKey:a})},"readwrite",void 0,void 0,f.id+":33"))},e[0]=g,e[1]=a,e[2]=i):i=e[2];var j;e[3]!==b?(j={leading:!0,wait:b},e[3]=b,e[4]=j):j=e[4];return c("useDebouncedComet")(i,j)}g["default"]=a}),98);
__d("useMWReportThreadOpenOnMountAndFocusWithLogger",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWCMSelectiveSyncTTRCQPLLoggingUtils","MetaConfig","Random","SelectiveSyncTTRCLogger.react","ServerTime","VisibilityAPI","mwCMIsAnyCMThread","react","useReStore","useReportThreadViewOpenDebounced"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useRef,m=b.useState,n=c("MetaConfig")._("43");function a(a,b){var e=(h||(h=c("useReStore")))(),f=m(0),g=f[0],j=f[1];f=m(d("Random").uint32());var o=f[0];f=f[1];var p=c("mwCMIsAnyCMThread")(a.threadType),q=l(!1),r=p||c("MetaConfig")._("55")&&(d("LSMessagingThreadTypeUtil").isSocialChannelV2(a.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)),s=c("useReportThreadViewOpenDebounced")(a.threadKey,(b=b)!=null?b:n);d("Int64Hooks").useEffectInt64(function(){var b=null;r&&(b=d("VisibilityAPI").onVisibilityChange(function(){d("VisibilityAPI").isVisibilityHidden()||s()}),p&&d("GroupsCometChatsEngagementLogger").log({action:"background_effect",community_id:(i||(i=d("I64"))).to_string(a.parentThreadKey),event:"report_thread_view_open",source:"blended_threadlist_community_tab",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(a.threadKey)}),q.current===!1&&(j(d("ServerTime").getMillis()),q.current=!0,d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logPoint(o,"selective_sync_remediation_start"),s()));return function(){b!=null&&d("VisibilityAPI").removeVisibiltyChangeListener(b)}},[e,a.parentThreadKey,a.threadKey,a.threadType,p,o,r,s]);return r?k.jsx(c("SelectiveSyncTTRCLogger.react"),{instanceKey:o,isReportThreadViewOpenSprocCalled:q.current,reportThreadViewOpenCalledTimestamp:g,setInstanceKey:f,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePageletMetadata",["CometHeroInteractionContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useLayoutEffect;function a(a,b){var e=d("react-compiler-runtime").c(5),f=i(c("CometHeroInteractionContext").Context),g,h;e[0]!==f||e[1]!==a||e[2]!==b?(g=function(){f.logMetadata(a,b,f.pageletStack);return function(){f.logMetadata(a,null,f.pageletStack)}},h=[f,a,b],e[0]=f,e[1]=a,e[2]=b,e[3]=g,e[4]=h):(g=e[3],h=e[4]);j(g,h)}g["default"]=a}),98);
__d("MWOpenThreadDetail.react",["CometDebounce","CometPageletWithDiv.react","CometPlaceholder.react","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSFetchAdditionalThreadDataStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMAutoJoinNotifNUX.react","MWCMThreadTypes.react","MWChatUnsendNUX.react","MWChatXACSunsettingBanner.react","MWContextBanner.react","MWContextBannerWithKeyboardFocus.react","MWLSThreadDisplayContext","MWMessageList","MWPActor.react","MWPMessageListColumn.react","MWPQuickReplies.react","MWPersistentIcebreakers","MWPreloadableQueries","MWQuickPromotionThreadViewBannerContainer.react","MWV2ThreadNullstate.react","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","cr:1598","cr:1600","cr:1690","cr:4723","cr:488","cr:5483","cr:9056","gkx","logMessengerWebFalcoEvent","promiseDone","react","react-compiler-runtime","useCommunityFolder","useLSMessagingInitiatingSource","useMWReportThreadOpenOnMountAndFocusWithLogger","usePageletMetadata","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||d("react"),n=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function o(a){var b=d("react-compiler-runtime").c(11),e=(k||(k=c("useReStore")))(),g,h;b[0]!==e||b[1]!==a?(g=function(){return d("MWPreloadableQueries").threadNullStateQuery(e,a)},h=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);g=d("ReQLSuspense").useFirst(g,h,f.id+":97");var i;b[4]!==e||b[5]!==a?(h=function(){return d("MWPreloadableQueries").threadNullStateCtaQuery(e,a)},i=[e,a],b[4]=e,b[5]=a,b[6]=h,b[7]=i):(h=b[6],i=b[7]);h=d("ReQLSuspense").useArray(h,i,f.id+":104");b[8]!==g||b[9]!==h?(i=[g,h],b[8]=g,b[9]=h,b[10]=i):i=b[10];return i}function p(a,e){var f=d("react-compiler-runtime").c(10),g=(k||(k=c("useReStore")))(),j;f[0]!==g.tables.messages||f[1]!==g.tables.reactions||f[2]!==g.tables.threads||f[3]!==e||f[4]!==a?(j=function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableDescending(g.tables.threads).getKeyRange(a)),d("ReQL").firstAsync(d("ReQL").fromTableDescending(g.tables.messages).getKeyRange(a)),d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(g.tables.reactions).getKeyRange(a).take(20))])),f=c[0],j=c[1];c=c[2];if(j==null||f==null)return;c=c.reduce(q,(i||(i=d("I64"))).zero);j=i.max(j.timestampMs,c);c=i.compare(j,f.lastActivityTimestampMs)>-1;n({threadKey:f.threadKey,threadType:f.threadType},"thread_and_message_list_last_activity_mismatch",e,{hasMissingMessage:!c,threadLastActivityTimeMs:i.to_string(f.lastActivityTimestampMs),threadLastMessageTimeMs:i.to_string(j)})})())},f[0]=g.tables.messages,f[1]=g.tables.reactions,f[2]=g.tables.threads,f[3]=e,f[4]=a,f[5]=j):j=f[5];var l;f[6]!==g||f[7]!==e||f[8]!==a?(l=[g,e,a],f[6]=g,f[7]=e,f[8]=a,f[9]=l):l=f[9];d("Int64Hooks").useEffectInt64(j,l)}function q(a,b){return(i||(i=d("I64"))).max(a,(a=b.reactionCreationTimestampMs)!=null?a:(i||(i=d("I64"))).zero)}function r(a){var e=d("react-compiler-runtime").c(116),g=a.entryPoint,h=a.messageListRef,l=a.thread,n=(k||(k=c("useReStore")))();a=o(l.threadKey);var q=a[0],r=a[1];e[0]!==n.tables.cm_channel_list||e[1]!==l.threadKey?(a=function(){return d("ReQL").fromTableAscending(n.tables.cm_channel_list.index("threadIdCommunityId"),["channelPrivacy"]).getKeyRange(l.threadKey)},e[0]=n.tables.cm_channel_list,e[1]=l.threadKey,e[2]=a):a=e[2];var t;e[3]!==n||e[4]!==l.threadKey?(t=[n,l.threadKey],e[3]=n,e[4]=l.threadKey,e[5]=t):t=e[5];a=d("ReQLSuspense").useFirst(a,t,f.id+":196");t=(t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(n.tables.threads,["lastActivityTimestampMs"]).getKeyRange(l.threadKey).map(s)},[n,l.threadKey],f.id+":205"))!=null?t:!1;var u;e[6]!==l.threadType?(u=(i||(i=d("I64"))).to_string(l.threadType),e[6]=l.threadType,e[7]=u):u=e[7];c("usePageletMetadata")("threadType",u);e[8]===Symbol["for"]("react.memo_cache_sentinel")?(u=d("MWPActor.react").isAPPlus(),e[8]=u):u=e[8];u=u;var v;e[9]!==l.threadType?(v=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(l.threadType),e[9]=l.threadType,e[10]=v):v=e[10];v=v;var w=c("useLSMessagingInitiatingSource")(),x;e[11]!==l?(x=b("cr:9056")!=null?m.jsx(b("cr:9056"),{thread:l}):null,e[11]=l,e[12]=x):x=e[12];x=x;var y;e[13]!==l.threadType?(y=d("MWCMThreadTypes.react").isJoinedCMThread(l.threadType),e[13]=l.threadType,e[14]=y):y=e[14];y=y;var z;e[15]!==y||e[16]!==l?(z=d("LSThreadBitOffset").has(167,l)&&y,e[15]=y,e[16]=l,e[17]=z):z=e[17];var A=z;e[18]!==l?(z=d("LSThreadBitOffset").has(193,l),e[18]=l,e[19]=z):z=e[19];z=z;var B,C;e[20]!==n||e[21]!==A||e[22]!==l.threadKey?(B=function(){A&&c("promiseDone")(n.runInTransaction(function(a){return c("LSFetchAdditionalThreadDataStoredProcedure")(c("LSFactory")(a),{threadKey:l.threadKey})},"readwrite",void 0,void 0,f.id+":240"))},C=[n,l.threadKey,A],e[20]=n,e[21]=A,e[22]=l.threadKey,e[23]=B,e[24]=C):(B=e[23],C=e[24]);d("Int64Hooks").useEffectInt64(B,C);e[25]!==w||e[26]!==r||e[27]!==l.threadKey||e[28]!==l.threadType?(B=function(){return m.jsxs(m.Fragment,{children:[m.jsx(c("MWPQuickReplies.react"),{threadKey:l.threadKey}),m.jsx(c("MWPersistentIcebreakers"),{initiatingSource:w,lsSource:"inboxInThread",nullstateCtas:r,threadKey:l.threadKey,threadType:l.threadType})]})},C=[l.threadKey,l.threadType,r,w],e[25]=w,e[26]=r,e[27]=l.threadKey,e[28]=l.threadType,e[29]=B,e[30]=C):(B=e[29],C=e[30]);B=d("Int64Hooks").useCallbackInt64(B,C);var D;e[31]!==l.threadKey||e[32]!==l.threadType?(C=function(){return m.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),m.jsx(c("MWContextBannerWithKeyboardFocus.react"),{threadKey:l.threadKey,threadType:l.threadType}),m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},D=[l.threadKey,l.threadType],e[31]=l.threadKey,e[32]=l.threadType,e[33]=C,e[34]=D):(C=e[33],D=e[34]);C=d("Int64Hooks").useCallbackInt64(C,D);p(l.threadKey,g);D=c("useCommunityFolder")(l);var E=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();E=E!=null&&E==="ChatTab";var F;e[35]!==(a==null?void 0:a.channelPrivacy)?(F=(a==null?void 0:a.channelPrivacy)!=null&&(i||(i=d("I64"))).equal(a==null?void 0:a.channelPrivacy,(j||(j=d("LSIntEnum"))).ofNumber(2)),e[35]=a==null?void 0:a.channelPrivacy,e[36]=F):F=e[36];a=F;F=c("gkx")("23433");var G=c("gkx")("23434"),H;e[37]!==l.authorityLevel?(H=(i||(i=d("I64"))).ge(l.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),e[37]=l.authorityLevel,e[38]=H):H=e[38];H=H;var I;e[39]!==E||e[40]!==l?(I=b("cr:4723")!=null&&!E?m.jsx(b("cr:4723"),{thread:l}):null,e[39]=E,e[40]=l,e[41]=I):I=e[41];E=I;e[42]!==l?(I=b("cr:1690")!=null?m.jsx(b("cr:1690"),{thread:l}):null,e[42]=l,e[43]=I):I=e[43];I=I;var J;e[44]!==z?(J=c("MWChatXACSunsettingBanner.react")!=null&&z?m.jsx(c("MWChatXACSunsettingBanner.react"),{}):null,e[44]=z,e[45]=J):J=e[45];z=J;e[46]!==a||e[47]!==y||e[48]!==l.parentThreadKey?(J=b("cr:5483")!=null&&y&&!a?m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWOpenThreadDetail.CommunityMessagingNUXDialog",children:m.jsx(b("cr:5483"),{folderId:l.parentThreadKey})}):null,e[46]=a,e[47]=y,e[48]=l.parentThreadKey,e[49]=J):J=e[49];J=J;e[50]!==a||e[51]!==y||e[52]!==l.parentThreadKey||e[53]!==l.threadKey?(F=b("cr:1598")!=null&&y&&a&&F?m.jsx(b("cr:1598"),{groupId:l.parentThreadKey,threadId:l.threadKey}):null,e[50]=a,e[51]=y,e[52]=l.parentThreadKey,e[53]=l.threadKey,e[54]=F):F=e[54];F=F;e[55]!==a||e[56]!==y||e[57]!==l.parentThreadKey||e[58]!==l.threadKey?(G=b("cr:488")!=null&&y&&a&&G?m.jsx(b("cr:488"),{groupId:l.parentThreadKey,threadId:l.threadKey}):null,e[55]=a,e[56]=y,e[57]=l.parentThreadKey,e[58]=l.threadKey,e[59]=G):G=e[59];a=G;e[60]!==(D==null?void 0:D.fbGroupId)||e[61]!==(D==null?void 0:D.folderId)||e[62]!==H||e[63]!==l.threadKey?(y=H?m.jsx(c("MWQuickPromotionThreadViewBannerContainer.react"),{communityId:D==null?void 0:D.folderId,fbGroupId:D==null?void 0:D.fbGroupId,threadId:l.threadKey}):null,e[60]=D==null?void 0:D.fbGroupId,e[61]=D==null?void 0:D.folderId,e[62]=H,e[63]=l.threadKey,e[64]=y):y=e[64];G=y;D=c("useMWReportThreadOpenOnMountAndFocusWithLogger")(l);if(q!=null&&!t){e[65]!==l?(H=m.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:l}),e[65]=l,e[66]=H):H=e[66];e[67]!==l.threadKey||e[68]!==l.threadType?(y=m.jsx(c("MWContextBanner.react"),{threadKey:l.threadKey,threadType:l.threadType}),e[67]=l.threadKey,e[68]=l.threadType,e[69]=y):y=e[69];e[70]===Symbol["for"]("react.memo_cache_sentinel")?(t=m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),e[70]=t):t=e[70];var K;e[71]!==w||e[72]!==q||e[73]!==r||e[74]!==l.threadKey||e[75]!==l.threadName||e[76]!==l.threadType?(K=m.jsx(c("MWV2ThreadNullstate.react"),{initiatingSource:w,lsSource:"inboxInThread",nullstate:q,nullstateCtas:r,threadKey:l.threadKey,threadName:l.threadName,threadType:l.threadType}),e[71]=w,e[72]=q,e[73]=r,e[74]=l.threadKey,e[75]=l.threadName,e[76]=l.threadType,e[77]=K):K=e[77];e[78]!==x||e[79]!==a||e[80]!==z||e[81]!==F||e[82]!==J||e[83]!==E||e[84]!==I||e[85]!==G||e[86]!==D||e[87]!==H||e[88]!==y||e[89]!==K?(q=m.jsxs(m.Fragment,{children:[D,G,x,H,I,J,F,a,z,E,y,t,K]}),e[78]=x,e[79]=a,e[80]=z,e[81]=F,e[82]=J,e[83]=E,e[84]=I,e[85]=G,e[86]=D,e[87]=H,e[88]=y,e[89]=K,e[90]=q):q=e[90];return q}e[91]!==l?(t=m.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:l}),e[91]=l,e[92]=t):t=e[92];e[93]===Symbol["for"]("react.memo_cache_sentinel")?(H=m.jsx(c("MWChatUnsendNUX.react"),{senderUnsendNUXEnabled:!0}),e[93]=H):H=e[93];e[94]!==g||e[95]!==h||e[96]!==B||e[97]!==C||e[98]!==l?(y=m.jsx(c("MWMessageList"),{entryPoint:g,ref:h,renderFooter:B,renderHeader:C,thread:l}),e[94]=g,e[95]=h,e[96]=B,e[97]=C,e[98]=l,e[99]=y):y=e[99];e[100]!==v||e[101]!==l?(K=u&&v&&b("cr:1600")!=null?m.jsx(b("cr:1600"),{thread:l}):null,e[100]=v,e[101]=l,e[102]=K):K=e[102];e[103]!==x||e[104]!==a||e[105]!==z||e[106]!==F||e[107]!==J||e[108]!==E||e[109]!==I||e[110]!==G||e[111]!==D||e[112]!==t||e[113]!==y||e[114]!==K?(q=m.jsxs(m.Fragment,{children:[D,G,x,t,I,z,J,F,a,H,E,y,K]}),e[103]=x,e[104]=a,e[105]=z,e[106]=F,e[107]=J,e[108]=E,e[109]=I,e[110]=G,e[111]=D,e[112]=t,e[113]=y,e[114]=K,e[115]=q):q=e[115];return q}function s(a){a=a.lastActivityTimestampMs;return!(i||(i=d("I64"))).equal(a,i.zero)}function a(a){var b=d("react-compiler-runtime").c(5),c=a.entryPoint,e=a.messageListRef;a=a.thread;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",b[0]=f):f=b[0];b[1]!==c||b[2]!==e||b[3]!==a?(f=m.jsx(d("CometPageletWithDiv.react").Div,{className:f,name:"MWOpenThreadDetail",children:m.jsx(r,{entryPoint:c,messageListRef:e,thread:a})}),b[1]=c,b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("MWOpenAndSecureThreadView.react",["I64","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","MWOpenThreadDetail.react","MWPAudioPlaybackThreadContext.react","MWPThreadGradientBackground.react","MWThreadLiveLocationSessionsContext.react","MessengerWebUXLogger","cr:2441","cr:9772","promiseDone","react","react-compiler-runtime","useAsyncReStoreBulkFix","useGroupsCometChatsEngagementImpressionLogger","useIsChatPreviewsEnabled","useIsReactionsV2Enabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;f=e.memo;var l=e.useEffect;function a(a){var e=d("react-compiler-runtime").c(33),f=a.entryPoint,g=a.isMinimizedChatTab,h=a.messageListRef;a=a.thread;g=g===void 0?!1:g;var j=d("useAsyncReStoreBulkFix").useReStoreHook(),n=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a.threadKey),o;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(o={eventName:"thread_view_impression"},e[0]=o):o=e[0];o=c("MessengerWebUXLogger").useImpressionLoggerRef(o);var p;e[1]!==f?(p=f?{entry_point:f}:void 0,e[1]=f,e[2]=p):p=e[2];var q;e[3]!==a.parentThreadKey?(q=(i||(i=d("I64"))).to_string(a.parentThreadKey),e[3]=a.parentThreadKey,e[4]=q):q=e[4];var r;e[5]!==a.threadKey?(r=(i||(i=d("I64"))).to_string(a.threadKey),e[5]=a.threadKey,e[6]=r):r=e[6];var s;e[7]!==p||e[8]!==q||e[9]!==r?(s={client_extras:p,community_id:q,event:"chat_preview_open",surface:"chat_preview",thread_id:r},e[7]=p,e[8]=q,e[9]=r,e[10]=s):s=e[10];p=c("useGroupsCometChatsEngagementImpressionLogger")(s);e[11]!==j||e[12]!==n?(q=function(){n&&d("useAsyncReStoreBulkFix").onDbReady(j,m)},r=[j,n],e[11]=j,e[12]=n,e[13]=q,e[14]=r):(q=e[13],r=e[14]);l(q,r);e[15]!==a.threadType?(s=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),e[15]=a.threadType,e[16]=s):s=e[16];q=s;r=d("useIsChatPreviewsEnabled").useIsChatPreviewsEnabled(a.threadKey);e[17]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x78zum5 xdt5ytf x1iyjqo2"},e[17]=s):s=e[17];r=r?p:o;e[18]!==f||e[19]!==q||e[20]!==h||e[21]!==a?(p=b("cr:9772")==null||!q?k.jsx(c("MWOpenThreadDetail.react"),{entryPoint:f,messageListRef:h,thread:a}):k.jsx(d("MWThreadLiveLocationSessionsContext.react").MAWThreadLiveLocationContextProvider,{children:k.jsx(b("cr:9772"),{entryPoint:f,messageListRef:h,thread:a})}),e[18]=f,e[19]=q,e[20]=h,e[21]=a,e[22]=p):p=e[22];e[23]!==g||e[24]!==a.threadKey?(o=b("cr:2441")&&k.jsx(b("cr:2441"),{isMinimizedChatTab:g,threadKey:a.threadKey}),e[23]=g,e[24]=a.threadKey,e[25]=o):o=e[25];e[26]!==p||e[27]!==o||e[28]!==a.threadKey?(f=k.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:k.jsxs(d("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{threadKey:a.threadKey,children:[p,o]})}),e[26]=p,e[27]=o,e[28]=a.threadKey,e[29]=f):f=e[29];e[30]!==r||e[31]!==f?(q=k.jsx("div",babelHelpers["extends"]({},s,{ref:r,children:f})),e[30]=r,e[31]=f,e[32]=q):q=e[32];return q}function m(a){c("promiseDone")(d("MWLSDatabaseLazySync").sync(a,(j||(j=d("LSIntEnum"))).ofNumber(118)))}e=f(a);g["default"]=e}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["fbt","CometAccessibilityAnnouncementForDynamicContent.react","CometErrorBoundary.react","CometPageletWithDiv.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","MWPActor.react","MWPAttachmentDataContext","MWPForwardedContent","Promise","ReQL","ServerTime","clearTimeout","cr:2472","getMWPAttachmentMessageAnnouncement","mwpMessageHasAttachment","promiseDone","react","react-compiler-runtime","setTimeout","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||(k=d("react"));e=k;e.useCallback;var o=e.useEffect,p=e.useRef,q=e.useState;function r(a){var b=d("react-compiler-runtime").c(2),c=a.message;a=a.outgoing;c=d("MWPForwardedContent").useTitle(c,a);b[0]!==c?(a=h._(/*BTDS*/"__JHASH__Q9FyIHvWIxM__JHASH__",[h._param("forward title",c)]),b[0]=c,b[1]=a):a=b[1];return a}function s(a){var b=d("react-compiler-runtime").c(11),e=a.message,f=a.participant;a=a.sender;var g=d("MWPActor.react").useActor(),i;b[0]!==g||b[1]!==a.id?(i=(l||(l=d("I64"))).equal(a.id,g),b[0]=g,b[1]=a.id,b[2]=i):i=b[2];g=i;i=e.replySourceTypeV2!=null&&(l||(l=d("I64"))).equal(e.replySourceTypeV2,(m||(m=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));f=(f=(f=f==null?void 0:f.nickname)!=null?f:a.firstName)!=null?f:a.name;if(i){b[3]!==g||b[4]!==e?(a=n.jsx(r,{message:e,outgoing:g}),b[3]=g,b[4]=e,b[5]=a):a=b[5];return a}i=e.replySnippet;if(i!=null){b[6]!==i?(a=h._(/*BTDS*/"__JHASH__LPdQYmdaw5d__JHASH__",[h._param("reply snippet",i)]),b[6]=i,b[7]=a):a=b[7];return a}else if(g){b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__1b0bN0cduWX__JHASH__"),b[8]=e):e=b[8];return e}else{b[9]!==f?(i=h._(/*BTDS*/"__JHASH__3ymXOGN3z8-__JHASH__",[h._param("name of sender",f)]),b[9]=f,b[10]=i):i=b[10];return i}}function t(a){var b=d("react-compiler-runtime").c(2);a=a.message;a=d("MWPAttachmentDataContext").useMWPGetAttachments(a);var e;b[0]!==a?(e=c("getMWPAttachmentMessageAnnouncement")(a),b[0]=a,b[1]=e):e=b[1];return e}function u(a){var e=d("react-compiler-runtime").c(14),f=a.message,g=a.participant;a=a.sender;var h=q(!1),i=h[0],j=h[1],k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){var a=c("setTimeout")(function(){return j(!0)},100);return function(){c("clearTimeout")(a)}},k=[],e[0]=h,e[1]=k):(h=e[0],k=e[1]);o(h,k);if(!i)return null;e[2]!==f.text?(h=f.text!=null&&b("cr:2472")!=null?b("cr:2472").unvault(f.text):f.text,e[2]=f.text,e[3]=h):h=e[3];k=h;e[4]!==f||e[5]!==g||e[6]!==a?(i=n.jsx(s,{message:f,participant:g,sender:a}),e[4]=f,e[5]=g,e[6]=a,e[7]=i):i=e[7];h=k!=null?k:null;e[8]!==f?(g=c("mwpMessageHasAttachment")(f)?n.jsx(t,{message:f}):null,e[8]=f,e[9]=g):g=e[9];e[10]!==i||e[11]!==h||e[12]!==g?(a=n.jsxs(c("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[i,h,g]}),e[10]=i,e[11]=h,e[12]=g,e[13]=a):a=e[13];return a}function v(a,e){var f=d("react-compiler-runtime").c(12),g=(j||(j=c("useReStore")))(),h=d("MWPActor.react").useActor(),k;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=d("ServerTime").getMillis(),f[0]=k):k=f[0];var m=p(k),n=e.threadKey;f[1]!==a||f[2]!==g.tables.contacts||f[3]!==g.tables.messages||f[4]!==g.tables.participants||f[5]!==n?(k=function(){return d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(n).subscribe(function(e,f){if(f.operation!=="add")return;var h=f.value;(l||(l=d("I64"))).to_float(h.timestampMs)>m.current&&(m.current=(l||(l=d("I64"))).to_float(h.timestampMs),c("promiseDone")((i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(h.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(h.threadKey,h.senderId))]),function(b){var c=b[0];b=b[1];if(c!=null)return a(h,c,b)}))})},f[1]=a,f[2]=g.tables.contacts,f[3]=g.tables.messages,f[4]=g.tables.participants,f[5]=n,f[6]=k):k=f[6];f[7]!==h||f[8]!==a||f[9]!==g||f[10]!==n?(e=[g,h,a,n],f[7]=h,f[8]=a,f[9]=g,f[10]=n,f[11]=e):e=f[11];d("Int64Hooks").useEffectInt64(k,e)}function w(a){var b=d("react-compiler-runtime").c(1);a=a.thread;var e=q(null),f=e[0],g=e[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a,b,e){if((l||(l=d("I64"))).equal(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return g(function(){return n.jsx(u,{message:a,participant:e,sender:b})})},b[0]=e):e=b[0];b=e;v(b,a);return f}function a(a){var b=d("react-compiler-runtime").c(4),e;b[0]!==a?(e=babelHelpers["extends"]({},a),b[0]=a,b[1]=e):e=b[1];b[2]!==e?(a=n.jsx(c("CometErrorBoundary.react"),{fallback:void 0,children:n.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPNewMessageAnnouncementForScreenReaders",children:n.jsx(w,babelHelpers["extends"]({},e))})}),b[2]=e,b[3]=a):a=b[3];return a}g["default"]=a}),226);
__d("MessengerViewOnceFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M7 18c0-6.075 4.925-11 11-11a1.25 1.25 0 1 1 0 2.5 8.5 8.5 0 0 0 0 17 1.25 1.25 0 1 1 0 2.5c-6.075 0-11-4.925-11-11zM22.25 10.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zM27.5 12.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM27.75 19.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zM27.5 23.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM22.25 28a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5z"}),i.jsx(d("XPlatReactSVG").Path,{d:"M19.448 13.134c.34.19.552.548.552.937v7.858a1.071 1.071 0 0 1-2.143 0v-5.667a.143.143 0 0 0-.218-.12l-1 .624a1.071 1.071 0 1 1-1.135-1.817l2.857-1.786c.33-.207.746-.218 1.087-.029z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWViewOnceMessageIcon",["MWXSvgIcon","MessengerViewOnceFilled.svg.react","SVGIcon"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(c("MessengerViewOnceFilled.svg.react")),!0);g["default"]=a}),98);
__d("MWRepliesRaven.react",["fbt","LSIntEnum","MWViewOnceMessageIcon","MWXIconStrict.react","MWXMessageReplyBubble.react","MessagingAttachmentType","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect,n=h._(/*BTDS*/"__JHASH__erSLCwH2gH2__JHASH__");function a(a){var b=d("react-compiler-runtime").c(17),e=a.mediaRenderQpl,g=a.message;a=a.outgoing;var k,o;b[0]!==e?(k=function(){e==null?void 0:e.addPoint("render-replies-raven")},o=[e],b[0]=e,b[1]=k,b[2]=o):(k=b[1],o=b[2]);m(k,o);var p=(i||(i=c("useReStore")))(),q=g.replySourceId,r=g.threadKey;b[3]!==p||b[4]!==q||b[5]!==r?(k=function(){return q!=null?d("ReQL").fromTableAscending(p.tables.attachments).getKeyRange(r,q):d("ReQL").empty()},o=[p,r,q],b[3]=p,b[4]=q,b[5]=r,b[6]=k,b[7]=o):(k=b[6],o=b[7]);g=d("ReQLSuspense").useFirst(k,o,f.id+":55");k=n;if(g!=null){o=(j||(j=d("LSIntEnum"))).unwrapIntEnum(g.attachmentType);bb0:switch(o){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:b[8]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"__JHASH__ZUGF0BOPIS7__JHASH__"),b[8]=g):g=b[8];k=g;break bb0;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:b[9]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"__JHASH___qBQkB3_Go4__JHASH__"),b[9]=o):o=b[9];k=o;break bb0;default:k=n}}g=k;var s;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x6s0dn4 x78zum5"},s=l.jsx("span",babelHelpers["extends"]({className:"x1lliihq x1w0mnb"},{children:l.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWViewOnceMessageIcon"),size:12})})),b[10]=o,b[11]=s):(o=b[10],s=b[11]);b[12]!==k?(g=l.jsxs("div",babelHelpers["extends"]({"aria-label":g},o,{children:[s,k]})),b[12]=k,b[13]=g):g=b[13];b[14]!==a||b[15]!==g?(o=l.jsx(c("MWXMessageReplyBubble.react"),{outgoing:a,children:g}),b[14]=a,b[15]=g,b[16]=o):o=b[16];return o}g["default"]=a}),226);
__d("MWVoiceRecordQpl",["MAWLoggerUtils","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25302342,"1531"),i=10*60*1e3;function a(){var a=d("MAWLoggerUtils").getInstanceKey();return{addAnnotations:function(b){c("QPLUserFlow").addAnnotations(h,b,{instanceKey:a})},addPoint:function(b,d){c("QPLUserFlow").addPoint(h,b,{data:d,instanceKey:a})},endCancel:function(b,d){c("QPLUserFlow").endCancel(h,{annotations:d,cancelReason:b,instanceKey:a})},endFail:function(b,d){c("QPLUserFlow").endFailure(h,b,{annotations:d,instanceKey:a})},endSuccess:function(b){c("QPLUserFlow").endSuccess(h,{annotations:b,instanceKey:a})},start:function(b){b=b.startInfo.isOpusRecorder;c("QPLUserFlow").start(h,{annotations:{bool:{isOpusRecorder:b}},cancelOnUnload:!0,instanceKey:a,timeoutInMs:i})}}}g.event=h;g.createVoiceRecordQpl=a}),98);
__d("MWXLinkPreviewLoadingIndicator.react",["MWXGlimmer.react","MWXIconLink","MWXIconStrict.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xng8ra",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5);a=a.title;if(a==null)return null;var e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x1amjocr x78zum5 x1q0g3np x5yr21d xc73u3c x5ib6vp"},f=i.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconLink"),size:16}),g={className:"x1iyjqo2"},b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==a?(e=i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmer,children:i.jsxs("div",babelHelpers["extends"]({},e,{children:[f,i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("MWXText.react"),{type:"body4",children:a})}))]}))}),b[3]=a,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("MWXLinkPreviewTruncateText",[],(function(a,b,c,d,e,f){"use strict";var g={body:100,headline:80,subtext:100},h={body:30,headline:20,subtext:30};function a(a){var b=a.isChatTab,c=a.position;a=a.text;b=b?h:g;b=b[c];if(a==null)return void 0;c=a.replace(/\r?\n|\r/g,"").trim();return c.length<=b?c:Array.from(c).slice(0,b).join("").trim()+"..."}f.truncateText=a}),66);
__d("MessengerArrowDownFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M24.616 18.366a1.25 1.25 0 0 1 1.768 1.768l-7.5 7.5a1.25 1.25 0 0 1-1.768 0l-7.5-7.5a1.25 1.25 0 0 1 1.768-1.768l4.94 4.94a.25.25 0 0 0 .426-.177V9.25a1.25 1.25 0 1 1 2.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MessengerChevronDownFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M8.866 14.116a1.25 1.25 0 0 1 1.768 0l7.19 7.19a.25.25 0 0 0 .353 0l7.19-7.19a1.25 1.25 0 0 1 1.767 1.768l-8.25 8.25a1.25 1.25 0 0 1-1.768 0l-8.25-8.25a1.25 1.25 0 0 1 0-1.768z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MessengerSidebarClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2305");b=d("FalcoLoggerInternal").create("messenger_sidebar_click_event",a);e=b;g["default"]=e}),98);
__d("MessengerSidebarConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2306");b=d("FalcoLoggerInternal").create("messenger_sidebar_conversion_click_event",a);e=b;g["default"]=e}),98);
__d("MessengerSidebarImpressionEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2307");b=d("FalcoLoggerInternal").create("messenger_sidebar_impression_event",a);e=b;g["default"]=e}),98);
__d("MessengerClickImpressionEventsLoggerImpl",["$InternalEnum","I64","MWPActor.react","MessengerSidebarClickEventFalcoEvent","MessengerSidebarConversionClickEventFalcoEvent","MessengerSidebarImpressionEventFalcoEvent","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("$InternalEnum").Mirrored(["CLICK","IMPRESSION","CONVERSION"]);b={scrollMargin:-33};function a(a){l(a,j.CLICK)}function e(a){l(a,j.CONVERSION)}function k(a){l(a,j.IMPRESSION)}function l(a,b){var d=a.id,e=a.isOnline,f=a.position,g=a.storyIds,h=a.surface;a=a.targetType;var i;if(b===j.CLICK)i="single_click";else if(b===j.CONVERSION)i="single_click";else if(b===j.IMPRESSION)i="vpvd_impression";else return;var k={event_type:i,surface:{entry_point:h.entry_point,major_surface:h.major_surface,minor_surface:h.minor_surface},target:{ranking:{absolute_position:f!=null?f.toString():"-1"},type:a,user:{id:d}}};e!=null&&(k=babelHelpers["extends"]({},k,{target:babelHelpers["extends"]({},k.target,{presence:{status:e?1:0}})}));if((g==null?void 0:g.firstCardId)!=null&&(g==null?void 0:g.bucketId)!=null){i=atob(g.firstCardId);h=null;i!=null&&i.includes("S:_ISC:")&&(h=i.split("S:_ISC:")[1]);k=babelHelpers["extends"]({},k,{target:babelHelpers["extends"]({},k.target,{story:{bucket_id:(f=g.bucketId)!=null?f:null,first_card_id:(a=h)!=null?a:null}})})}b===j.CLICK?c("MessengerSidebarClickEventFalcoEvent").log(function(){return k}):b===j.CONVERSION?c("MessengerSidebarConversionClickEventFalcoEvent").log(function(){return k}):b===j.IMPRESSION&&c("MessengerSidebarImpressionEventFalcoEvent").log(function(){return k})}function m(a,b){var e=d("react-compiler-runtime").c(12),g=(i||(i=c("useReStore")))(),j=d("MWPActor.react").useActor();b=(h||(h=d("I64"))).to_int32((b=b)!=null?b:(h||(h=d("I64"))).zero);var k=b===1||b===15,l;e[0]!==g||e[1]!==k||e[2]!==a?(b=function(){return k&&a!=null?d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(a):d("ReQL").empty()},l=[g,a,k],e[0]=g,e[1]=k,e[2]=a,e[3]=b,e[4]=l):(b=e[3],l=e[4]);b=d("ReQLSuspense").useArray(b,l,f.id+":171");if(a==null)return null;if(k){if(e[5]!==j||e[6]!==b){e[8]!==j?(l=function(a){return a!==(h||(h=d("I64"))).to_string(j)},e[8]=j,e[9]=l):l=e[9];l=b.map(n).filter(l);e[5]=j;e[6]=b;e[7]=l}else l=e[7];b=l[0];return b}else{e[10]!==a?(l=(h||(h=d("I64"))).to_string(a),e[10]=a,e[11]=l):l=e[11];return l}}function n(a){return(h||(h=d("I64"))).to_string(a.contactId)}g.IMPRESSION_LOG_OPTIONS=b;g.logClickEvent=a;g.logConversionClickEvent=e;g.logImpressionEvent=k;g.useGetUniqueThreadID=m}),98);
__d("MessengerDragHandleFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M8 12.5a1 1 0 1 0 0 2h20a1 1 0 1 0 0-2H8zM7 18a1 1 0 0 1 1-1h20a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1zM7 22.5a1 1 0 0 1 1-1h20a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MessengerFaceHappyFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm-5.25-13c0-1.25.563-2 1.5-2 .938 0 1.5.75 1.5 2s-.563 2-1.5 2c-.938 0-1.5-.75-1.5-2zm7.5 0c0-1.25.563-2 1.5-2 .938 0 1.5.75 1.5 2s-.563 2-1.5 2c-.938 0-1.5-.75-1.5-2zm-7.52 5.464a1 1 0 0 1 1.41-.12 5.963 5.963 0 0 0 3.856 1.406c1.47 0 2.813-.528 3.856-1.406a1 1 0 1 1 1.288 1.53 7.962 7.962 0 0 1-5.144 1.876 7.962 7.962 0 0 1-5.144-1.877 1 1 0 0 1-.121-1.409z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MessengerForwardActionFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M17.99 24.4c0 1.278 1.336 2.04 2.334 1.332l9.004-6.399c.89-.633.89-2.028 0-2.661l-9.004-6.398c-.998-.71-2.334.053-2.334 1.33v3.147c0 .138-.114.25-.252.251-7 .076-11.741 3.317-11.742 10.986 0 .594.41 1.012 1.033 1.012.46 0 .844-.265 1.114-1.083 1.129-3.409 4.431-4.87 9.595-4.916a.25.25 0 0 1 .252.249v3.15z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MessengerForwardFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m30.22 19.497-10.5 7.198c-1.163.797-2.722-.06-2.722-1.497v-2.954a.25.25 0 0 0-.25-.25H8.001A2 2 0 0 1 6 19.996v-3.997A2 2 0 0 1 8 14h8.748a.25.25 0 0 0 .25-.25v-2.948c0-1.437 1.559-2.294 2.722-1.497l10.5 7.197c1.04.713 1.04 2.283 0 2.995z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MessengerHdOutline.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M10.7 14.814c0-.251.203-.455.454-.455h.91c.25 0 .454.204.454.455v2.045c0 .126.102.227.227.227h2.273a.227.227 0 0 0 .227-.227v-2.045c0-.251.204-.455.455-.455h.909c.251 0 .454.204.454.455v6.363a.455.455 0 0 1-.454.455h-.91a.455.455 0 0 1-.454-.455v-2.045a.227.227 0 0 0-.227-.228h-2.273a.227.227 0 0 0-.227.228v2.045a.455.455 0 0 1-.455.455h-.909a.455.455 0 0 1-.454-.455v-6.363z"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M19.336 14.36a.455.455 0 0 0-.454.454v6.363c0 .251.203.455.454.455h2.728a3.636 3.636 0 0 0 0-7.273h-2.728zm1.364 5.226c0 .126.102.228.227.228h1.136a1.818 1.818 0 1 0 0-3.637h-1.136a.227.227 0 0 0-.227.227v3.182z"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M10 9a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h16a4 4 0 0 0 4-4V13a4 4 0 0 0-4-4H10zm-1.5 4a1.5 1.5 0 0 1 1.5-1.5h16a1.5 1.5 0 0 1 1.5 1.5v10a1.5 1.5 0 0 1-1.5 1.5H10A1.5 1.5 0 0 1 8.5 23V13z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MessengerPhotoPlusCircleFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M6 12v12a4 4 0 0 0 4 4h7.904c.577 0 .947-.632.733-1.169A8.978 8.978 0 0 1 18 23.5a8.96 8.96 0 0 1 1.04-4.205c.216-.408.069-.931-.374-1.06a6 6 0 0 0-4.666.569l-5.125 2.959a.25.25 0 0 1-.375-.217V12a1.5 1.5 0 0 1 1.5-1.5h14a1.5 1.5 0 0 1 1.5 1.5v1.443c0 .618.557 1.085 1.175 1.063.108-.004.216-.006.325-.006.535 0 1-.412 1-.947V12a4 4 0 0 0-4-4H10a4 4 0 0 0-4 4z"}),i.jsx(d("XPlatReactSVG").Path,{d:"M12.5 16.5a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M34 23.5a7 7 0 1 1-14 0 7 7 0 0 1 14 0zM27 19a1 1 0 0 0-1 1v2.25a.25.25 0 0 1-.25.25H23.5a1 1 0 1 0 0 2h2.25a.25.25 0 0 1 .25.25V27a1 1 0 1 0 2 0v-2.25a.25.25 0 0 1 .25-.25h2.25a1 1 0 1 0 0-2h-2.25a.25.25 0 0 1-.25-.25V20a1 1 0 0 0-1-1z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("XPlatWebAudioPlaybackContextProvider.react",["cr:6234","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){a=a.children;return a}e=(c=b("cr:6234")==null?void 0:b("cr:6234").MWPAudioPlaybackContextProvider)!=null?c:a;f=e;g["default"]=f}),98);
__d("getMAWNonAddressableContactBannerStrings",["fbt","IntlVariations"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){var d;if(a)return{details:h._(/*BTDS*/"__JHASH__ixaC9ybh3Q8__JHASH__"),headline:h._(/*BTDS*/"__JHASH___yUMmqEez-U__JHASH__")};a=((a=b.firstName)!=null?a:"")===""?null:b.firstName;d=((d=b.name)!=null?d:"")===""?null:b.name;b=(a=(b=a)!=null?b:d)!=null?a:"recipient";d=c("IntlVariations").GENDER_UNKNOWN;return{details:h._(/*BTDS*/"__JHASH__J_HXGmiXLis__JHASH__",[h._name("message recipient name",b,d)]),headline:h._(/*BTDS*/"__JHASH__9vfr7-Uns9r__JHASH__",[h._name("message recipient name",b,d)])}}g["default"]=a}),226);
__d("useC4gEngagementImpressionLogging",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWV2IsTabFocusedContext.react","mwCMIsAnyCMThread","mwCMIsCMSubthread","react-compiler-runtime","useC4GEngagementSurface"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(7),e=a.isSubthreadDisplayed,f=a.threadKey,g=a.threadType,i=e===void 0?!1:e,j=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),k=c("useC4GEngagementSurface")();b[0]!==j||b[1]!==i||b[2]!==k||b[3]!==f||b[4]!==g?(a=function(){j&&(c("mwCMIsAnyCMThread")(g)||c("mwCMIsCMSubthread")(g)&&i)&&d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:c("mwCMIsCMSubthread")(g)?{is_subthread:"1"}:void 0,event:"thread_focus",source:"thread_view",surface:k,thread_id:(h||(h=d("I64"))).to_string(f)})},e=[f,g,j,k,i],b[0]=j,b[1]=i,b[2]=k,b[3]=f,b[4]=g,b[5]=a,b[6]=e):(a=b[5],e=b[6]);d("Int64Hooks").useEffectInt64(a,e)}g["default"]=a}),98);
__d("useEncryptedBackupsProcessStatePreLoaded_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useEncryptedBackupsProcessStatePreLoaded_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useEncryptedBackupsProcessStatePreLoaded",["CometRelay","I64","LSAuthorityLevel","LSIntEnum","MWEncryptedBackupsDetermineInitialEBState","ReQL","ReQLSuspense","isMWEBEntrypointEnabled","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded_query.graphql","useMAWHasUserVisibleErrors","useMAWUnsupportedBrowserNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a){var e=d("react-compiler-runtime").c(10),g=a.entrypoint;a=a.query;var i=d("CometRelay").useFragment(h!==void 0?h:h=b("useEncryptedBackupsProcessStatePreLoaded_query.graphql"),a),j=(k||(k=c("useReStore")))();e[0]!==j||e[1]!==(i==null?void 0:i.viewer.backup_state)?(a=function(){return(i==null?void 0:i.viewer.backup_state)==null?d("ReQL").fromTableAscending(j.tables.secure_encrypted_backups_client_state).filter(l):d("ReQL").empty()},e[0]=j,e[1]=i==null?void 0:i.viewer.backup_state,e[2]=a):a=e[2];var m=i==null?void 0:i.viewer.backup_state,n;e[3]!==j||e[4]!==m?(n=[j,m],e[3]=j,e[4]=m,e[5]=n):n=e[5];m=d("ReQLSuspense").useArray(a,n,f.id+":57");a=d("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX();n=a.shouldHideEBFlow;a=c("useMAWHasUserVisibleErrors")();n=n||a;if(!c("isMWEBEntrypointEnabled")(g))return 0;e[6]!==m||e[7]!==n||e[8]!==i?(a=(i==null?void 0:i.viewer.backup_state)!=null?i.viewer.backup_state:d("MWEncryptedBackupsDetermineInitialEBState").determineInitialEBState({clientStateData:m,hasArmadilloError:n,xfb_backup:i==null?void 0:i.xfb_backup}),e[6]=m,e[7]=n,e[8]=i,e[9]=a):a=e[9];return a}function l(a){a=a.authorityLevel;return(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))}g["default"]=a}),98);
__d("useHasNonAddressableParticipantWAI",["CurrentMessengerUser","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MWGetChatTabOpenQPLEventTrace","MWGetInboxNavigateQPLEventTrace","MWPActor.react","ODS","ReQL","ReQLSuspense","TemporaryLoggingUtilsForS406998Only","WAJids","WALogger","asyncToGeneratorRuntime","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["occam_reachable_with_no_wai_devices in "," (",")"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["occam_not_reachable_with_wai_devices in "," (",")"]);n=function(){return a};return a}var o=(l||d("react")).useState;function a(a){var e=d("react-compiler-runtime").c(17),g=a.isComposerBlocked,k=a.isGroup,l=a.isSecure,m=a.threadKey,n=(h||(h=c("useReStore")))(),r=d("MWPActor.react").useActor();a=o(null);var s=a[0],t=a[1],u;e[0]!==r||e[1]!==n.tables.contacts||e[2]!==n.tables.participants||e[3]!==l||e[4]!==m?(a=function(){return l?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(n.tables.participants,["contactId"]).getKeyRange(m),d("ReQL").fromTableAscending(n.tables.contacts,["authorityLevel","firstName","name"])).map(function(a){var b=a[0];a=a[1];b=b.contactId;return(i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&!(i||(i=d("I64"))).equal(b,r)?[d("WAJids").toMsgrUserJid((i||(i=d("I64"))).to_string(b)),a]:null}).filter(Boolean):d("ReQL").empty()},u=[r,n.tables.contacts,n.tables.participants,l,m],e[0]=r,e[1]=n.tables.contacts,e[2]=n.tables.participants,e[3]=l,e[4]=m,e[5]=a,e[6]=u):(a=e[5],u=e[6]);var v=d("ReQLSuspense").useArray(a,u,f.id+":63");e[7]!==n.tables.contacts||e[8]!==n.tables.participants||e[9]!==n.tables.threads||e[10]!==g||e[11]!==k||e[12]!==l||e[13]!==m||e[14]!==v?(a=function(){if(!l){t(null);return}var a=v.map(p);a.forEach(function(a){var e=a.split("@")[0];d("TemporaryLoggingUtilsForS406998Only").isStanzaIdForS406998Only(e)&&c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(i||(i=d("I64"))).of_string(e),f=(yield n.tables.threads.get(m)),g=(yield n.tables.contacts.get(b));b=(yield n.tables.participants.index("contactIdThreadKey").get(b,m));f=f==null?void 0:f.authorityLevel;g=g==null?void 0:g.authorityLevel;b=b==null?void 0:b.authorityLevel;c("FBLogger")("messenger_e2ee_web","invalid_participant_id").mustfix("[S406998] invalid participant %s. threadKey: %s. isGroup: %s. count: %s. threadAuthLevel: %s. contactAuthLevel: %s. participantAuthLevel: %s",a,i.to_string(m),k,v.length,f?(i||(i=d("I64"))).to_string(f):"",g?(i||(i=d("I64"))).to_string(g):"",b?(i||(i=d("I64"))).to_string(b):"")})())});c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","getWAIDevices",{users:a}).then(function(a){var b=v.find(function(b){b=b[0];return!a.has(b)||((b=a.get(b))==null?void 0:b.length)===0});q(m,k,g,b!=null);t(b!=null?{hasNonAddressableParticipant:!0,nonAddressableParticipantName:b[1]}:{hasNonAddressableParticipant:!1})}))},u=[n.tables.contacts,n.tables.participants,n.tables.threads,g,k,l,m,v],e[7]=n.tables.contacts,e[8]=n.tables.participants,e[9]=n.tables.threads,e[10]=g,e[11]=k,e[12]=l,e[13]=m,e[14]=v,e[15]=a,e[16]=u):(a=e[15],u=e[16]);d("Int64Hooks").useEffectInt64(a,u);return s}function p(a){a=a[0];return a}function q(a,b,e,f){b=b?"group":"1:1";var g=d("CurrentMessengerUser").isTestUser()?"test user":"prod user",h=function(a){a.addAnnotationBoolean("hasNonAddressableParticipantOccam",e),a.addAnnotationBoolean("hasNonAddressableParticipantWAI",f)};c("MWGetChatTabOpenQPLEventTrace")(a,h);c("MWGetInboxNavigateQPLEventTrace")(a,h);e&&!f?((k||(k=d("ODS"))).bumpEntityKey(3185,"mwchat_composer","occam_not_reachable_with_wai_devices in "+b+" ("+g+")"),d("WALogger").DEV(n(),b,g),c("FBLogger")("messenger_e2ee_web","occam_not_reachable").mustfix("occam returned not reachable but WA devices available. Thread: %s, Thread Type: %s, User Type: %s",(i||(i=d("I64"))).to_string(a),b,g)):!e&&f&&((k||(k=d("ODS"))).bumpEntityKey(3185,"mwchat_composer","occam_reachable_with_no_wai_devices in "+b+" ("+g+")"),d("WALogger").DEV(m(),b,g))}g.useHasNonAddressableParticipantWAI=a}),98);
__d("useMAWCreateOptimisticSecureMessageNoOp",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(){return h}function h(){throw c("err")("Attempted to use separate read hooks in non-separate read mode")}g["default"]=a}),98);
__d("useMAWCreateOptimisticSecureMessageV2",["I64","MAWCreateOptimisticSecureMessage","MAWOptimisticMessageUtils","MWPActor.react","Promise","QPLUserFlow","asyncToGeneratorRuntime","qpl","react","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(3),e=c("useAsyncReStore")(),g=d("MWPActor.react").useActor(),j;a[0]!==e||a[1]!==g?(j=function(a,j,k,l,m,n,o,p,q,r,s){return(h||(h=b("Promise"))).resolve(e).then(function(e){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"before_create_optimistic_message_restore_resolved",{instanceKey:m});return e.runInTransaction(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"before_create_optimistic_message",{instanceKey:m});var f=d("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp(),h=(i||(i=d("I64"))).of_float(f);o(p);s==null?void 0:s.addMarkerPoint("set_offline_message_external_id_for_secure_message","AppTiming");var t=(yield d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(e,b,g,a,j,k,l,m,n,p,h,1,q,r));yield b.messages.add(t);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:m});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:m});yield d("MAWOptimisticMessageUtils").optimisticBumpThread(b,{hotEmojiSize:l,mentionedJids:n,messageText:j,senderId:g,threadKey:k,ts:h});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:m});return{messageExternalId:p,offlineMsgTimestamp:f}});return function(a){return f.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":71")})},a[0]=e,a[1]=g,a[2]=j):j=a[2];return j}g["default"]=a}),98);
__d("useMAWCreateOptimisticSecureMessageWithAttachments",["MAWCreateOptimisticSecureMessageWithAttachment","MAWGetEphemeralSettings","MWPActor.react","Promise","QPLUserFlow","asyncToGeneratorRuntime","cr:9039","gkx","nullthrows","qex","qpl","react-compiler-runtime","useLSMessagingInitiatingSourceNumber","useMWLSDefaultThreadSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=b("cr:9039")||{createIdbOptimisticMessageWithAttachment:void 0};var j=e.createIdbOptimisticMessageWithAttachment,k=c("gkx")("8297");function a(){var a=d("react-compiler-runtime").c(6),e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),l=c("useLSMessagingInitiatingSourceNumber")(),m=c("useMWLSDefaultThreadSource")();if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var n;n=((n=c("qex")._("189"))!=null?n:!1)&&!k;a[0]=n}else n=a[0];var o=n;a[1]!==e||a[2]!==m||a[3]!==l||a[4]!==g?(n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,i,k,n,p,q,r,s,t,u,v){if(s==null)return(h||(h=b("Promise"))).resolve();var w=o?yield d("MAWGetEphemeralSettings").getEphemeralSetting(k.jid,i):void 0;c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"before_create_optimistic_message_with_attachment",{instanceKey:q});return e.runInTransaction(function(b){return o?c("nullthrows")(j)(b,{attachmentType:s,ephemeralSettings:w,initiatingSource:l,instanceKey:q,isHd:v,mawThreadResult:k,mediaGroupMetadataMap:u,messageExternalId:t,offlineAttachmentId:n,onOfflineMsgId:r,optimisticMediaAttachment:p,reply:a,senderId:g,threadKey:i,threadSource:m(i)}):d("MAWCreateOptimisticSecureMessageWithAttachment").createOptimisticMessageWithAttachment(e,b,g,a,i,n,p,q,r,s,t,u,v)},"readwrite","ui",void 0,f.id+":94")});return function(b,c,d,e,f,g,h,i,j,k,l){return a.apply(this,arguments)}}(),a[1]=e,a[2]=m,a[3]=l,a[4]=g,a[5]=n):n=a[5];return n}g["default"]=a}),98);
__d("useMAWCreateOptimisticSecureMessageWithXMAAttachment",["I64","LSIntEnum","MAWAdminMsg","MAWBumpThread","MAWCreateOptimisticSecureMessage","MAWLocalizationType","MAWOptimisticMessageUtils","MAWSendFileMsgTypes","MAWVault","MWPActor.react","MessagingAttachmentType","Promise","QPLUserFlow","asyncToGeneratorRuntime","cr:12008","gkx","nullthrows","qex","qpl","react-compiler-runtime","useAsyncReStore","useLSMessagingInitiatingSourceNumber","useMWLSDefaultThreadSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("cr:12008")||void 0,l=c("gkx")("8297");function a(){var a=d("react-compiler-runtime").c(6),e=c("useAsyncReStore")(),g=d("MWPActor.react").useActor(),h=c("useMWLSDefaultThreadSource")(),i=c("useLSMessagingInitiatingSourceNumber")();if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var n;n=((n=c("qex")._("60"))!=null?n:!1)&&!l;a[0]=n}else n=a[0];var o=n;a[1]!==e||a[2]!==h||a[3]!==i||a[4]!==g?(n=function(a,d,l,n,p,q,r,s,t,u,v,w,x,y,z){return(j||(j=b("Promise"))).resolve(e).then(function(b){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"before_create_optimistic_message_restore_resolved",{instanceKey:q});return b.runInTransaction(function(e){return o?c("nullthrows")(k)(e,g,a,d,n,p,q,l,r,s,t,u,v,i,h(d),w,x):m(b,e,g,a,d,n,p,q,r,s,t,u,v,w,y,z)},"readwrite","ui",void 0,f.id+":105")})},a[1]=e,a[2]=h,a[3]=i,a[4]=g,a[5]=n):n=a[5];return n}function m(a,b,c,d,e,f,g,h,i,j,k,l,m,o,p,q){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,j,k,l,m,n,o,p,q,r,s,t){m(n);t==null?void 0:t.addMarkerPoint("set_offline_message_external_id_for_ls_message","AppTiming");m=d("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp();t=(h||(h=d("I64"))).of_float(m);f=(yield d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(a,b,e,f,(a=d("MAWVault").unvault(q))!=null?a:"",g,void 0,l,r,n,t,1024,s));yield b.messages.add(f);a=d("MAWOptimisticMessageUtils").buildOptimisticAttachment({attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),messageExternalId:n,offlineAttachmentId:j,optimisticMediaAttachment:k,senderId:e,subtitleText:p,threadKey:g,timestampMsI64:t,titleText:o});yield b.attachments.add(a);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:l});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:l});yield d("MAWBumpThread").threadMutation_DEPRECATED({description:"useMAWCreateOptimisticSecureMessageWithXMAAttachment",lastActivityTs:t,lastReadTs:t,snippet:d("MAWAdminMsg").buildLocalizedString([d("MAWVault").unvault(q)],[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT),snippetSenderContactId:e,threadKey:g,txn:b});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:l});return{messageExternalId:n,offlineAttachmentId:d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(j),offlineMsgTimestamp:m}});return n.apply(this,arguments)}g["default"]=a}),98);
__d("useMAWCreateOptimisticSecureMessagesWithAttachments",["MAWCreateOptimisticSecureMessageWithAttachment","MAWGetEphemeralSettings","MAWSendFileMsgTypes","MWPActor.react","Promise","asyncToGeneratorRuntime","cr:9039","gkx","qex","react-compiler-runtime","useLSMessagingInitiatingSourceNumber","useMWLSDefaultThreadSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=b("cr:9039")||{createIdbOptimisticMessageWithAttachment:void 0};var j=e.createIdbOptimisticMessageWithAttachment,k=c("gkx")("8297");function a(){var a=d("react-compiler-runtime").c(6),e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),l=c("useLSMessagingInitiatingSourceNumber")(),m=c("useMWLSDefaultThreadSource")();if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var n;n=((n=c("qex")._("189"))!=null?n:!1)&&!k;a[0]=n}else n=a[0];var o=n;a[1]!==e||a[2]!==m||a[3]!==l||a[4]!==g?(n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,i,k,n,p,q,r){var s=o?yield d("MAWGetEphemeralSettings").getEphemeralSetting(i.jid,c):void 0;return e.runInTransaction(function(f){return(h||(h=b("Promise"))).all(q.map(function(q){var t=q.attachmentType,u=q.messageExternalId,v=q.offlineAttachmentId;q=q.optimisticMediaAttachment;if(t==null)return(h||(h=b("Promise"))).resolve();var w=r.get(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(v));return o?j==null?void 0:j(f,{attachmentType:t,ephemeralSettings:s,initiatingSource:l,instanceKey:k,isHd:w,mawThreadResult:i,mediaGroupMetadataMap:p,messageExternalId:u,offlineAttachmentId:v,onOfflineMsgId:n,optimisticMediaAttachment:q,reply:a,senderId:g,threadKey:c,threadSource:m(c)}):d("MAWCreateOptimisticSecureMessageWithAttachment").createOptimisticMessageWithAttachment(e,f,g,a,c,v,q,k,n,t,u,p,w)}))},"readwrite","ui",void 0,f.id+":81")});return function(b,c,d,e,f,g,h,i){return a.apply(this,arguments)}}(),a[1]=e,a[2]=m,a[3]=l,a[4]=g,a[5]=n):n=a[5];return n}g["default"]=a}),98);
__d("useMAWOverrideNonAddressableParticipantWithWAI",["getMAWNonAddressableContactBannerStrings","gkx","react-compiler-runtime","useHasNonAddressableParticipantWAI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(8),e=a.bannerFromOccam,f=a.isGroup,g=a.isSecure;a=a.threadKey;var h=e!=null,i;b[0]!==h||b[1]!==f||b[2]!==g||b[3]!==a?(i={isComposerBlocked:h,isGroup:f,isSecure:g,threadKey:a},b[0]=h,b[1]=f,b[2]=g,b[3]=a,b[4]=i):i=b[4];a=d("useHasNonAddressableParticipantWAI").useHasNonAddressableParticipantWAI(i);if(!g||a==null)return e;if(!a.hasNonAddressableParticipant&&h)return null;if(a.hasNonAddressableParticipant&&!h&&!(f&&c("gkx")("10382"))){b[5]!==a.nonAddressableParticipantName||b[6]!==f?(i=c("getMAWNonAddressableContactBannerStrings")(f,a.nonAddressableParticipantName),b[5]=a.nonAddressableParticipantName,b[6]=f,b[7]=i):i=b[7];return i}return e}g["default"]=a}),98);
__d("useMAWSelectedMessageNoOp",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){}f["default"]=a}),66);
__d("useMaybeCreateThreadForMAWSendSecurMessageV2",["I64","LSDatabaseSingleton","MAWMiActMaybeCreateActThread","MAWWaitForBackendSetup","MWPActor.react","QPLUserFlow","ReQL","asyncToGeneratorRuntime","qpl","react-compiler-runtime","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(2),e=d("MWPActor.react").useActor(),f;a[0]!==e?(f=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"db_resolved_in_maybe_create_thread_start",{instanceKey:b});var f=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"db_resolved_in_maybe_create_thread_success",{instanceKey:b});var g=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(f.tables.participants,["contactId"]).getKeyRange(a).map(j)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"participant_ids_fetched",{instanceKey:b});d("sendToSentQPLLogger").markSendToSentPoint(b,"maybe_create_mi_thread_start");return d("MAWWaitForBackendSetup").waitForBackendSetup("maybe-create-thread-for-send").then(function(){d("sendToSentQPLLogger").markSendToSentPoint(b,"maybe_create_mi_thread_backend_setup_complete");return d("MAWMiActMaybeCreateActThread").MAWMiActMaybeCreateActThread(f,a,{actorId:e,participantIds:g},b,"maybe-create-thread-for-send")}).then(function(a){d("sendToSentQPLLogger").markSendToSentPoint(b,"maybe_create_mi_thread_end");return a})});return function(b,c){return a.apply(this,arguments)}}(),a[0]=e,a[1]=f):f=a[1];return f}function j(a){return(i||(i=d("I64"))).to_string(a.contactId)}g["default"]=a}),98);
__d("useMAWSendSecureGifAttachmentMessage",["FBLogger","Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWFetchExternalAttachmentBlob","MAWGetEphemeralSettings","MAWImagePreProcess","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWPActor.react","MessagingAttachmentType","Promise","QPLUserFlow","WALoggerDeferred","asyncToGeneratorRuntime","cr:7799","qpl","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMWLSDefaultThreadSource","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),g=c("useLSMessagingInitiatingSourceNumber")(),k=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),m=b("cr:7799")();return d("Int64Hooks").useCallbackInt64(function(){var n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var o=n.accessibilityLabel,p=n.externalAttachmentUrl,q=n.lssTraceApi,r=n.messageExternalId,s=n.onGenerateOfflineMsgId,t=n.reply,u=n.s2sInstanceKey;n=n.thread;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureGifAttachmentMessage"],["Starting GIF attachment message send"],"LOG");var v=new Map(),w;try{var x=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId()),y=e(n.threadKey),z=(yield (j||(j=b("Promise"))).all([(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,f(n.threadKey,u)])),A=z[0];z=z[1];w=z;z=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(w.jid,n.threadKey));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:u});q==null?void 0:q.addMarkerPoint("fetch_external_attachment_blob_start","AppTiming");p=(yield d("MAWFetchExternalAttachmentBlob").fetchExternalAttachmentBlob(p,u));p=new File([p],"gifFromPicker",{type:p.type});q==null?void 0:q.addMarkerPoint("fetch_external_attachment_blob_end","AppTiming");q==null?void 0:q.addMarkerPoint("create_optimistic_message_start","AppTiming");var B=(yield d("MAWImagePreProcess").optimisticImagePreprocess(p,!1));B=(yield k(t,n.threadKey,w,x,B,u,s,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE),r));B!=null?(v.set(x,{messageExternalId:r,offlineMsgTimestamp:B.offlineMsgTimestamp}),l(B.messageExternalId,B.offlineMsgTimestamp),q==null?void 0:q.addMarkerPoint("create_optimistic_message_success","AppTiming")):(c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),q==null?void 0:q.addMarkerPoint("create_optimistic_message_fail","AppTiming"));q==null?void 0:q.addMarkerPoint("preprocess_start","AppTiming");s=(yield d("MAWImagePreProcess").imagePreprocess(p,!1));q==null?void 0:q.addMarkerPoint("preprocess_end","AppTiming");r=[[s,x]];B=new Map();B.set(x,o);p={actorId:a,attachments:r,axLabels:B,chatJid:w.jid,db:A,ephemeralSetting:z,initiatingSource:g,isFirstMsg:w.created,offlineAttachmentIdToMessageData:v,reply:t,s2sInstanceKey:u,source:y,thread:n};return yield d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(A,p)}catch(a){q=a instanceof Error?a.message:"Fail to send secure attachment message";s=Array.from(v.values()).map(function(a){a=a.messageExternalId;return a});w&&(yield m(s,q,w.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureGifAttachmentMessage"],["Send GIF attachment message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a){return n.apply(this,arguments)}}(),[a,k,l,e,g,m,f])}g["default"]=a}),98);
__d("useMAWSendSecureTextMessage",["MAWDbMsg","MAWGetEphemeralSettings","MAWGetProtocolMsgIdByMsgIdInUI","MAWStateContext.react","MAWVault","Promise","WALoggerDeferred","asyncToGeneratorRuntime","cr:4535","cr:7799","emptyFunction","gkx","promiseDone","qex","react","sendToSentQPLLogger","useMAWCreateOptimisticSecureMessageV2","useMAWSendMessageV2","useMWLSDefaultThreadSource","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback,k=c("gkx")("8297");function a(){var a=c("useMWLSDefaultThreadSource")(),e=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),f=c("useMAWSendMessageV2")(),g=c("useMAWCreateOptimisticSecureMessageV2")(),i=b("cr:7799")(),l=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),m=b("cr:4535")();return j(function(){var j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(j,n){var o=n.commands,p=n.hotEmojiSize,q=n.lssTraceApi,r=n.mentionedJids,s=n.messageExternalId,t=n.messageText,u=n.onGenerateOfflineMsgId,v=n.reply,w=n.s2sInstanceKey,x=n.thread;d("sendToSentQPLLogger").markSendToSentPoint(w,"send_secure_message_start");n=((n=c("qex")._("189"))!=null?n:!1)&&!k;var y=null,z;try{q==null?void 0:q.addMarkerPoint("create_optimistic_message_start","AppTiming");n=n?yield b("asyncToGeneratorRuntime").asyncToGenerator(function*(){z=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",w,function(){return e(x.threadKey,w)}));y=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(z.jid,x.threadKey));var a=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("create_optimistic_message_v2",w,function(){var a;return m(v,d("MAWVault").vault(t),x.threadKey,z,p,w,r,(a=u)!=null?a:c("emptyFunction"),s,y,o)}));return[z,a]})():yield (h||(h=b("Promise"))).all([d("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",w,function(){return e(x.threadKey,w)}),d("sendToSentQPLLogger").measureSendToSentPerformance("create_optimistic_message_v2",w,function(){var a;return g(v,d("MAWVault").vault(t),x.threadKey,p,w,r,(a=u)!=null?a:c("emptyFunction"),s,o,void 0,q)})]);var A=n[0];n=n[1];q==null?void 0:q.addMarkerPoint("create_optimistic_message_end","AppTiming");var B=n.offlineMsgTimestamp;l(n.messageExternalId,Date.now());d("sendToSentQPLLogger").markSendToSentPoint(w,"fetch_ephemeral_settings_start");y=y===null?yield d("MAWGetEphemeralSettings").getEphemeralSetting(A.jid,x.threadKey):y;d("sendToSentQPLLogger").markSendToSentPoint(w,"fetch_ephemeral_settings_end");n=a(x.threadKey);var C=null;if(v!=null){d("sendToSentQPLLogger").markSendToSentPoint(w,"fetch_reply_message_start");var D=d("MAWDbMsg").toMsgId(v.messageId);D!=null&&(C=(yield d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(D)));d("sendToSentQPLLogger").markSendToSentPoint(w,"fetch_reply_message_end")}return yield f(j,x.threadKey,x.threadType,A.jid,t,n,void 0,s,B,p,A.created,void 0,void 0,C,y,r,w,s,o)}catch(a){D=a instanceof Error?a.message:"Fail to send secure text message";s!=null&&z!=null&&c("promiseDone")(i([s],D,z.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureTextMessage"],["Send text message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a,b){return j.apply(this,arguments)}}(),[g,m,l,a,i,e,f])}g["default"]=a}),98);
__d("useMAWSendSecureLinkXMAMessage",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","E2EELinkPreviewXMASendStatus","FBLogger","I64","MAWDbMsg","MAWExternalId","MAWExternalLinkUtil","MAWFetchXMABlob","MAWFindFirstUrl","MAWGetProtocolMsgIdByMsgIdInUI","MAWImagePreProcess","MAWLinkPreviewDataStatusUtils","MAWLinkPreviewDataTypeUtils","MAWParseLinkPreviewXMAData","MAWSendExternalLinkXMAV2","MAWStateContext.react","MAWVault","MWPBumpEntityKey","Promise","ReQL","WAArmadilloXMA.pb","WALoggerDeferred","WAMediaQplHelper","asyncToGeneratorRuntime","clearTimeout","cr:7799","emptyFunction","gkx","justknobx","react","sendToSentQPLLogger","setTimeout","useMAWCreateOptimisticSecureMessageWithXMAAttachment","useMAWDeleteLinkPreviewXMATableData","useMAWSendSecureTextMessage","useMWLSDefaultThreadSource","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useCallback,l=e.useEffect,m=e.useRef;function a(a){var e=c("useMWLSDefaultThreadSource")(),f=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),g=c("useMAWSendSecureTextMessage")(),i=c("useMAWCreateOptimisticSecureMessageWithXMAAttachment")(),j=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),o=b("cr:7799")(),q=m(c("emptyFunction")),v=m(null),w=m(null),x=c("useMAWDeleteLinkPreviewXMATableData")(a);l(function(){return function(){q.current(),w.current=null,v.current!=null&&(c("clearTimeout")(v.current),v.current=null)}},[]);var y=function(a,b){d("sendToSentQPLLogger").markSendToSentPoint(a.s2sInstanceKey,"wait_for_link_preview_xma_data_timeout");v.current=null;w.current=d("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(a,b);return w.current},z=k(function(a,e,f,g){return new(h||(h=b("Promise")))(function(h){q.current=a.subscribe(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.operation==="delete")return;a=w.current;if(a!=null){q.current();w.current=null;return a.then(h)}a=b.value;var i=d("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(a);b=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(a==null?void 0:a.status,c("E2EELinkPreviewXMADataStatus").LOADED);d("sendToSentQPLLogger").markSendToSentPoint(e,"wait_for_link_preview_data_end",void 0,{bool:{has_xma_data:i!=null,is_link_preview_data_loaded:b}});if(!b||i==null)return;c("clearTimeout")(v.current);var j=d("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(a==null?void 0:a.dataType,c("E2EELinkPreviewXMADataType").OEMBED);q.current();b=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",e,function(){return r(j,i)}));s(e,b);h(d("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers["extends"]({},f,{previewBlob:b,xmaData:i}),g))});return function(b,c){return a.apply(this,arguments)}}())})},[]);return k(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var h=b.commands,k=b.currentDraftId,l=b.lssTraceApi,m=b.mentionedJids,q=b.messageExternalId,w=b.messageText,A=b.onGenerateOfflineMsgId,B=b.reply,C=b.s2sInstanceKey,D=b.thread,E=b.threadKey;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureLinkXMAMessage"],["Starting Link Preview XMA attachment message send"],"LOG");b=d("MAWFindFirstUrl").findFirstUrl(w);b=b.length>0?b[0]:null;void n(a,k);var F;try{l==null?void 0:l.addMarkerPoint("get_link_preview_data_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(C,"get_link_preview_data_start");var G=(yield p(a,k,C,l)),H=G==null?void 0:G.xmaData,I=d("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(G==null?void 0:G.dataType,c("E2EELinkPreviewXMADataType").OEMBED),J=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(G==null?void 0:G.dataStatus,c("E2EELinkPreviewXMADataStatus").DISABLED);d("sendToSentQPLLogger").addSendToSentAnnotations(C,{bool:{has_xma_data:H!=null,is_link_preview_oembed_data:I}});l==null?void 0:l.addAnnotationBoolean("has_xma_data",H!=null);l==null?void 0:l.addAnnotationBoolean("is_link_preview_oembed_data",I);if(k==null||b==null||J){l==null?void 0:l.addMarkerPoint("send_link_message_as_text","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(C,"send_link_message_as_text");return g(a,{commands:h,lssTraceApi:l,mentionedJids:m,messageExternalId:q,messageText:w,onGenerateOfflineMsgId:A,reply:B,s2sInstanceKey:C,thread:D})}J={title:(J=d("ConstUriUtils").getUri(b.entity.url))==null?void 0:J.getDomain(),url:b.entity.url};b=(b=H)!=null?b:J;l==null?void 0:l.addMarkerPoint("get_link_preview_data_end","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(C,"get_link_preview_data_end");var K=(yield t(B)),L=d("MAWExternalId").generateExternalId();A==null?void 0:A(L);l==null?void 0:l.addMarkerPoint("set_offline_attachment_id","AppTiming");var M=e(E);F=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",C,function(){return f(E,C)}));l==null?void 0:l.addMarkerPoint("fetch_link_preview_blob_start","AppTiming");var N=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",C,function(){return r(I,H)}));s(C,N);l==null?void 0:l.addMarkerPoint("fetch_link_preview_blob_end","AppTiming");l==null?void 0:l.addMarkerPoint("create_optimistic_message_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(C,"create_optimistic_message_start");var O=null;if(N!=null&&d("MAWExternalLinkUtil").allowedPreviewTypes.includes(N.type)){var P=new File([N],"preview",{type:N.type});O=(yield d("MAWImagePreProcess").optimisticImagePreprocess(P))}B=(yield i(B,D.threadKey,F,L,O,C,(P=A)!=null?P:c("emptyFunction"),q,b==null?void 0:b.title,b==null?void 0:b.author_name,d("MAWVault").vault(w),m,d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE,h,l));D=B!=null?{messageExternalId:q,offlineMsgTimestamp:B.offlineMsgTimestamp}:void 0;D!=null?(j(D.messageExternalId,D.offlineMsgTimestamp),l==null?void 0:l.addMarkerPoint("create_optimistic_message_success","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(C,"create_optimistic_message_end")):(c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),l==null?void 0:l.addMarkerPoint("create_optimistic_message_fail","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(C,"create_optimistic_message_fail"));O=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(G==null?void 0:G.dataStatus,c("E2EELinkPreviewXMADataStatus").LOADED);var Q={chatJid:F.jid,commands:h,mentionedJids:m,message:w,offlineAttachmentId:L,optimisticMessageData:D,quote:(A=K)!=null?A:void 0,s2sInstanceKey:C,source:M,threadKey:E};d("MWPBumpEntityKey").bumpEntityKey("maw.send_secure_link_xma",H==null?"xma_data_is_null":"xma_data_is_not_null");if(H!=null&&!O){l==null?void 0:l.addMarkerPoint("wait_for_link_preview_data_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(C,"wait_for_link_preview_data_start");if(c("gkx")("8595")){P=(yield u(a,k,C,x));B=P.previewBlob;G=P.xmaData;return d("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers["extends"]({},Q,{previewBlob:B,xmaData:(h=G)!=null?h:J}),a)}else{m=c("justknobx")._("3137");v.current=c("setTimeout")(function(){return y(babelHelpers["extends"]({},Q,{previewBlob:N,xmaData:H}),a)},m);d("sendToSentQPLLogger").addSendToSentAnnotations(C,{"int":{wait_for_link_preview_data_timeout_ms:m}});w=d("ReQL").fromTableAscending(a.tables.e2ee_composer_draft_link_preview).getKeyRange(k);return z(w,C,Q,a)}}else l==null?void 0:l.addMarkerPoint("wait_for_link_preview_data_skipped","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(C,"wait_for_link_preview_data_skipped");return d("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers["extends"]({},Q,{previewBlob:N,xmaData:b}),a)}catch(a){L=a instanceof Error?a.message:"Fail to send secure attachment message";F!=null&&(yield o([q],L,F.jid,!1));c("FBLogger")("messenger_web_sharing").catching(a).mustfix("[External link] Failed to send external link XMA ");yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureLinkXMAMessage"],["Send Link Preview XMA attachment message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(b,c){return a.apply(this,arguments)}}(),[i,x,j,e,o,f,g,z])}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(e==null)return;yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield a.e2ee_composer_draft_link_preview.get(e));yield a.e2ee_composer_draft_link_preview.upsert([e],babelHelpers["extends"]({},b,{draftId:e,sendStatus:(i||(i=d("I64"))).of_int32(c("E2EELinkPreviewXMASendStatus").SENDING)}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":569")});return o.apply(this,arguments)}function p(a,b,c,d){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,i){if(e==null){d("sendToSentQPLLogger").markSendToSentPoint(g,"get_link_preview_xma_data_from_table_no_draft_id");i==null?void 0:i.addMarkerPoint("get_link_preview_xma_data_from_table_no_draft_id","AppTiming");return null}d("sendToSentQPLLogger").markSendToSentPoint(g,"get_link_preview_xma_data_from_table_start");i==null?void 0:i.addMarkerPoint("get_link_preview_xma_data_from_table_start","AppTiming");var j=void 0;if(c("gkx")("3455")){var k=null,l=(h||(h=b("Promise"))).race([a.runInTransaction(function(a){return a.e2ee_composer_draft_link_preview.get(e)},"readonly",void 0,void 0,f.id+":615"),new h(function(a){k=c("setTimeout")(function(){d("sendToSentQPLLogger").markSendToSentPoint(g,"get_link_preview_xma_data_from_table_timeout"),i==null?void 0:i.addMarkerPoint("get_link_preview_xma_data_from_table_timeout","AppTiming"),a(void 0)},c("justknobx")._("3137"))})]);j=(yield l);c("clearTimeout")(k)}else j=(yield a.runInTransaction(function(a){return a.e2ee_composer_draft_link_preview.get(e)},"readonly",void 0,void 0,f.id+":637"));d("sendToSentQPLLogger").markSendToSentPoint(g,"get_link_preview_xma_data_from_table_end");i==null?void 0:i.addMarkerPoint("get_link_preview_xma_data_from_table_end","AppTiming");d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType((l=j)==null?void 0:l.status,c("E2EELinkPreviewXMADataStatus").LOADING)&&(d("sendToSentQPLLogger").markSendToSentPoint(g,"get_link_preview_xma_data_from_table_still_loading"),i==null?void 0:i.addMarkerPoint("get_link_preview_xma_data_from_table_still_loading","AppTiming"));return{dataStatus:(a=j)==null?void 0:a.status,dataType:(l=j)==null?void 0:l.dataType,xmaData:d("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(j)}});return q.apply(this,arguments)}var r=function(a,b){return a?d("MAWExternalLinkUtil").getImageBlobResponse({xmaData:b}):d("MAWFetchXMABlob").fetchBlob({descriptionForLogging:"useMAWSendSecureLinkXMAMessage",url:b==null?void 0:b.thumbnail_url,xmaContentType:void 0})},s=function(a,b){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{bool:{has_fetched_xma_preview:b!=null},string:{fetched_xma_preview_file_size_bucket:b!=null?d("WAMediaQplHelper").convertIntegerSizeToStringBucket(b.size):void 0}})},t=function(a){if(a!=null){a=d("MAWDbMsg").toMsgId(a.messageId);if(a!=null)return d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(a)}return null};function u(a,b,c,d){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("wait_for_link_preview_data",c,function(){return w(a,b,c,e)}));if(f==null)return{previewBlob:null,xmaData:null};var g=f.isOEmbedData,h=f.xmaData;f=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",c,function(){return r(g,h)}));return{previewBlob:f,xmaData:h}});return v.apply(this,arguments)}function w(a,e,f,g){var i=c("justknobx")._("3137");return(h||(h=b("Promise"))).race([x(a,e,f,g),new h(function(a){return window.setTimeout(function(){d("sendToSentQPLLogger").markSendToSentPoint(f,"wait_for_link_preview_data_timeout"),a(null)},i)})])}function x(a,e,f,g){d("sendToSentQPLLogger").markSendToSentPoint(f,"wait_for_link_preview_data_subscribe_to_lsdb_table_start");return new(h||(h=b("Promise")))(function(b){var h=d("ReQL").fromTableAscending(a.tables.e2ee_composer_draft_link_preview).getKeyRange(e).subscribe(function(a,i){if(i.operation==="delete")return;a=i.value;i=d("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(a);var j=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(a==null?void 0:a.status,c("E2EELinkPreviewXMADataStatus").LOADED);if(!j||i==null)return;h();e!=null&&void g({draftId:e});j=d("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(a==null?void 0:a.dataType,c("E2EELinkPreviewXMADataType").OEMBED);d("sendToSentQPLLogger").markSendToSentPoint(f,"wait_for_link_preview_data_subscribe_to_lsdb_table_end");b({isOEmbedData:j,xmaData:i})})})}g["default"]=a}),98);
__d("useMAWSendSecureStagedMediaAttachmentMessage",["FBLogger","I64","Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWGetEphemeralSettings","MAWMediaManagerUtils","MAWPrepareAttachmentsFromMediaManager","MAWSecureAttachmentGroupingUtils","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWPActor.react","MWV2FileDropzone.react","MessagingAttachmentType","Promise","QPLUserFlow","WALoggerDeferred","WAMediaQplHelper","asyncToGeneratorRuntime","cr:7799","err","gkx","qpl","react","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessagesWithAttachments","useMWLSDefaultThreadSource","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(i||d("react")).useContext;function a(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),g=c("useLSMessagingInitiatingSourceNumber")(),i=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),n=b("cr:7799")(),o=c("useMAWCreateOptimisticSecureMessagesWithAttachments")(),p=m(d("MWV2FileDropzone.react").MediaPreProcessMapContext),q=p.getMediaManagerAttachments,r=p.removeMediaManagerAttachments;return d("Int64Hooks").useCallbackInt64(function(){var m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(m){var p=m.lssTraceApi,s=m.mediaStagings,t=m.messageTypeParams,u=m.onGenerateOfflineMsgId,v=m.reply,w=m.s2sInstanceKey;m=m.thread;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureStagedMediaAttachmentMessage"],["Starting staged media attachment message send"],"LOG");var x=new Map(),y;try{var z=null,A=d("MAWSecureAttachmentGroupingUtils").orderMediaStagingsForGrouping(s);z=d("MAWSecureAttachmentGroupingUtils").generateMediaGroupMetadataForMediaStagings(A);var B=A.reduce(function(a,b){a.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId),(j||(j=d("I64"))).equal(b.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))?b.isHd:void 0);return a},new Map());if(c("gkx")("9576")){var C=!1;B.forEach(function(a){C=C||a===!0});d("sendToSentQPLLogger").addSendToSentAnnotations(w,{bool:{has_hd_media:C}});p==null?void 0:p.addAnnotationBoolean("has_hd_media",C)}var D=new Map();y=(yield f(m.threadKey,w));p==null?void 0:p.addMarkerPoint("create_optimistic_message_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(w,"create_optimistic_message_start");var E=A.map(function(a){var b=d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(a.offlineAttachmentId);b=b==null?void 0:b.optimisticMedia;if(b==null){c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to find optimistic media attachment in useMAWSendSecureAttachmentMessage");return null}var e=d("MAWExternalId").generateExternalId();e={attachmentType:a.attachmentType,messageExternalId:e,offlineAttachmentId:a.offlineAttachmentId,optimisticMediaAttachment:b};return e}).filter(Boolean);E=(yield o(v,m.threadKey,y,w,u,z,E,B));E.forEach(function(a){if(a==null||a.offlineAttachmentId==null){c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message");return null}x.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(a.offlineAttachmentId),{messageExternalId:a.messageExternalId,offlineMsgTimestamp:a.offlineMsgTimestamp});i(a.messageExternalId,a.offlineMsgTimestamp)});p==null?void 0:p.addMarkerPoint("create_optimistic_message_end","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(w,"create_optimistic_message_end");p==null?void 0:p.addMarkerPoint("get_preprocess_media_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(w,"get_preprocess_media_start");yield (h||(h=b("Promise"))).all(A.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(a.offlineAttachmentId);if(b==null){b=q(a.offlineAttachmentId);if(b!=null)d("sendToSentQPLLogger").markSendToSentPoint(w,"media_attachment_fetched_from_context");else{d("sendToSentQPLLogger").markSendToSentPoint(w,"media_attachment_nullfrom_media_manager_attachment_v2");d("sendToSentQPLLogger").addSendToSentAnnotations(w,{"int":{media_manager_attachment_v2_size:d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.size}});c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure media message: unable to find media attachment in useMAWSendSecureAttachmentMessage");return}}yield b.processedMediaPromise.then(function(b){D.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(a.offlineAttachmentId),b)})["catch"](function(a){a=a instanceof Error?a:c("err")(typeof a==="string"?a:"Fail to preprocess media: "+JSON.stringify(a));throw a})["finally"](function(){var a;a=(a=b)==null?void 0:a.optimisticMedia;a!=null&&c("QPLUserFlow").addAnnotations(c("qpl")._(25313175,"1551"),{string:{optimistic_media_file_size:d("WAMediaQplHelper").convertIntegerSizeToStringBucket(a.file.size),optimistic_media_file_type:a.file.type,optimistic_media_type:a.type}},{instanceKey:w})})});return function(b){return a.apply(this,arguments)}}()))["catch"](function(a){p==null?void 0:p.addMarkerPoint("get_preprocess_media_fail","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(w,"get_preprocess_media_fail"),a instanceof Error&&d("sendToSentQPLLogger").addSendToSentAnnotations(w,{string:{error:a.message}})});p==null?void 0:p.addMarkerPoint("get_preprocess_media_end","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(w,"get_preprocess_media_end");E=d("MAWPrepareAttachmentsFromMediaManager").prepareAttachmentsFromMediaManagerImpl(A,t,u,D,w);A=E.attachments;t=e(m.threadKey);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ls_singleton_db",{instanceKey:w});u=(yield (k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"ls_singleton_db_resolved",{instanceKey:w});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"thread_result_fetched",{instanceKey:w});d("sendToSentQPLLogger").markSendToSentPoint(w,"fetch_ephemeral_settings_start");E=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(y.jid,m.threadKey));d("sendToSentQPLLogger").markSendToSentPoint(w,"fetch_ephemeral_settings_end");A={actorId:a,attachments:A,chatJid:y.jid,db:u,ephemeralSetting:E,hdMediaMap:B,initiatingSource:g,isFirstMsg:y.created,mediaGroupMetadataMap:z,offlineAttachmentIdToMessageData:x,reply:v,s2sInstanceKey:w,source:t,thread:m};return yield d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(u,A)}catch(a){E=a instanceof Error?a:c("err")(typeof a==="string"?a:"Fail to send secure attachment message: "+JSON.stringify(a));B=Array.from(x.values()).map(function(a){a=a.messageExternalId;return a});y&&(yield n(B,E.message,y.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureStagedMediaAttachmentMessage"],["Send staged media attachment message failed:"+JSON.stringify(E)],"ERROR");throw E}finally{s.map(function(a){d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2["delete"](a.offlineAttachmentId),r(a.offlineAttachmentId)})}});return function(a){return m.apply(this,arguments)}}(),[a,o,i,q,e,g,n,f,r])}g["default"]=a}),98);
__d("useMarkOptimisticMessagesAsFailed",["LSFactory","LSMarkOptimisticMessageFailedStoredProcedure","asyncToGeneratorRuntime","react","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),e=c("useAsyncReStore")(),g;a[0]!==e?(g=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,g,h){g=(yield e);return g.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){for(var e of a)yield c("LSMarkOptimisticMessageFailedStoredProcedure")(c("LSFactory")(b),{errorMessage:d,isRetryable:h,optimisticMid:e})});return function(a){return e.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":36")});return function(b,c,d,e){return a.apply(this,arguments)}}(),a[0]=e,a[1]=g):g=a[1];return g}g["default"]=a}),98);
__d("useMAWSendSecureStickerAttachmentMessage",["FBLogger","Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWFetchExternalAttachmentBlob","MAWGetEphemeralSettings","MAWImagePreProcess","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWPActor.react","MessagingAttachmentType","Promise","WALoggerDeferred","asyncToGeneratorRuntime","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMWLSDefaultThreadSource","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),g=c("useLSMessagingInitiatingSourceNumber")(),k=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),m=c("useMarkOptimisticMessagesAsFailed")();return d("Int64Hooks").useCallbackInt64(function(){var n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var o=n.accessibilityLabel,p=n.externalAttachmentUrl,q=n.lssTraceApi,r=n.messageExternalId,s=n.onGenerateOfflineMsgId,t=n.reply,u=n.s2sInstanceKey;n=n.thread;d("sendToSentQPLLogger").markSendToSentPoint(u,"send_secure_message_start");yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureStickerAttachmentMessage"],["Starting sticker attachment message send"],"LOG");var v=new Map(),w;try{var x=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId()),y=e(n.threadKey),z=(yield (j||(j=b("Promise"))).all([(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,f(n.threadKey,u)])),A=z[0];z=z[1];w=z;d("sendToSentQPLLogger").markSendToSentPoint(u,"fetch_ephemeral_settings_start");z=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(w.jid,n.threadKey));d("sendToSentQPLLogger").markSendToSentPoint(u,"fetch_ephemeral_settings_end");d("sendToSentQPLLogger").markSendToSentPoint(u,"fetch_external_attachment_blob_start");q==null?void 0:q.addMarkerPoint("fetch_external_attachment_blob_start","AppTiming");p=(yield d("MAWFetchExternalAttachmentBlob").fetchExternalAttachmentBlob(p,u));var B=new File([p],"stickerFromPicker",{type:p.type});d("sendToSentQPLLogger").markSendToSentPoint(u,"fetch_external_attachment_blob_end");q==null?void 0:q.addMarkerPoint("fetch_external_attachment_blob_end","AppTiming");q==null?void 0:q.addMarkerPoint("create_optimistic_message_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(u,"optimist_image_preprocess_start");B=(yield d("MAWImagePreProcess").optimisticImagePreprocess(B,!0));d("sendToSentQPLLogger").markSendToSentPoint(u,"optimist_image_preprocess_end");d("sendToSentQPLLogger").markSendToSentPoint(u,"create_optimistic_message_start");B=(yield k(t,n.threadKey,w,x,B,u,s,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER),r));B!=null?(v.set(x,{messageExternalId:r,offlineMsgTimestamp:B.offlineMsgTimestamp}),l(B.messageExternalId,B.offlineMsgTimestamp),d("sendToSentQPLLogger").markSendToSentPoint(u,"create_optimistic_message_end"),q==null?void 0:q.addMarkerPoint("create_optimistic_message_end","AppTiming")):(c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for sticker"),d("sendToSentQPLLogger").markSendToSentPoint(u,"create_optimistic_message_fail"),q==null?void 0:q.addMarkerPoint("create_optimistic_message_fail","AppTiming"));d("sendToSentQPLLogger").markSendToSentPoint(u,"image_preprocess_start");q==null?void 0:q.addMarkerPoint("image_preprocess_start","AppTiming");s=(yield d("MAWImagePreProcess").imagePreprocess(new File([p],"stickerFromPicker",{type:p.type}),!0));d("sendToSentQPLLogger").markSendToSentPoint(u,"image_preprocess_end");q==null?void 0:q.addMarkerPoint("image_preprocess_end","AppTiming");r=[[s,x]];B=new Map();B.set(x,o);p={actorId:a,attachments:r,axLabels:B,chatJid:w.jid,db:A,ephemeralSetting:z,initiatingSource:g,isFirstMsg:w.created,offlineAttachmentIdToMessageData:v,reply:t,s2sInstanceKey:u,source:y,thread:n};return yield d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(A,p)}catch(a){q=a instanceof Error?a.message:"Fail to send secure attachment message";s=Array.from(v.values()).map(function(a){a=a.messageExternalId;return a});w&&(yield m(s,q,w.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureStickerAttachmentMessage"],["Send sticker attachment message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a){return n.apply(this,arguments)}}(),[a,k,l,e,g,m,f])}g["default"]=a}),98);
__d("useMAWSendSecureVoiceClipAttachmentMessage",["FBLogger","Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWAudioPreProcess","MAWExternalId","MAWGetEphemeralSettings","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWMediaRenderQplUtils","MWPActor.react","MessagingAttachmentType","Promise","QPLUserFlow","WABlobToArrayBuffer","WALoggerDeferred","asyncToGeneratorRuntime","qpl","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMWLSDefaultThreadSource","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),g=c("useLSMessagingInitiatingSourceNumber")(),k=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),m=c("useMarkOptimisticMessagesAsFailed")();return d("Int64Hooks").useCallbackInt64(function(){var n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var o=n.lssTraceApi,p=n.messageExternalId,q=n.onGenerateOfflineMsgId,r=n.reply,s=n.s2sInstanceKey,t=n.thread;n=n.voiceClip;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureVoiceClipAttachmentMessage"],["Starting voice clip attachment message send"],"LOG");var u=new Map(),v;try{var w=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId()),x=e(t.threadKey),y=(yield (j||(j=b("Promise"))).all([(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,f(t.threadKey,s)])),z=y[0];y=y[1];v=y;y=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(v.jid,t.threadKey));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:s});c("QPLUserFlow").addAnnotations(c("qpl")._(25313175,"1551"),{string:{audio_duration_bucket:d("MWMediaRenderQplUtils").convertDurationToStringBucket(n.duration||0)}},{instanceKey:s});var A=(yield d("MAWAudioPreProcess").optimisticAudioPreprocess(n.file));o==null?void 0:o.addMarkerPoint("create_optimistic_message_start","AppTiming");A=(yield k(r,t.threadKey,v,w,A,s,q,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO),p));A!=null?(u.set(w,{messageExternalId:p,offlineMsgTimestamp:A.offlineMsgTimestamp}),l(A.messageExternalId,A.offlineMsgTimestamp),o==null?void 0:o.addMarkerPoint("create_optimistic_message_success","AppTiming")):(c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),o==null?void 0:o.addMarkerPoint("create_optimistic_message_fail","AppTiming"));q={durations:n.duration||0,file:n.file,isPtt:!0,plaintext:yield d("WABlobToArrayBuffer").blobToArrayBuffer(n.file),type:"audio"};p=[[q,w]];A={actorId:a,attachments:p,chatJid:v.jid,db:z,ephemeralSetting:y,initiatingSource:g,isFirstMsg:v.created,offlineAttachmentIdToMessageData:u,reply:r,s2sInstanceKey:s,source:x,thread:t};return yield d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(z,A)}catch(a){o=a instanceof Error?a.message:"Fail to send secure attachment message";n=Array.from(u.values()).map(function(a){a=a.messageExternalId;return a});v&&(yield m(n,o,v.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureVoiceClipAttachmentMessage"],["Send voice clip attachment message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a){return n.apply(this,arguments)}}(),[a,k,l,e,g,m,f])}g["default"]=a}),98);
__d("useMAWUpdateThreadCapabilities",["LSMessagingThreadTypeUtil","MAWUpdateLSThreadCapabilities","Promise","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),e=(i||(i=c("useReStore")))(),g;a[0]!==e?(g=function(a){return!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?(h||(h=b("Promise"))).resolve():e.runInTransaction(function(b){return d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(b,a.threadKey)},"readwrite",void 0,void 0,f.id+":37")},a[0]=e,a[1]=g):g=a[1];return g}g["default"]=a}),98);
__d("useMAWSendSecureMessageV2Impl",["FBLogger","I64","Int64Hooks","LSContactListConversionAttributionStore","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionTypeUtil","MAWMIC","MAWMICInternal","MAWMessageSendReporterV2","MAWOptimisticUpdateContactRelationship","MWLSLogSend","MWPActor.react","MWPBumpEntityKey","MWPReplyContext.react","MWSharedMsgLogUtils","MWVersion","MessageRequestsLog","MessengerClickImpressionEventsLoggerImpl","Promise","WALoggerDeferred","asyncToGeneratorRuntime","err","promiseDone","react","react-compiler-runtime","sendToSentQPLLogger","useAsyncReStore","useLSMessagingSource","useMAWDeleteLinkPreviewXMATableData","useMAWSendSecureGifAttachmentMessage","useMAWSendSecureLinkXMAMessage","useMAWSendSecureStagedMediaAttachmentMessage","useMAWSendSecureStickerAttachmentMessage","useMAWSendSecureTextMessage","useMAWSendSecureVoiceClipAttachmentMessage","useMAWUpdateThreadCapabilities","useMWLSUnarchiveThread","waitForMAWMIC"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function a(a,e,f){var g=d("react-compiler-runtime").c(31),i=d("MWPActor.react").useActor(),o=l(d("MWPReplyContext.react").MWPReplyContext),p=o.clearReply,q=c("useAsyncReStore")(),r=c("useLSMessagingSource")(),s=c("useMAWSendSecureTextMessage")(),t=c("useMAWSendSecureLinkXMAMessage")(e),u=c("useMAWDeleteLinkPreviewXMATableData")(e),v=c("useMAWSendSecureGifAttachmentMessage")(),w=c("useMAWSendSecureStagedMediaAttachmentMessage")(),x=c("useMAWSendSecureStickerAttachmentMessage")(),y=c("useMAWSendSecureVoiceClipAttachmentMessage")(),z=c("useMWLSUnarchiveThread")(),A=c("useMAWUpdateThreadCapabilities")(),B=d("MessengerClickImpressionEventsLoggerImpl").useGetUniqueThreadID(f,e);g[0]!==i||g[1]!==p||g[2]!==q||g[3]!==u||g[4]!==r||g[5]!==a||g[6]!==v||g[7]!==t||g[8]!==w||g[9]!==x||g[10]!==s||g[11]!==y||g[12]!==B||g[13]!==z||g[14]!==A?(o=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var f=e.accessibilityLabel,g=e.commands,l=e.composerEntrypointForLogging,o=e.currentDraftId,C=e.externalAttachmentUrl,D=e.hotEmojiSize,E=e.lssTraceApi,F=e.mediaStagings,G=e.mentionedJids,H=e.messageExternalId,I=e.messageText,J=e.messageTypeParams,K=e.reply,L=e.s2sInstanceKey,M=e.stickerId,N=e.thread;e=e.voiceClip;var O=d("MAWMIC").duringMIC();d("sendToSentQPLLogger").addSendToSentAnnotations(L,{bool:{during_mic:O}});O&&(d("sendToSentQPLLogger").markSendToSentPoint(L,"mic_track_start"),d("sendToSentQPLLogger").addSendToSentAnnotations(L,{string_array:{mic_events:Array.from(d("MAWMICInternal").getRemainingRequiredEvents())}}),c("promiseDone")(d("waitForMAWMIC").promise,function(){d("sendToSentQPLLogger").markSendToSentPoint(L,"mic_track_end")}));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer"],["Starting message send"],"LOG");d("sendToSentQPLLogger").markSendToSentPoint(L,"send_secure_message_start");E.addMarkerPoint("send_secure_message_started","AppTiming");var P=(yield q),Q=d("LSMessagingThreadTypeUtil").isMessageRequest(N),R=(j||(j=d("I64"))).equal(N.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(-10)),S=d("LSThreadAttributionTypeUtil").getSource(N.threadKey,r);d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(E,J,N,l);O=function(a){d("MWLSLogSend").logSentHeroInteraction(E,a,{isMessageRequest:Q,mwVersion:d("MWVersion").v2,source:(k||(k=d("LSIntEnum"))).unwrapIntEnum(S),threadType:N.threadType}),d("sendToSentQPLLogger").markSendToSentPoint(L,"offline_msg_id_generated")};var T=[],U=J.hasAttachment,V=J.hasLinks;I!=null&&I!==""&&(V?(T.push(t(P,{commands:g,currentDraftId:o,lssTraceApi:E,mentionedJids:G,messageExternalId:H,messageText:I,onGenerateOfflineMsgId:U?void 0:O,reply:K,s2sInstanceKey:L,thread:N,threadKey:N.threadKey}).then(function(a){o!=null&&u({draftId:o});return a})),d("sendToSentQPLLogger").markSendToSentPoint(L,"link_xma_message_promise_pushed_to_send_promises")):(T.push(s(P,{commands:g,hotEmojiSize:D,lssTraceApi:E,mentionedJids:G,messageExternalId:H,messageText:I,onGenerateOfflineMsgId:U?void 0:O,reply:K,s2sInstanceKey:L,thread:N})),d("sendToSentQPLLogger").markSendToSentPoint(L,"text_message_promise_pushed_to_send_promises")));l=!0;U&&(M!=null&&C!=null?(T.push(x({accessibilityLabel:f==null?void 0:f.toString(),externalAttachmentUrl:C,lssTraceApi:E,messageExternalId:H,onGenerateOfflineMsgId:O,reply:K,s2sInstanceKey:L,thread:N})),d("sendToSentQPLLogger").markSendToSentPoint(L,"sticker_message_promise_pushed_to_send_promises"),l=!1):C!=null?(T.push(v({accessibilityLabel:f==null?void 0:f.toString(),externalAttachmentUrl:C,lssTraceApi:E,messageExternalId:H,onGenerateOfflineMsgId:O,reply:K,s2sInstanceKey:L,thread:N})),l=!1):e!=null?(T.push(y({lssTraceApi:E,messageExternalId:H,onGenerateOfflineMsgId:O,reply:K,s2sInstanceKey:L,thread:N,voiceClip:e})),d("sendToSentQPLLogger").markSendToSentPoint(L,"voice_clip_message_promise_pushed_to_send_promises"),l=!1):F.length>0?(T.push(w({lssTraceApi:E,mediaStagings:F,messageTypeParams:J,onGenerateOfflineMsgId:O,reply:K,s2sInstanceKey:L,thread:N})),d("sendToSentQPLLogger").markSendToSentPoint(L,"staged_media_message_promise_pushed_to_send_promises")):(d("sendToSentQPLLogger").markSendToSentPoint(L,"no_send_promises_pushed_to_send_promises"),c("FBLogger")("messenger_web_media").mustfix("Unable to send attachment in useMAWSendSecureMessageV2Impl: incorrect params")));l&&a();p(N.threadKey,!1);d("sendToSentQPLLogger").markSendToSentPoint(L,"attachment_and_reply_data_cleared");T.length===0?(d("sendToSentQPLLogger").markSendToSentPoint(L,"create_send_promises_fail"),T.push(new(h||(h=b("Promise")))(function(a,b){b(c("err")("No send actions taken because hasAttachment="+U.toString()))}))):d("sendToSentQPLLogger").markSendToSentPoint(L,"create_send_promises_end",void 0,{"int":{send_promise_count:T.length}});d("sendToSentQPLLogger").markSendToSentPoint(L,"resolve_send_promises_start");(T.length>1||F.length>1)&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_message_send","send:"+T.length+".media:"+F.length);return(h||(h=b("Promise"))).all(T).then(n).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("sendToSentQPLLogger").markSendToSentPoint(L,"resolve_send_promises_end");if(I!=null&&I!==""&&V)if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())return a;else d("sendToSentQPLLogger").markSendToSentSuccess(L);yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer"],["Send message is done"],"LOG");var b=d("LSContactListConversionAttributionStore").getAttribution(B);b!=null&&B!=null&&(d("MessengerClickImpressionEventsLoggerImpl").logConversionClickEvent(b),d("LSContactListConversionAttributionStore").resetAttribution(B));d("MAWOptimisticUpdateContactRelationship").call(N,P,i);yield A(N);Q&&d("MessageRequestsLog").logActionConfirmed(N,1);R&&z(N.threadKey);b=a==null?void 0:a.find(m);d("sendToSentQPLLogger").markSendToSentPoint(L,"send_attachment_end");return b!=null?[b]:a});return function(b){return a.apply(this,arguments)}}())["catch"](function(a){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(L,"message_send_fail",a);if(a instanceof Error){var b;c("FBLogger")("messenger_web_messaging").catching(a).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+U.toString()).mustfix("Failed while sending %s secure messages in useMAWSendSecureMessageV2Impl: %s",T.length,(b=a.message)!=null?b:String(a))}else c("FBLogger")("messenger_web_messaging").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+U.toString()).mustfix("Failed while sending secure message in useMAWSendSecureMessageV2Impl, %s",a.message);throw a})});return function(a){return e.apply(this,arguments)}}(),g[0]=i,g[1]=p,g[2]=q,g[3]=u,g[4]=r,g[5]=a,g[6]=v,g[7]=t,g[8]=w,g[9]=x,g[10]=s,g[11]=y,g[12]=B,g[13]=z,g[14]=A,g[15]=o):o=g[15];g[16]!==i||g[17]!==p||g[18]!==q||g[19]!==u||g[20]!==r||g[21]!==a||g[22]!==v||g[23]!==t||g[24]!==w||g[25]!==x||g[26]!==s||g[27]!==y||g[28]!==z||g[29]!==A?(f=[q,r,p,i,A,t,u,s,x,v,y,w,a,z],g[16]=i,g[17]=p,g[18]=q,g[19]=u,g[20]=r,g[21]=a,g[22]=v,g[23]=t,g[24]=w,g[25]=x,g[26]=s,g[27]=y,g[28]=z,g[29]=A,g[30]=f):f=g[30];return d("Int64Hooks").useCallbackInt64(o,f)}function m(a){return(a==null?void 0:a.success)===!1}function n(a){return a.flat(1)}g["default"]=a}),98);
__d("useMAWSendSecureMessageV2",["I64","LSIntEnum","LSThreadAttributionTypeUtil","MAWExternalId","MAWJids","MAWMediaGalleryM2Utils","MAWMessageSendReporterV2","MWMsgMediaTypeLogUtils","MWPReplyContext.react","MWPreloadableQueries","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWV2ComposerActionsContext.react","ReQL","WACommon.pb","WALoggerDeferred","asyncToGeneratorRuntime","getMWIsDefaultHotlikeStickerId","gkx","justknobx","promiseDone","qpl","react","react-compiler-runtime","sendToSentQPLLogger","unrecoverableViolation","useAsyncReStore","useCometInteractionTracing","useIsSecureMessageData","useLSMessagingSource","useMAWSendSecureMessageV2Impl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function a(a,e,f){var g=d("react-compiler-runtime").c(17),h=k(d("MWPReplyContext.react").MWPReplyContext),m=h.reply;h=m==null?void 0:m.messageId;var n=m==null?void 0:m.threadKey,o=m==null?void 0:m.timestampMs,p;g[0]!==h||g[1]!==n||g[2]!==o?(p={messageId:h,messageThreadKey:n,messageTimestamp:o},g[0]=h,g[1]=n,g[2]=o,g[3]=p):p=g[3];g[4]!==a.threadType?(h={fallbackThreadType:a.threadType},g[4]=a.threadType,g[5]=h):h=g[5];var q=c("useIsSecureMessageData")(p,h);n=k(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var r=n.onMessageSendAttempt,s=c("useMAWSendSecureMessageV2Impl")(f,a.threadType,a.threadKey);g[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=c("qpl")._(30605384,"573"),g[6]=o):o=g[6];var t=c("useCometInteractionTracing")(o,"fast","INTERACTION",void 0),u=c("useAsyncReStore")(),v=c("useLSMessagingSource")();g[7]!==u||g[8]!==q||g[9]!==v||g[10]!==e||g[11]!==r||g[12]!==m||g[13]!==s||g[14]!==a||g[15]!==t?(p=function(f,g,h,k,n,o,p,w,x,y,z,A,B,C,D,E,F,G){c("promiseDone")(d("WALoggerDeferred").logWithTags(["Composer"],["Calling useMAWSendSecureMessageV2"],"LOG"));var H=[],I=[];for(p of(n=g)!=null?n:[]){bb18:switch(p.type){case"t":H.push({commandType:d("WACommon.pb").COMMAND_COMMAND_TYPE.EVERYONE,length:p.length,offset:p.offset});break bb18;default:I.push(d("MAWJids").toUserJid(p.id))}}var J;J=f;h!=null&&c("getMWIsDefaultHotlikeStickerId")((i||(i=d("I64"))).to_string(h))&&(J="\ud83d\udc4d");var K=d("MAWExternalId").generateExternalId();c("promiseDone")(u,function(g){r==null?void 0:r(!0),t(function(i){var n=function(b,f,g){return s({accessibilityLabel:G,commands:H,composerEntrypointForLogging:E,currentDraftId:D,externalAttachmentUrl:o,hotEmojiSize:k,lssTraceApi:i,mediaStagings:g,mentionedJids:I,messageExternalId:K,messageText:J,messageTypeParams:f,reply:q?m:void 0,s2sInstanceKey:b,stickerId:h,thread:a,voiceClip:w}).then(function(a){var b=a.some(l);b||(e(),c("justknobx")._("2486")&&(y&&y()));return a})["catch"](function(a){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(b,"message_send_fail",a);i.failTrace(a,!0);throw c("unrecoverableViolation")("Encountered failure during Armadillo Message Send (UI)","messenger_web_messaging",{error:a})})};if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())c("promiseDone")(d("MAWMessageSendReporterV2").MAWMessageSendReporterV2({composerEntrypoint:E,externalId:K,extraAnnotations:{bool:{is_media_gallery_restore_enabled:d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled()}},lsSource:v,messageTypeParamsArgs:{externalAttachmentUrl:o,hotEmojiSize:k,messageText:f,reply:m,stickerId:h,voiceClip:w},thread:a},n,g));else if(c("gkx")("11536"))c("promiseDone")(d("MWSharedS2SBaseAnnotations").queryMediaStagingAndGetMessageTypeParams({db:g,externalAttachmentUrl:o,hotEmojiSize:k,messageText:f,reply:m,stickerId:h,threadKey:a==null?void 0:a.threadKey,threadType:a.threadType,voiceClip:w}),function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.mediaStagings;b=b.messageTypeParams;var e=d("MWMsgMediaTypeLogUtils").getAttachmentType({hasFile:b.hasFile,hasGif:b.hasGif,hasHotEmoji:b.hasHotEmoji,hasImage:b.hasImage,hasLinks:b.hasLinks,hasShare:b.hasShare,hasSticker:b.hasSticker,hasVideo:b.hasVideo,hasVoiceClip:b.hasVoiceClip,isAttachmentsGrouped:b.isAttachmentsGrouped,numberOfAttachments:b.numberOfAttachments,numberOfGroupedAttachments:b.numberOfGroupedAttachments});e=d("sendToSentQPLLogger").markSendToSentStart(void 0,e);var f=d("LSThreadAttributionTypeUtil").getSource(a.threadKey,v);d("sendToSentQPLLogger").addSendToSentAnnotations(e,yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(a,b,(j||(j=d("LSIntEnum"))).unwrapIntEnum(f),E));return n(e,b,c)});return function(a){return c.apply(this,arguments)}}());else{var p=d("sendToSentQPLLogger").markSendToSentStart();d("sendToSentQPLLogger").addSendToSentAnnotations(p,{bool:{is_media_gallery_restore_enabled:d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled()}});c("promiseDone")(d("sendToSentQPLLogger").measureSendToSentPerformance("get_media_staging_query",p,function(){return d("ReQL").toArrayAsync(d("MWPreloadableQueries").getMediaStagingQuery(g,a.threadKey))}),function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=d("MWSharedS2SBaseAnnotations").getMessageTypeParams({externalAttachmentUrl:o,hotEmojiSize:k,mediaStagings:b,messageText:f,reply:m,stickerId:h,threadType:a.threadType,voiceClip:w}),e=d("LSThreadAttributionTypeUtil").getSource(a.threadKey,v);d("sendToSentQPLLogger").addSendToSentAnnotations(p,yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(a,c,(j||(j=d("LSIntEnum"))).unwrapIntEnum(e),E));return n(p,c,b)});return function(a){return c.apply(this,arguments)}}())}})})},g[7]=u,g[8]=q,g[9]=v,g[10]=e,g[11]=r,g[12]=m,g[13]=s,g[14]=a,g[15]=t,g[16]=p):p=g[16];return p}function l(a){return(a==null?void 0:a.success)===!1}g["default"]=a}),98);
__d("useMWInboxMessageSearchRestoreTrigger",["Int64Hooks","MAWFTSRestoreSyncDeferred","MAWMiActOnActThreadReadyDeferred","MWLSThreadDisplayContext","Promise","justknobx","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useRef,k=c("justknobx")._("2655");function a(a,e){var f=d("react-compiler-runtime").c(5),g=j(null),i=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),m,n;f[0]!==a||f[1]!==i||f[2]!==e?(m=function(){if(i!=="Inbox")return;g.current!=null&&window.clearTimeout(g.current);g.current=window.setTimeout(function(){c("promiseDone")(d("MAWFTSRestoreSyncDeferred").getInstance().then(function(d){c("promiseDone")(c("MAWMiActOnActThreadReadyDeferred")(a,e,"useMWInboxMessageSearchRestoreTrigger",function(a,e){d.setActiveThreadId(e);c("promiseDone")(d.startSyncingLoop());return(h||(h=b("Promise"))).resolve()}))}))},k);return function(){c("promiseDone")(d("MAWFTSRestoreSyncDeferred").getInstance().then(l)),g.current!=null&&window.clearTimeout(g.current)}},n=[a,i,e],f[0]=a,f[1]=i,f[2]=e,f[3]=m,f[4]=n):(m=f[3],n=f[4]);d("Int64Hooks").useEffectInt64(m,n)}function l(a){a.setActiveThreadId(null)}g["default"]=a}),98);
__d("useReactionsMAWNoop",["react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=d("react-compiler-runtime").c(1);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("useThreadHasCompletedEBFrontLoadingNoop",[],(function(a,b,c,d,e,f){"use strict";function a(a){return!1}f["default"]=a}),66);